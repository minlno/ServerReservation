{"version":3,"file":"js/152.56681307.js","mappings":"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","sources":["webpack://server-reservation/./src/views/ServerList.vue","webpack://server-reservation/./src/views/ServerList.vue?7dcc","webpack://server-reservation/./src/utils/deviceFieldConfig.js"],"sourcesContent":["<template>\n  <div class=\"server-list\">\n    <!-- Home icon button using common styles -->\n    <router-link to=\"/home\" class=\"home-icon-button\" title=\"Home\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n        <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n        <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n      </svg>\n    </router-link>\n    \n    <h2>Server List</h2>\n    \n    <!-- Add ownership toggle -->\n    <div class=\"ownership-toggle-container\">\n      <div class=\"app-toggle-buttons-small\">\n        <button \n          :class=\"{ active: ownershipFilter === 'all' }\" \n          @click=\"ownershipFilter = 'all'\"\n        >\n          All\n        </button>\n        <button \n          :class=\"{ active: ownershipFilter === 'owned' }\" \n          @click=\"ownershipFilter = 'owned'\"\n        >\n          Owned\n        </button>\n        <button \n          v-if=\"currentUserEmail\"\n          :class=\"{ active: ownershipFilter === 'favorite' }\" \n          @click=\"ownershipFilter = 'favorite'\"\n        >\n          Favorites\n        </button>\n      </div>\n    </div>\n    \n    <!-- Server filter using common styles -->\n    <div class=\"filter-container\">\n      <div class=\"filter\">\n        <label for=\"serverFilter\">Filter servers:</label>\n        <input\n          type=\"text\"\n          id=\"serverFilter\"\n          v-model=\"serverFilter\"\n          placeholder=\"Server name, CPU type, or attached device (name/serial)\"\n          class=\"filter-input\"\n        />\n        <button \n          v-if=\"serverFilter\" \n          class=\"clear-filter-btn\" \n          @click=\"clearFilter\" \n          title=\"Clear filter\"\n        >\n          Ã—\n        </button>\n      </div>\n      <div class=\"filter-stats\" v-if=\"serverFilter\">\n        Showing {{ filteredServers.length }} of {{ servers.length }} servers\n      </div>\n    </div>\n    \n    <!-- Server grid using unified item-grid styles -->\n    <div class=\"item-grid\">\n      <div \n        v-for=\"server in filteredServers\" \n        :key=\"server.id\" \n        class=\"item-card item-card-with-border\"\n        :class=\"[\n          getCpuColorClass(server.cpuType), \n          getStatusColor(server.status) === 'status-red' ? 'unusable-server' : ''\n        ]\"\n      >\n        <div class=\"card-header\">\n          <div class=\"name-and-owner\">\n            <h3>{{ server.name }}</h3>\n            <!-- Owner icon next to server name -->\n            <span v-if=\"server.owner\" class=\"owner-indicator\" :title=\"`Owned by: ${server.owner}`\">\n              <span class=\"owner-icon\">ðŸ‘¤</span>\n              <span class=\"owner-name\">{{ server.owner }}</span>\n            </span>\n          </div>\n          <!-- Update to include the favorite star button -->\n          <div class=\"status-container\">\n            <!-- Add favorite button for logged-in users -->\n            <button \n              v-if=\"currentUserEmail\"\n              @click.stop=\"toggleFavorite(server.id)\" \n              class=\"favorite-btn\"\n              :class=\"{ 'is-favorite': isServerFavorite(server.id) }\"\n              :title=\"isServerFavorite(server.id) ? 'Remove from favorites' : 'Add to favorites'\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path :fill=\"isServerFavorite(server.id) ? 'currentColor' : 'none'\" \n                      :stroke=\"isServerFavorite(server.id) ? 'none' : 'currentColor'\"\n                      stroke-width=\"1.5\"\n                      d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/>\n              </svg>\n            </button>\n            <div class=\"status-indicator\">\n              <span class=\"status-circle\" :class=\"getStatusColor(server.status)\"></span>\n              <span class=\"status-text\">{{ formatStatus(server.status) }}</span>\n            </div>\n          </div>\n          <button class=\"expand-btn\" @click=\"toggleExpand(server.id)\">\n            {{ isExpanded(server.id) ? 'âˆ’' : '+' }}\n          </button>\n        </div>\n        \n        <!-- Always show basic info -->\n        <p v-if=\"server.cpuType\"><strong>CPU:</strong> {{ server.cpuType }}</p>\n        <p v-if=\"server.ip\"><strong>IP:</strong> {{ formatIp(server.ip) }}</p>\n        <p v-if=\"server.location\"><strong>Location:</strong> {{ server.location }}</p>\n        \n        <!-- Expanded content -->\n        <div v-if=\"isExpanded(server.id)\" class=\"expanded-content\">\n          <hr>\n          \n          <!-- Show sudo username if available -->\n          <div v-if=\"server.sudoUser\" class=\"detail-row\">\n            <strong>Sudo Username:</strong> {{ server.sudoUser }}\n          </div>\n          \n          <!-- Show sudo password (masked) if available - only for admin/normal users -->\n          <div v-if=\"server.sudoUserPassword && hasViewPermissions()\" class=\"detail-row\">\n            <strong>Sudo Password:</strong> \n            <span class=\"password-field\">\n              {{ isSudoPasswordVisible(server.id) ? server.sudoUserPassword : 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢' }}\n              <button \n                class=\"toggle-password\" \n                @click=\"toggleSudoPassword(server.id)\" \n                :title=\"isSudoPasswordVisible(server.id) ? 'Hide sudo password' : 'Show sudo password'\"\n              >\n                <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" fill=\"none\">\n                  <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                  <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                </svg>\n              </button>\n            </span>\n          </div>\n          \n          <!-- Show BMC IP if available -->\n          <div v-if=\"server.bmcIp\" class=\"detail-row\">\n            <strong>BMC IP:</strong>\n            <span class=\"bmc-links-container\">\n              <a\n                v-for=\"(ip, index) in parseBmcIps(server.bmcIp)\"\n                :key=\"index\"\n                :href=\"`https://${ip}`\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                class=\"bmc-link\"\n              >\n                {{ ip }}\n              </a>\n            </span>\n          </div>\n          \n          <!-- Show BMC username if available -->\n          <div v-if=\"server.bmcUser\" class=\"detail-row\">\n            <strong>BMC Username:</strong> {{ server.bmcUser }}\n          </div>\n          \n          <!-- Show BMC password (masked) if available - only for admin/normal users -->\n          <div v-if=\"server.bmcPassword && hasViewPermissions()\" class=\"detail-row\">\n            <strong>BMC Password:</strong> \n            <span class=\"password-field\">\n              {{ isBmcPasswordVisible(server.id) ? server.bmcPassword : 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢' }}\n              <button \n                class=\"toggle-password\" \n                @click=\"toggleBmcPassword(server.id)\" \n                :title=\"isBmcPasswordVisible(server.id) ? 'Hide BMC password' : 'Show BMC password'\"\n              >\n                <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" fill=\"none\">\n                  <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                  <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                </svg>\n              </button>\n            </span>\n          </div>\n          \n          <!-- Show Ubuntu version if available -->\n          <div v-if=\"server.ubuntuVersion\" class=\"detail-row\">\n            <strong>Ubuntu Version:</strong> {{ server.ubuntuVersion }}\n          </div>\n          \n          <!-- Show note if available - updated with truncation and expansion capability -->\n          <div v-if=\"server.note\" class=\"detail-row\">\n            <strong>Note:</strong>\n            <div\n              class=\"note-content\"\n              :class=\"{ 'truncated': !expandedNotes.has(server.id), 'expanded': expandedNotes.has(server.id) }\"\n              @click=\"handleNoteClick($event, server.id)\"\n              v-html=\"linkifyText(server.note)\"\n            >\n            </div>\n            <div class=\"note-expand-indicator\" v-if=\"isNoteTruncated(server.note)\">\n              {{ expandedNotes.has(server.id) ? '(Click to collapse)' : '(Click to expand)' }}\n            </div>\n          </div>\n          \n          <!-- Show attached devices if available -->\n          <div v-if=\"server.attachedDevices && server.attachedDevices.length\" class=\"detail-row\">\n            <strong>Attached Devices:</strong>\n            <div class=\"attached-devices-chips\">\n              <div \n                v-for=\"deviceId in server.attachedDevices\" \n                :key=\"deviceId\" \n                class=\"device-chip clickable-chip\"\n                :class=\"getDeviceTypeColorClass(deviceId)\"\n                @click=\"navigateToDevice(deviceId)\"\n                title=\"Click to see this device in Device List\"\n              >\n                {{ getDeviceName(deviceId) }}\n              </div>\n            </div>\n          </div>\n          \n          <!-- Show other fields -->\n          <div \n            v-for=\"(value, key) in getFilteredAdditionalFields(server)\" \n            :key=\"key\" \n            class=\"detail-row\"\n          >\n            <strong>{{ formatFieldName(key) }}:</strong> {{ value }}\n          </div>\n          \n          <div class=\"button-row\">\n            <button \n              class=\"action-btn edit-btn\" \n              @click=\"openEditForm(server)\" \n              :disabled=\"!canEditServer(server)\">\n              Edit\n            </button>\n            <button class=\"action-btn reserve-btn\" @click=\"reserveServer(server)\">Reserve</button>\n            <button class=\"action-btn spec-btn\" @click=\"showSystemSpecs(server)\">System Specs</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Show message when no servers match filter -->\n    <div v-if=\"serverFilter && filteredServers.length === 0\" class=\"no-results\">\n      <p>No servers match your filter criteria.</p>\n      <button @click=\"clearFilter\" class=\"clear-filter-button\">Clear Filter</button>\n    </div>\n    \n    <!-- Floating add server button - only shown if user can add server -->\n    <button\n      class=\"floating-add-button\" \n      @click=\"openNewServerForm\">+\n    </button>\n    \n    <!-- New Server Modal - fixed structure -->\n    <div v-if=\"showNewServerModal\" class=\"modal-overlay\" @click.self=\"cancelNewServer\">\n      <div class=\"modal server-form-modal\">\n        <h3>Add New Server</h3>\n        <div class=\"form-content\">\n          <div class=\"form-group\">\n            <label for=\"serverName\">Server Name <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"serverName\" v-model=\"newServer.name\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"cpuType\">CPU Type <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"cpuType\" v-model=\"newServer.cpuType\" required placeholder=\"e.g. SPR, HSW, EPYC\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"ip\">IP Address <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"ip\" v-model=\"newServer.ip\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"owner\">Owner <span class=\"required-field\">*</span></label>\n            <input \n              type=\"text\" \n              id=\"owner\" \n              v-model=\"newServer.owner\" \n              :disabled=\"!isAdmin()\" \n              required\n            >\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"status\">Status</label>\n            <select id=\"status\" v-model=\"newServer.status\">\n              <option value=\"on\">On</option>\n              <option value=\"retired\">Retired</option>\n              <option value=\"temporarily unavailable\">Temporarily Unavailable</option>\n            </select>\n          </div>\n          \n          <!-- Add location field to the new server form -->\n          <div class=\"form-group\">\n            <label for=\"location\">Location <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"location\" v-model=\"newServer.location\" placeholder=\"e.g. Room 101, Rack 3\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"sudoUser\">Sudo Username <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"sudoUser\" v-model=\"newServer.sudoUser\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"sudoUserPassword\">Sudo Password <span class=\"required-field\">*</span></label>\n            <input type=\"password\" id=\"sudoUserPassword\" v-model=\"newServer.sudoUserPassword\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"bmcIp\">BMC IP</label>\n            <input type=\"text\" id=\"bmcIp\" v-model=\"newServer.bmcIp\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"bmcUser\">BMC Username</label>\n            <input type=\"text\" id=\"bmcUser\" v-model=\"newServer.bmcUser\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"bmcPassword\">BMC Password</label>\n            <input type=\"password\" id=\"bmcPassword\" v-model=\"newServer.bmcPassword\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"ubuntuVersion\">Ubuntu Version</label>\n            <input type=\"text\" id=\"ubuntuVersion\" v-model=\"newServer.ubuntuVersion\" placeholder=\"e.g. 22.04 LTS\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"cpu\">CPU</label>\n            <input type=\"text\" id=\"cpu\" v-model=\"newServer.cpu\" placeholder=\"e.g. Xeon Gold 6240\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"cpuFreq\">CPU Frequency</label>\n            <input type=\"text\" id=\"cpuFreq\" v-model=\"newServer.cpuFreq\" placeholder=\"e.g. 2.60 GHz\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"motherboard\">Motherboard</label>\n            <input type=\"text\" id=\"motherboard\" v-model=\"newServer.motherboard\" placeholder=\"e.g. Gigabyte AA112233\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"numSockets\">Number of Sockets</label>\n            <input type=\"number\" id=\"numSockets\" v-model.number=\"newServer.numSockets\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"coresPerSocket\">CPU Cores per Socket</label>\n            <input type=\"number\" id=\"coresPerSocket\" v-model.number=\"newServer.coresPerSocket\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"memorySlots\">Memory Slots</label>\n            <input type=\"text\" id=\"memorySlots\" v-model=\"newServer.memorySlots\" placeholder=\"e.g. 12 x 4 (12 slots per socket)\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"dimmType\">DIMM Type</label>\n            <input type=\"text\" id=\"dimmType\" v-model=\"newServer.dimmType\" placeholder=\"e.g. DDR4 3200 32GB\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"numDimms\">Number of DIMMs</label>\n            <input type=\"text\" id=\"numDimms\" v-model=\"newServer.numDimms\" placeholder=\"e.g. 4 32GB, 4 16GB, 4 16GB, 4 16GB\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"note\">Note</label>\n            <textarea \n              id=\"note\" \n              v-model=\"newServer.note\" \n              placeholder=\"e.g. useful links to mother board/CPU datasheets.\"\n              rows=\"3\"\n              class=\"form-textarea\"\n            ></textarea>\n          </div>\n          \n          <div class=\"form-group device-selection-container\">\n            <label>Attached Devices</label>\n            \n            <div class=\"device-filter\">\n              <label for=\"deviceTypeFilter\">Filter by Type:</label>\n              <select id=\"deviceTypeFilter\" v-model=\"deviceTypeFilter\" class=\"device-type-filter\">\n                <option value=\"\">All Types</option>\n                <option value=\"NIC\">NIC</option>\n                <option value=\"SSD\">SSD</option>\n                <option value=\"FPGA\">FPGA</option>\n                <option value=\"GPU\">GPU</option>\n                <option value=\"CXL(FPGA)\">CXL(FPGA)</option>\n                <option value=\"CXL(ASIC)\">CXL(ASIC)</option>\n              </select>\n            </div>\n            \n            <div v-if=\"hasHiddenSelectedDevices\" class=\"filter-notice\">\n              <i>Note: Some selected devices are hidden by the current filter.</i>\n              <button class=\"show-all-btn\" @click=\"deviceTypeFilter = ''\">Show All</button>\n            </div>\n            \n            <div class=\"devices-selection\">\n              <div v-if=\"filteredDevices.length === 0\" class=\"no-devices-message\">\n                No available devices{{ deviceTypeFilter ? ' of type ' + deviceTypeFilter : '' }}\n              </div>\n              <div \n                v-for=\"device in filteredDevices\" \n                :key=\"device.id\" \n                class=\"device-option\"\n                :class=\"{ 'selected': newServer.attachedDevices.includes(device.id) }\"\n                @click=\"handleDeviceOptionClick(newServer.attachedDevices, device.id)\"\n              >\n                <div class=\"device-label\">\n                  <span class=\"device-name\">{{ device.name }}</span>\n                  <span class=\"device-type-badge\">{{ device.type || 'Unknown' }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"modal-actions\">\n          <button @click=\"saveNewServer\" class=\"save-btn\">Save Server</button>\n          <button @click=\"cancelNewServer\" class=\"cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Edit Server Modal - fixed structure -->\n    <div v-if=\"showEditServerModal\" class=\"modal-overlay\" @click.self=\"cancelEditServer\">\n      <div class=\"modal server-form-modal\">\n        <h3>Edit Server: {{ editingServer.name }}</h3>\n        <div class=\"form-content\">\n          <div class=\"form-group\">\n            <label for=\"editServerName\">Server Name <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"editServerName\" v-model=\"editingServer.name\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editCpuType\">CPU Type <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"editCpuType\" v-model=\"editingServer.cpuType\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editIp\">IP Address <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"editIp\" v-model=\"editingServer.ip\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editOwner\">Owner <span class=\"required-field\">*</span></label>\n            <input \n              type=\"text\" \n              id=\"editOwner\" \n              v-model=\"editingServer.owner\" \n              :disabled=\"!isAdmin()\" \n              required\n            >\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"editStatus\">Status</label>\n            <select id=\"editStatus\" v-model=\"editingServer.status\">\n              <option value=\"on\">On</option>\n              <option value=\"retired\">Retired</option>\n              <option value=\"temporarily unavailable\">Temporarily Unavailable</option>\n            </select>\n          </div>\n          \n          <!-- Add location field to the edit server form -->\n          <div class=\"form-group\">\n            <label for=\"editLocation\">Location <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"editLocation\" v-model=\"editingServer.location\" placeholder=\"e.g. Room 101, Rack 3\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editSudoUser\">Sudo Username <span class=\"required-field\">*</span></label>\n            <input type=\"text\" id=\"editSudoUser\" v-model=\"editingServer.sudoUser\" required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editSudoUserPassword\">Sudo Password <span class=\"required-field\">*</span></label>\n            <div class=\"password-input-container\">\n              <input \n                :type=\"editPasswordVisible ? 'text' : 'password'\" \n                id=\"editSudoUserPassword\" \n                v-model=\"editingServer.sudoUserPassword\" \n                required\n              >\n              <button \n                type=\"button\" \n                class=\"toggle-password-btn\" \n                @click=\"editPasswordVisible = !editPasswordVisible\"\n              >\n                <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" fill=\"none\">\n                  <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                  <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                </svg>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editBmcIp\">BMC IP</label>\n            <input type=\"text\" id=\"editBmcIp\" v-model=\"editingServer.bmcIp\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editBmcUser\">BMC Username</label>\n            <input type=\"text\" id=\"editBmcUser\" v-model=\"editingServer.bmcUser\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editBmcPassword\">BMC Password</label>\n            <div class=\"password-input-container\">\n              <input \n                :type=\"editBmcPasswordVisible ? 'text' : 'password'\" \n                id=\"editBmcPassword\" \n                v-model=\"editingServer.bmcPassword\"\n              >\n              <button \n                type=\"button\" \n                class=\"toggle-password-btn\" \n                @click=\"editBmcPasswordVisible = !editBmcPasswordVisible\"\n              >\n                <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" fill=\"none\">\n                  <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                  <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                </svg>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editUbuntuVersion\">Ubuntu Version</label>\n            <input type=\"text\" id=\"editUbuntuVersion\" v-model=\"editingServer.ubuntuVersion\" placeholder=\"e.g. 22.04 LTS\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"editCPU\">CPU</label>\n            <input type=\"text\" id=\"editCPU\" v-model=\"editingServer.cpu\" placeholder=\"e.g. Xeon Gold 6240\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"editCPUFreq\">CPU Frequency</label>\n            <input type=\"text\" id=\"editCPUFreq\" v-model=\"editingServer.cpuFreq\" placeholder=\"e.g. 2.60 GHz\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editMotherboard\">Motherboard</label>\n            <input type=\"text\" id=\"editMotherboard\" v-model=\"editingServer.motherboard\" placeholder=\"e.g. Gigabyte AA112233\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editNumSockets\">Number of Sockets</label>\n            <input type=\"number\" id=\"editNumSockets\" v-model.number=\"editingServer.numSockets\">\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"editCoresPerSocket\">CPU Cores per Socket</label>\n            <input type=\"number\" id=\"editCoresPerSocket\" v-model.number=\"editingServer.coresPerSocket\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"editMemorySlots\">Memory Slots</label>\n            <input type=\"text\" id=\"editMemorySlots\" v-model=\"editingServer.memorySlots\" placeholder=\"e.g. 12 x 4 (12 slots per socket)\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"editDimmType\">DIMM Type</label>\n            <input type=\"text\" id=\"editDimmType\" v-model=\"editingServer.dimmType\" placeholder=\"e.g. DDR4 3200 32GB\">\n          </div> \n\n          <div class=\"form-group\">\n            <label for=\"editNumDimms\">Number of DIMMs</label>\n            <input type=\"text\" id=\"editNumDimms\" v-model=\"editingServer.numDimms\" placeholder=\"e.g. 4 32GB, 4 16GB, 4 16GB, 4 16GB\">\n          </div>\n                    \n          <div class=\"form-group\">\n            <label for=\"editNote\">Note</label>\n            <textarea \n              id=\"editNote\" \n              v-model=\"editingServer.note\" \n              placeholder=\"e.g. useful links to mother board/CPU datasheets.\"\n              rows=\"3\"\n              class=\"form-textarea\"\n            ></textarea>\n          </div>\n          \n          <div class=\"form-group device-selection-container\">\n            <label>Attached Devices</label>\n            \n            <div class=\"device-filter\">\n              <label for=\"editDeviceTypeFilter\">Filter by Type:</label>\n              <select id=\"editDeviceTypeFilter\" v-model=\"deviceTypeFilter\" class=\"device-type-filter\">\n                <option value=\"\">All Types</option>\n                <option value=\"NIC\">NIC</option>\n                <option value=\"SSD\">SSD</option>\n                <option value=\"FPGA\">FPGA</option>\n                <option value=\"GPU\">GPU</option>\n                <option value=\"CXL(FPGA)\">CXL(FPGA)</option>\n                <option value=\"CXL(ASIC)\">CXL(ASIC)</option>\n              </select>\n            </div>\n            \n            <div v-if=\"hasHiddenSelectedDevices\" class=\"filter-notice\">\n              <i>Note: Some attached devices are hidden by the current filter.</i>\n              <button class=\"show-all-btn\" @click=\"deviceTypeFilter = ''\">Show All</button>\n            </div>\n            \n            <div class=\"devices-selection\">\n              <div v-if=\"filteredDevices.length === 0\" class=\"no-devices-message\">\n                No available devices{{ deviceTypeFilter ? ' of type ' + deviceTypeFilter : '' }}\n              </div>\n              <div \n                v-for=\"device in filteredDevices\" \n                :key=\"device.id\" \n                class=\"device-option\"\n                :class=\"{ \n                  'selected': editingServer.attachedDevices && editingServer.attachedDevices.includes(device.id),\n                  'already-attached': isDeviceAttachedToAnotherServer(device.id)\n                }\"\n                @click=\"isDeviceAttachedToAnotherServer(device.id) ? null : handleDeviceOptionClick(editingServer.attachedDevices, device.id)\"\n              >\n                <div class=\"device-label\">\n                  <span class=\"device-name\">{{ device.name }}</span>\n                  <div class=\"device-label-content\">\n                    <span class=\"device-type-badge\">{{ device.type || 'Unknown' }}</span>\n                    <span v-if=\"isDeviceAttachedToAnotherServer(device.id)\" class=\"attached-elsewhere-note\">\n                      (Attached to another server)\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"modal-actions\">\n          <button @click=\"saveEditServer\" class=\"save-btn\">Save Changes</button>\n          <button @click=\"cancelEditServer\" class=\"cancel-btn\">Cancel</button>\n          <button \n            v-if=\"canDeleteServer(editingServer)\" \n            @click=\"confirmDeleteServer\" \n            class=\"delete-btn\"\n          >Delete Server</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- System Specs Modal - fixed structure -->\n    <div v-if=\"showSpecsModal\" class=\"modal-overlay\" @click.self=\"closeSystemSpecs\">\n      <div class=\"modal specs-modal\">\n        <h3>System Specifications: {{ activeSpecServer?.name }}</h3>\n        \n        <div class=\"specs-content form-content\">\n          <div class=\"spec-row\">\n            <strong>CPU:</strong> {{ activeSpecServer?.cpu || 'N/A' }}\n          </div>\n          \n          <div class=\"spec-row\">\n            <strong>CPU Frequency:</strong> {{ activeSpecServer?.cpuFreq || 'N/A' }}\n          </div>\n          \n          <div class=\"spec-row\">\n            <strong>Motherboard:</strong> {{ activeSpecServer?.motherboard || 'N/A' }}\n          </div>\n          \n          <div class=\"spec-row\">\n            <strong>Number of Sockets:</strong> {{ activeSpecServer?.numSockets || 'N/A' }}\n          </div>\n          \n          <div class=\"spec-row\">\n            <strong>CPU Cores per Socket:</strong> {{ activeSpecServer?.coresPerSocket || 'N/A' }}\n          </div>\n          \n          <div class=\"spec-row\">\n            <strong>Memory Slots:</strong> {{ activeSpecServer?.memorySlots || 'N/A' }}\n          </div>\n          \n          <div class=\"spec-row\">\n            <strong>DIMM Type:</strong> {{ activeSpecServer?.dimmType || 'N/A' }}\n          </div>\n          \n          <div class=\"spec-row\">\n            <strong># of DIMMs:</strong> {{ activeSpecServer?.numDimms || 'N/A' }}\n          </div>\n          \n        </div>\n        \n        <div class=\"modal-actions\">\n          <button @click=\"closeSystemSpecs\" class=\"close-btn\">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { firestore } from '@/firebase'\nimport { auth, getUserRole, isAdmin, isUser } from '@/firebase'\nimport { collection, onSnapshot, addDoc, updateDoc, deleteDoc, doc, getDoc, query, where } from 'firebase/firestore'\nimport { dailyCache } from '@/utils/dailyCache'\nimport { getDeviceTypesList } from '@/utils/deviceFieldConfig'\nimport '@/assets/styles/common/common-ui.css'\nimport '@/assets/styles/common/modal-styles.css'\nimport '@/assets/styles/components/ServerList.css'\n\n// Define shared field lists as constants outside the component\nconst BASIC_SERVER_FIELDS = ['id', 'name', 'cpuType', 'ip'];\nconst SYSTEM_SPEC_FIELDS = ['cpu', 'cpuFreq', 'memorySlots', 'dimmType', 'numDimms', 'motherboard', 'numSockets', 'coresPerSocket'];\nconst ACCESS_FIELDS = ['owner', 'sudoUser', 'sudoUserPassword', 'bmcIp', 'bmcUser', 'bmcPassword'];\nconst METADATA_FIELDS = ['location', 'attachedDevices', 'status', 'ubuntuVersion', 'note'];\n\nexport default {\n  name: 'ServerList',\n  data() {\n    return {\n      servers: [],\n      devices: [],\n      expandedServers: new Set(),\n      visiblePasswords: new Set(), // Combined set to track all password types\n      showSpecsModal: false,\n      activeSpecServer: null,\n      showNewServerModal: false,\n      newServer: this.createDefaultServerObject(),\n      showEditServerModal: false,\n      editingServer: null,\n      deviceTypeFilter: '',\n      serverFilter: this.$route.query.filter || '',\n      editPasswordVisible: false,\n      editBmcPasswordVisible: false,\n      userRole: 'guest',\n      ownershipFilter: 'all', // Add ownership filter property\n      \n      // Add field definitions to component data for access in template and methods\n      basicServerFields: BASIC_SERVER_FIELDS,\n      systemSpecFields: SYSTEM_SPEC_FIELDS,\n      accessFields: ACCESS_FIELDS,\n      metadataFields: METADATA_FIELDS,\n      expandedNotes: new Set(), // Track expanded notes\n      favoriteServers: new Set(), // Add Set to track favorite server IDs\n      userDocId: null, // Store the user document ID for updates\n    }\n  },\n  computed: {\n    // User info\n    currentUserEmail() {\n      return auth.currentUser ? auth.currentUser.email : '';\n    },\n    currentUsername() {\n      if (!this.currentUserEmail) return '';\n      return this.currentUserEmail.split('@')[0];\n    },\n    \n    // Combined function for eligible devices based on context\n    eligibleDevices() {\n      // For new server\n      if (!this.editingServer) {\n        // Return devices not attached to any server\n        return this.devices.filter(device => !device.attachedServer);\n      }\n      \n      // For editing existing server\n      return this.devices.filter(device => {\n        // Include if device is not attached to any server or attached to this server\n        return !device.attachedServer || device.attachedServer === this.editingServer.id;\n      });\n    },\n    \n    // Filtered devices based on selected type\n    filteredDevices() {\n      const filtered = this.eligibleDevices.filter(device =>\n        !this.deviceTypeFilter || device.type === this.deviceTypeFilter\n      );\n\n      // Sort by: 1) device type, 2) status, 3) name alphabetically (same as DeviceList)\n      const deviceTypes = getDeviceTypesList();\n\n      return filtered.sort((a, b) => {\n        // 1. Get device type indices from the deviceTypes array (case-insensitive)\n        const typeA = a.type ? a.type.toUpperCase() : '';\n        const typeB = b.type ? b.type.toUpperCase() : '';\n\n        const indexA = deviceTypes.findIndex(t => t.toUpperCase() === typeA);\n        const indexB = deviceTypes.findIndex(t => t.toUpperCase() === typeB);\n\n        // Use default high index for types not in the deviceTypes array\n        const priorityA = indexA !== -1 ? indexA : deviceTypes.length;\n        const priorityB = indexB !== -1 ? indexB : deviceTypes.length;\n\n        // Compare type priorities first\n        if (priorityA !== priorityB) {\n          return priorityA - priorityB;\n        }\n\n        // 2. If types are the same, sort by status (used, idle, broken)\n        const statusOrder = { 'used': 0, 'idle': 1, 'broken': 2 };\n        const statusA = a.status ? a.status.toLowerCase() : 'unknown';\n        const statusB = b.status ? b.status.toLowerCase() : 'unknown';\n\n        const statusPriorityA = statusOrder[statusA] !== undefined ? statusOrder[statusA] : 999;\n        const statusPriorityB = statusOrder[statusB] !== undefined ? statusOrder[statusB] : 999;\n\n        if (statusPriorityA !== statusPriorityB) {\n          return statusPriorityA - statusPriorityB;\n        }\n\n        // 3. If status is also the same, sort by name alphabetically\n        const nameA = (a.name || '').toLowerCase();\n        const nameB = (b.name || '').toLowerCase();\n        return nameA.localeCompare(nameB);\n      });\n    },\n    \n    // Check if there are hidden selected devices\n    hasHiddenSelectedDevices() {\n      if (!this.deviceTypeFilter) return false;\n      \n      const targetArray = this.editingServer \n        ? this.editingServer.attachedDevices \n        : this.newServer.attachedDevices;\n      \n      return targetArray.some(deviceId => {\n        const device = this.devices.find(d => d.id === deviceId);\n        return device && device.type !== this.deviceTypeFilter;\n      });\n    },\n    \n    // Filter servers based on search criteria\n    filteredServers() {\n      let result = this.servers;\n      \n      // Apply ownership filter\n      if (this.ownershipFilter === 'owned' && this.currentUsername) {\n        result = result.filter(server => \n          server.owner && server.owner.toLowerCase() === this.currentUsername.toLowerCase()\n        );\n      } else if (this.ownershipFilter === 'favorite') {\n        // Filter by favorite status if that option is selected\n        result = result.filter(server => this.isServerFavorite(server.id));\n      }\n      \n      // Apply filter if specified\n      if (this.serverFilter) {\n        const filter = this.serverFilter.toLowerCase().trim();\n\n        result = result.filter(server =>\n          (server.name && server.name.toLowerCase().includes(filter)) ||\n          (server.cpuType && server.cpuType.toLowerCase().includes(filter)) ||\n          (server.location && server.location.toLowerCase().includes(filter)) ||\n          this.serverHasMatchingDevice(server, filter)\n        );\n      }\n      \n      // Sort by CPU type group first, then by name alphabetically\n      return result.sort((a, b) => {\n        // Get CPU type group indices (lower index = higher priority)\n        const groupA = this.getCpuTypeGroupIndex(a.cpuType);\n        const groupB = this.getCpuTypeGroupIndex(b.cpuType);\n        \n        // If different groups, sort by group\n        if (groupA !== groupB) {\n          return groupA - groupB;\n        }\n        \n        // If same group, sort alphabetically by name\n        const nameA = (a.name || '').toLowerCase();\n        const nameB = (b.name || '').toLowerCase();\n        return nameA.localeCompare(nameB);\n      });\n    },\n    \n    // Combined list of all fields to exclude when showing additional fields\n    allExcludedFields() {\n      return [\n        ...this.basicServerFields,\n        ...this.systemSpecFields,\n        ...this.accessFields,\n        ...this.metadataFields\n      ];\n    }\n  },\n  watch: {\n    // Add this watcher to handle route changes\n    '$route.query.filter'(newFilter) {\n      if (newFilter !== undefined) {\n        this.serverFilter = newFilter;\n      }\n    },\n    // Add watcher for ownership filter in query\n    '$route.query.ownershipFilter'(newFilter) {\n      if (newFilter) {\n        this.ownershipFilter = newFilter;\n      }\n    }\n  },\n  methods: {\n    updateCache() {\n      const cacheData = {\n        devices: this.devices,\n        servers: this.servers,\n        timestamp: Date.now()\n      };\n      localStorage.setItem('firebaseCache', JSON.stringify(cacheData));\n    },\n    // Role-based permission helpers\n    isAdmin() {\n      return isAdmin();\n    },\n    \n    isUser() {\n      return isUser();\n    },\n    \n    // Permission methods\n    canAddServer() {\n      return isAdmin() || isUser();\n    },\n    \n    canEditServer(server) {\n      if (!server || !this.currentUserEmail) return false;\n      if (isAdmin()) return true;\n      if (isUser()) {\n        return server.owner && server.owner.toLowerCase() === this.currentUsername.toLowerCase();\n      }\n      return false;\n    },\n    \n    canDeleteServer(server) {\n      return this.canEditServer(server);\n    },\n    \n    // Create default server object with current user as owner\n    createDefaultServerObject() {\n      const defaultObj = {\n        name: '',\n        cpuType: '',\n        ip: '',\n        owner: this.currentUsername || '',\n        sudoUser: '',\n        sudoUserPassword: '',\n        bmcIp: '',\n        bmcUser: '',\n        bmcPassword: '',\n        status: 'on',\n        location: '',\n        ubuntuVersion: '',\n        motherboard: '',\n        numSockets: null,\n        coresPerSocket: null,\n        note: '',\n        attachedDevices: [],\n        memorySlots: '',\n        numDimms: ''\n      };\n      \n      SYSTEM_SPEC_FIELDS.forEach(field => {\n        if (!['cpu', 'cpuFreq', 'dimmType', 'motherboard', 'memorySlots', 'numDimms'].includes(field)) {\n          defaultObj[field] = null;\n        } else {\n          defaultObj[field] = '';\n        }\n      });\n      \n      return defaultObj;\n    },\n    \n    // Get CSS class for server based on CPU type\n    getCpuColorClass(cpuType) {\n      if (!cpuType) return 'cpu-default';\n      \n      const cpuLower = cpuType.toLowerCase();\n      \n      // Class mapping by CPU type\n      if (cpuLower.includes('skx') || cpuLower.includes('icx') || cpuLower.includes('skl')) return 'cpu-blue';\n      if (cpuLower.includes('spr') || cpuLower.includes('emr') || cpuLower.includes('gnr')) return 'cpu-green';\n      if (cpuLower.includes('hsw') || cpuLower.includes('bdw') || cpuLower.includes('haswell') || cpuLower.includes('broadwell')) return 'cpu-orange';\n      if (cpuLower.includes('epyc')) return 'cpu-purple';\n      \n      return 'cpu-default';\n    },\n    \n    // Toggle expanded state of a server\n    toggleExpand(serverId) {\n      if (this.expandedServers.has(serverId)) {\n        this.expandedServers.delete(serverId);\n      } else {\n        this.expandedServers.add(serverId);\n      }\n    },\n    \n    // Check if server is expanded\n    isExpanded(serverId) {\n      return this.expandedServers.has(serverId);\n    },\n    \n    // Fixed to correctly handle server object properties\n    getFilteredAdditionalFields(server) {\n      if (!server) return {};\n      \n      const { ...allFields } = server;\n      \n      // Filter out excluded fields, empty values, and fields containing \"Transfer\"\n      return Object.fromEntries(\n        Object.entries(allFields).filter(([key, value]) => \n          !this.allExcludedFields.includes(key) && \n          !key.toLowerCase().includes('transfer') &&\n          value !== null && \n          value !== undefined && \n          value !== '' &&\n          !(Array.isArray(value) && value.length === 0)\n        )\n      );\n    },\n    \n    // Format field names for display\n    formatFieldName(key) {\n      return key\n        .replace(/([A-Z])/g, ' $1')\n        .replace(/^./, str => str.toUpperCase());\n    },\n    \n    // Format IP address for display (updated to handle empty IPs)\n    formatIp(ip) {\n      if (!ip) return '';\n      return Array.isArray(ip) ? ip.join(', ') : ip;\n    },\n    \n    // Get status color class\n    getStatusColor(status) {\n      if (!status) return 'status-red';\n      return status.toLowerCase() === 'on' ? 'status-green' : 'status-red';\n    },\n    \n    // Format status for display\n    formatStatus(status) {\n      if (!status) return 'Unknown';\n      return status.charAt(0).toUpperCase() + status.slice(1);\n    },\n    \n    // Combined function for password visibility\n    isPasswordVisible(serverId, type = 'sudo') {\n      // Only allow password visibility if user has permissions\n      if (!this.hasViewPermissions()) {\n        return false;\n      }\n      return this.visiblePasswords.has(`${type}-${serverId}`);\n    },\n    \n    // Toggle password visibility with auto-hide\n    togglePassword(serverId, type = 'sudo') {\n      // Only allow toggling if user has permissions\n      if (!this.hasViewPermissions()) {\n        return;\n      }\n      \n      const key = `${type}-${serverId}`;\n      \n      if (this.visiblePasswords.has(key)) {\n        this.visiblePasswords.delete(key);\n      } else {\n        this.visiblePasswords.add(key);\n        // Auto-hide password after 5 seconds\n        setTimeout(() => {\n          this.visiblePasswords.delete(key);\n          this.$forceUpdate();\n        }, 5000);\n      }\n    },\n    \n    // Alias for backward compatibility\n    isSudoPasswordVisible(serverId) {\n      return this.isPasswordVisible(serverId, 'sudo');\n    },\n    \n    toggleSudoPassword(serverId) {\n      this.togglePassword(serverId, 'sudo');\n    },\n    \n    // Add these methods for BMC password visibility\n    isBmcPasswordVisible(serverId) {\n      return this.isPasswordVisible(serverId, 'bmc');\n    },\n    \n    toggleBmcPassword(serverId) {\n      this.togglePassword(serverId, 'bmc');\n    },\n    \n    // Show/hide system specs modal\n    showSystemSpecs(server) {\n      this.activeSpecServer = server;\n      this.showSpecsModal = true;\n    },\n    \n    closeSystemSpecs() {\n      this.showSpecsModal = false;\n      this.activeSpecServer = null;\n    },\n    \n    // Get device name by ID\n    getDeviceName(deviceId) {\n      const device = this.devices.find(d => d.id === deviceId);\n      return device ? device.name : 'Unknown Device';\n    },\n    \n    // Get color class based on device type\n    getDeviceTypeColorClass(deviceId) {\n      const device = this.devices.find(d => d.id === deviceId);\n      if (!device || !device.type) return 'device-type-default';\n      \n      const typeStr = device.type.toLowerCase();\n      \n      // Match device types to color classes\n      if (typeStr.includes('nic')) return 'device-type-blue';\n      if (typeStr.includes('ssd')) return 'device-type-green';\n      if (typeStr.includes('fpga')) return 'device-type-orange';\n      if (typeStr.includes('gpu')) return 'device-type-red';\n      if (typeStr.includes('cxl')) return 'device-type-purple';\n      \n      return 'device-type-default';\n    },\n    \n    // Navigate to device list and filter by device name\n    navigateToDevice(deviceId) {\n      const device = this.devices.find(d => d.id === deviceId);\n      if (device && device.name) {\n        this.$router.push({\n          path: '/devices',\n          query: { filter: device.name }\n        });\n      }\n    },\n    \n    // Toggle device selection in device array\n    toggleDevice(deviceArray, deviceId) {\n      if (!deviceArray) deviceArray = [];\n      \n      const index = deviceArray.indexOf(deviceId);\n      if (index === -1) {\n        deviceArray.push(deviceId);\n      } else {\n        deviceArray.splice(index, 1);\n      }\n      \n      this.$forceUpdate();\n    },\n    \n    // Form management\n    openNewServerForm() {\n      if (!this.canAddServer()) {\n        alert('You do not have permission to add servers.');\n        return;\n      }\n      this.newServer = this.createDefaultServerObject();\n      this.showNewServerModal = true;\n    },\n    \n    // Form validation\n    validateServerForm(server) {\n      const requiredFields = [\n        { field: 'name', message: 'Server name is required' },\n        { field: 'cpuType', message: 'CPU Type is required' },\n        { field: 'ip', message: 'IP Address is required' },\n        { field: 'owner', message: 'Owner is required' },\n        { field: 'location', message: 'Location is required' },\n        { field: 'sudoUser', message: 'Sudo Username is required' },\n        { field: 'sudoUserPassword', message: 'Sudo Password is required' }\n      ];\n      \n      for (const { field, message } of requiredFields) {\n        if (!server[field]) {\n          alert(message);\n          return false;\n        }\n      }\n      return true;\n    },\n    \n    // Save server\n    async saveServer(isNew = true) {\n      const serverData = isNew ? this.newServer : this.editingServer;\n      \n      if (!isAdmin() && serverData.owner.toLowerCase() !== this.currentUsername.toLowerCase()) {\n        alert('As a regular user, you can only create or edit servers that you own.');\n        return;\n      }\n      \n      if (!this.validateServerForm(serverData)) return;\n      \n      try {\n        let previousAttachedDevices = [];\n        let serverId;\n        \n        if (!isNew) {\n          serverId = serverData.id;\n          const existingServer = this.servers.find(s => s.id === serverId);\n          previousAttachedDevices = existingServer ? [...(existingServer.attachedDevices || [])] : [];\n        }\n        \n        const currentAttachedDevices = serverData.attachedDevices || [];\n        const devicesToAdd = currentAttachedDevices.filter(id => !previousAttachedDevices.includes(id));\n        const devicesToRemove = previousAttachedDevices.filter(id => !currentAttachedDevices.includes(id));\n        \n        if (isNew) {\n          const serversCollection = collection(firestore, 'servers');\n          const docRef = await addDoc(serversCollection, serverData);\n          serverId = docRef.id;\n          this.showNewServerModal = false;\n        } else {\n          const { id, ...serverDataWithoutId } = {...serverData};\n          if (!id) throw new Error('Server ID is missing for update operation');\n          \n          if (!serverDataWithoutId.attachedDevices) {\n            serverDataWithoutId.attachedDevices = [];\n          }\n          \n          const serverRef = doc(firestore, 'servers', id);\n          await updateDoc(serverRef, serverDataWithoutId);\n          \n          this.showEditServerModal = false;\n          this.editingServer = null;\n        }\n        \n        for (const deviceId of devicesToAdd) {\n          await this.updateDeviceAttachment(deviceId, serverId, true);\n        }\n        \n        for (const deviceId of devicesToRemove) {\n          await this.updateDeviceAttachment(deviceId, serverId, false);\n        }\n        \n        // Refresh cache to show changes immediately\n        await this.refreshServerCache();\n        \n      } catch (error) {\n        console.error(`Error ${isNew ? 'adding' : 'updating'} server:`, error);\n        alert(`Failed to ${isNew ? 'add' : 'update'} server: ${error.message}`);\n      }\n    },\n    \n    // Update device attachment status\n    async updateDeviceAttachment(deviceId, serverId, attach) {\n      try {\n        const deviceRef = doc(firestore, 'devices', deviceId);\n        const deviceSnapshot = await getDoc(deviceRef);\n        \n        if (deviceSnapshot.exists()) {\n          const updateData = {\n            status: attach ? 'used' : 'idle',\n            attachedServer: attach ? serverId : ''\n          };\n          await updateDoc(deviceRef, updateData);\n        }\n      } catch (error) {\n        console.error(`Error updating device ${deviceId}:`, error);\n      }\n    },\n    \n    // Delete server with device detachment\n    async confirmDeleteServer() {\n      if (!this.editingServer) return;\n      \n      if (confirm(`Are you sure you want to delete server \"${this.editingServer.name}\"?`)) {\n        try {\n          const serverId = this.editingServer.id;\n          \n          if (this.editingServer.attachedDevices && this.editingServer.attachedDevices.length > 0) {\n            for (const deviceId of this.editingServer.attachedDevices) {\n              await this.updateDeviceAttachment(deviceId, serverId, false);\n            }\n          }\n          \n          const serverRef = doc(firestore, 'servers', serverId);\n          await deleteDoc(serverRef);\n          \n          // Refresh cache to show changes immediately\n          await this.refreshServerCache();\n          \n          this.showEditServerModal = false;\n          this.editingServer = null;\n        } catch (error) {\n          console.error('Error deleting server:', error);\n          alert('Failed to delete server: ' + error.message);\n        }\n      }\n    },\n    \n    // Cancel forms\n    cancelNewServer() {\n      this.showNewServerModal = false;\n    },\n    \n    cancelEditServer() {\n      this.showEditServerModal = false;\n      this.editingServer = null;\n    },\n    \n    // Open edit form\n    openEditForm(server) {\n      if (!this.canEditServer(server)) {\n        if (isUser()) {\n          alert('You can only edit servers that you own.');\n        } else {\n          alert('You do not have permission to edit servers.');\n        }\n        return;\n      }\n      \n      this.editPasswordVisible = false;\n      this.editingServer = JSON.parse(JSON.stringify(server));\n      this.showEditServerModal = true;\n    },\n    \n    // Save edit server\n    saveEditServer() {\n      if (!this.editingServer || !this.editingServer.id) {\n        alert('Error: Cannot save changes - no server selected or missing ID');\n        return;\n      }\n      this.saveServer(false);\n    },\n    \n    // Navigation to reservation page\n    reserveServer(server) {\n      this.$router.push({\n        path: '/calendar',\n        query: { server: server.name }\n      });\n    },\n    \n    // Device attachment helpers\n    isDeviceAttachedToAnotherServer(deviceId) {\n      if (!this.editingServer) return false;\n      \n      const device = this.devices.find(d => d.id === deviceId);\n      return device && device.attachedServer && device.attachedServer !== this.editingServer.id;\n    },\n    \n    // Check if server has device matching filter\n    serverHasMatchingDevice(server, filter) {\n      if (!server.attachedDevices || !server.attachedDevices.length) {\n        return false;\n      }\n\n      return server.attachedDevices.some(deviceId => {\n        const device = this.devices.find(d => d.id === deviceId);\n        if (!device) return false;\n\n        // Check device name or serial number\n        const nameMatch = device.name && device.name.toLowerCase().includes(filter);\n        const serialMatch = device.serialNumber && device.serialNumber.toLowerCase().includes(filter);\n\n        return nameMatch || serialMatch;\n      });\n    },\n    \n    // Clear filter\n    clearFilter() {\n      this.serverFilter = '';\n    },\n    \n    // Added new method to handle device option clicks\n    handleDeviceOptionClick(deviceArray, deviceId) {\n      // Skip if device is disabled (attached to another server)\n      if (this.editingServer && this.isDeviceAttachedToAnotherServer(deviceId)) {\n        return;\n      }\n      \n      this.toggleDevice(deviceArray, deviceId);\n    },\n    \n    // Add these click-outside handlers to close modals\n    closeModalOnOutsideClick(e) {\n      // Close the modal if clicking outside the modal content\n      if (e.target.classList.contains('modal-overlay')) {\n        this.cancelNewServer();\n        this.cancelEditServer();\n        this.closeSystemSpecs();\n      }\n    },\n    saveNewServer() {\n      this.saveServer(true);\n    },\n    \n    hasViewPermissions() {\n      return isAdmin() || isUser();\n    },\n    // Toggle note expansion\n    toggleNoteExpansion(serverId) {\n      if (this.expandedNotes.has(serverId)) {\n        this.expandedNotes.delete(serverId);\n      } else {\n        this.expandedNotes.add(serverId);\n      }\n    },\n\n    // Handle note click - prevent expansion when clicking on links\n    handleNoteClick(event, serverId) {\n      // If clicked element is a link, don't toggle expansion\n      if (event.target.tagName === 'A') {\n        return;\n      }\n      this.toggleNoteExpansion(serverId);\n    },\n    \n    // Check if note is long enough to be truncated\n    isNoteTruncated(note) {\n      return note && note.length > 100;\n    },\n\n    // Convert URLs in text to clickable links\n    linkifyText(text) {\n      if (!text) return '';\n\n      // Regular expression to match URLs\n      const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n\n      // Replace URLs with anchor tags\n      return text.replace(urlRegex, (url) => {\n        return `<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"auto-link\">${url}</a>`;\n      });\n    },\n\n    // Parse BMC IPs (handles comma-separated IPs)\n    parseBmcIps(bmcIp) {\n      if (!bmcIp) return [];\n      // Split by comma and trim whitespace\n      return bmcIp.split(',').map(ip => ip.trim()).filter(ip => ip.length > 0);\n    },\n    // CPU type group priority for sorting\n    getCpuTypeGroupIndex(cpuType) {\n      if (!cpuType) return 999;\n      \n      const cpuLower = cpuType.toLowerCase();\n      \n      if (cpuLower.includes('spr') || cpuLower.includes('emr') || cpuLower.includes('gnr')) return 0;\n      if (cpuLower.includes('skx') || cpuLower.includes('icx') || cpuLower.includes('skl')) return 1;\n      if (cpuLower.includes('epyc')) return 2;\n      if (cpuLower.includes('hsw') || cpuLower.includes('bdw') || \n          cpuLower.includes('haswell') || cpuLower.includes('broadwell')) return 3;\n      \n      return 4;\n    },\n    resetState() {\n      this.serverFilter = this.$route.query.filter || '';\n      if (this.$route.query.ownershipFilter) {\n        this.ownershipFilter = this.$route.query.ownershipFilter;\n      }\n    },\n    // Favorite server management\n    isServerFavorite(serverId) {\n      return this.favoriteServers.has(serverId);\n    },\n    \n    async toggleFavorite(serverId) {\n      if (!this.currentUserEmail) return;\n      \n      if (this.favoriteServers.has(serverId)) {\n        this.favoriteServers.delete(serverId);\n      } else {\n        this.favoriteServers.add(serverId);\n      }\n      \n      await this.saveFavorites();\n    },\n    \n    // Save/load favorites\n    async saveFavorites() {\n      if (!this.currentUserEmail || !this.userDocId) return;\n      \n      try {\n        const userRef = doc(firestore, 'authorizedUsers', this.userDocId);\n        await updateDoc(userRef, {\n          favorite_servers: Array.from(this.favoriteServers)\n        });\n      } catch (error) {\n        console.error('Error updating favorites:', error);\n      }\n    },\n    \n    async loadFavorites() {\n      if (!this.currentUserEmail) return;\n      \n      try {\n        const usersRef = collection(firestore, 'authorizedUsers');\n        const q = query(usersRef, where(\"email\", \"==\", this.currentUserEmail));\n        \n        onSnapshot(q, (snapshot) => {\n          if (!snapshot.empty) {\n            const userDoc = snapshot.docs[0];\n            this.userDocId = userDoc.id;\n            \n            const userData = userDoc.data();\n            if (userData && userData.favorite_servers) {\n              this.favoriteServers = new Set(userData.favorite_servers);\n            } else {\n              this.favoriteServers = new Set();\n            }\n          }\n        });\n      } catch (error) {\n        console.error('Error loading favorites:', error);\n      }\n    },\n\n    // Load servers using daily cache\n    async loadServers() {\n      try {\n        const servers = await dailyCache.loadData('servers');\n        this.servers = servers.map(doc => ({\n          ...doc,\n          attachedDevices: doc.attachedDevices || []\n        }));\n        console.log('Loaded servers:', this.servers.length);\n      } catch (error) {\n        console.error('Error loading servers:', error);\n        this.servers = [];\n      }\n    },\n\n    // Load devices using daily cache\n    async loadDevices() {\n      try {\n        this.devices = await dailyCache.loadData('devices');\n        console.log('Loaded devices:', this.devices.length);\n      } catch (error) {\n        console.error('Error loading devices:', error);\n        this.devices = [];\n      }\n    },\n\n    // Refresh server cache after changes\n    async refreshServerCache() {\n      try {\n        this.servers = await dailyCache.refreshData('servers');\n        this.devices = await dailyCache.refreshData('devices');\n        console.log('Cache refreshed - Servers:', this.servers.length, 'Devices:', this.devices.length);\n      } catch (error) {\n        console.error('Error refreshing cache:', error);\n      }\n    },\n  },\n  async created() {\n    // Load data using daily cache\n    this.loadServers();\n    this.loadDevices();\n    \n    if (auth.currentUser) {\n      this.userRole = await getUserRole();\n    }\n    \n    auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        this.userRole = await getUserRole();\n        this.loadFavorites();\n      } else {\n        this.userRole = 'guest';\n        this.favoriteServers = new Set();\n      }\n    });\n\n    if (this.$route.query.ownershipFilter) {\n      this.ownershipFilter = this.$route.query.ownershipFilter;\n    }\n  },\n  mounted() {\n    document.addEventListener('click', this.closeModalOnOutsideClick);\n    if (this.currentUserEmail) {\n      this.loadFavorites();\n    }\n  },\n  \n  beforeUnmount() {\n    document.removeEventListener('click', this.closeModalOnOutsideClick);\n  }\n}\n</script>\n\n","import { render } from \"./ServerList.vue?vue&type=template&id=6e0c1aea\"\nimport script from \"./ServerList.vue?vue&type=script&lang=js\"\nexport * from \"./ServerList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/**\n * Central configuration for device field definitions\n * Used by both DeviceList and DeviceFormModal components\n */\n\n// Device types with metadata\nexport const DEVICE_TYPES = {\n  'NIC': {\n    label: 'Network Interface Card',\n    color: 'blue',\n    icon: 'ðŸŒ'\n  },\n  'SSD': {\n    label: 'Solid State Drive',\n    color: 'green',\n    icon: 'ðŸ’¾'\n  },\n  'FPGA': {\n    label: 'Field-Programmable Gate Array',\n    color: 'orange',\n    icon: 'ðŸ”§'\n  },\n  'GPU': {\n    label: 'Graphics Processing Unit',\n    color: 'red',\n    icon: 'ðŸŽ®'\n  },\n  'CXL(FPGA)': {\n    label: 'CXL FPGA Device',\n    color: 'purple',\n    icon: 'âš¡'\n  },\n  'CXL(ASIC)': {\n    label: 'CXL ASIC Device',\n    color: 'purple',\n    icon: 'ðŸ’Ž'\n  }\n};\n\n// Get device type list (for dropdowns)\nexport const getDeviceTypesList = () => Object.keys(DEVICE_TYPES);\n\n// Get device type metadata\nexport const getDeviceTypeInfo = (type) => DEVICE_TYPES[type] || { \n  label: type, \n  color: 'default', \n  icon: 'ðŸ”Œ' \n};\n\n// Basic fields common to all devices\nexport const BASIC_DEVICE_FIELDS = [\n  'id', 'name', 'type', 'owner', 'status', 'attachedServer', \n  'users', 'serialNumber', 'location', 'note'\n];\n\n// Type-specific fields by device type\nexport const TYPE_SPECIFIC_FIELDS = {\n  'NIC': [\n    'dataRate', 'partNumber', 'ips', 'bmcIp', 'oobMac', 'sudoUser', 'sudoPassword',\n    'bmcUser', 'bmcPassword', 'hostMacs', 'boardId'\n  ],\n  'FPGA': ['partNumber', 'mac'],\n  'CXL(FPGA)': ['partNumber', 'mac'],\n  'CXL(ASIC)': ['partNumber', 'capacity'],\n  'SSD': ['partNumber', 'model', 'manufacturer', 'capacity'],\n  'GPU': ['partNumber', 'model', 'manufacturer']\n};\n\n// Default fields to initialize for each device type\nexport const DEFAULT_DEVICE_TYPE_VALUES = {\n  'NIC': {\n    dataRate: '',\n    partNumber: '',\n    serialNumber: '',\n    ips: [],\n    bmcIp: '',\n    sudoUser: '',\n    sudoPassword: '',\n    bmcUser: '',\n    bmcPassword: '',\n    oobMac: '',\n    hostMacs: [],\n    boardId: ''\n  },\n  'FPGA': {\n    partNumber: '',\n    serialNumber: '',\n    mac: ''\n  },\n  'CXL(FPGA)': {\n    partNumber: '',\n    serialNumber: '',\n    mac: ''\n  },\n  'CXL(ASIC)': {\n    partNumber: '',\n    capacity: ''\n  },\n  'SSD': {\n    partNumber: '',\n    serialNumber: '',\n    model: '',\n    manufacturer: '',\n    capacity: ''\n  },\n  'GPU': {\n    partNumber: '',\n    serialNumber: '',\n    model: '',\n    manufacturer: ''\n  }\n};\n\n// Format field names for display (convert camelCase to Title Case)\nexport function formatFieldName(key) {\n  return key\n    .replace(/([A-Z])/g, ' $1')\n    .replace(/^./, str => str.toUpperCase());\n}\n\n// Get all fields that should be excluded from the expanded view\nexport function getExcludedFields(deviceType) {\n  const typeSpecificFields = deviceType && TYPE_SPECIFIC_FIELDS[deviceType] \n    ? TYPE_SPECIFIC_FIELDS[deviceType] \n    : [];\n    \n  return [...BASIC_DEVICE_FIELDS, ...typeSpecificFields];\n}\n"],"names":["class","xmlns","viewBox","width","height","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","title","_cache","_createElementVNode","fill","stroke","d","points","_hoisted_2","_hoisted_3","_normalizeClass","active","$data","ownershipFilter","onClick","$event","$options","currentUserEmail","_hoisted_4","_hoisted_5","for","type","id","serverFilter","placeholder","args","clearFilter","_hoisted_6","_toDisplayString","filteredServers","length","servers","_hoisted_7","_Fragment","_renderList","server","key","getCpuColorClass","cpuType","getStatusColor","status","_hoisted_8","_hoisted_9","name","owner","_hoisted_11","_hoisted_12","_withModifiers","toggleFavorite","isServerFavorite","_hoisted_14","_hoisted_16","_hoisted_17","formatStatus","toggleExpand","isExpanded","_hoisted_18","_hoisted_19","ip","_hoisted_20","formatIp","location","_hoisted_21","_hoisted_22","sudoUser","_hoisted_23","sudoUserPassword","hasViewPermissions","_hoisted_24","_hoisted_25","isSudoPasswordVisible","toggleSudoPassword","cx","cy","r","bmcIp","_hoisted_27","_hoisted_28","parseBmcIps","index","href","target","rel","_hoisted_29","bmcUser","_hoisted_30","bmcPassword","_hoisted_31","_hoisted_32","isBmcPasswordVisible","toggleBmcPassword","ubuntuVersion","_hoisted_34","note","_hoisted_35","expandedNotes","has","handleNoteClick","innerHTML","linkifyText","isNoteTruncated","_hoisted_37","attachedDevices","_hoisted_38","_hoisted_39","deviceId","getDeviceTypeColorClass","navigateToDevice","getDeviceName","_hoisted_40","getFilteredAdditionalFields","value","formatFieldName","_hoisted_41","openEditForm","disabled","canEditServer","_hoisted_42","reserveServer","_hoisted_43","showSystemSpecs","_hoisted_44","_hoisted_45","openNewServerForm","showNewServerModal","cancelNewServer","_hoisted_46","_hoisted_47","_hoisted_48","newServer","required","_hoisted_49","_hoisted_50","_hoisted_51","isAdmin","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","cpu","_hoisted_62","cpuFreq","_hoisted_63","motherboard","_hoisted_64","numSockets","number","_hoisted_65","coresPerSocket","_hoisted_66","memorySlots","_hoisted_67","dimmType","_hoisted_68","numDimms","_hoisted_69","rows","_hoisted_70","_hoisted_71","deviceTypeFilter","hasHiddenSelectedDevices","_hoisted_72","_hoisted_73","filteredDevices","_hoisted_74","device","includes","handleDeviceOptionClick","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","saveNewServer","showEditServerModal","cancelEditServer","_hoisted_80","editingServer","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","editPasswordVisible","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","editBmcPasswordVisible","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","isDeviceAttachedToAnotherServer","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","saveEditServer","canDeleteServer","confirmDeleteServer","showSpecsModal","closeSystemSpecs","_hoisted_120","activeSpecServer","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","BASIC_SERVER_FIELDS","SYSTEM_SPEC_FIELDS","ACCESS_FIELDS","METADATA_FIELDS","data","devices","expandedServers","Set","visiblePasswords","this","createDefaultServerObject","$route","query","filter","userRole","basicServerFields","systemSpecFields","accessFields","metadataFields","favoriteServers","userDocId","computed","auth","currentUser","email","currentUsername","split","eligibleDevices","attachedServer","filtered","deviceTypes","getDeviceTypesList","sort","a","b","typeA","toUpperCase","typeB","indexA","findIndex","t","indexB","priorityA","priorityB","statusOrder","statusA","toLowerCase","statusB","statusPriorityA","undefined","statusPriorityB","nameA","nameB","localeCompare","targetArray","some","find","result","trim","serverHasMatchingDevice","groupA","getCpuTypeGroupIndex","groupB","allExcludedFields","watch","newFilter","methods","updateCache","cacheData","timestamp","Date","now","localStorage","setItem","JSON","stringify","isUser","canAddServer","defaultObj","forEach","field","cpuLower","serverId","delete","add","allFields","Object","fromEntries","entries","Array","isArray","replace","str","join","charAt","slice","isPasswordVisible","togglePassword","setTimeout","$forceUpdate","typeStr","$router","push","path","toggleDevice","deviceArray","indexOf","splice","alert","validateServerForm","requiredFields","message","saveServer","isNew","serverData","previousAttachedDevices","existingServer","s","currentAttachedDevices","devicesToAdd","devicesToRemove","serversCollection","collection","firestore","docRef","addDoc","serverDataWithoutId","Error","serverRef","doc","updateDoc","updateDeviceAttachment","refreshServerCache","error","console","attach","deviceRef","deviceSnapshot","getDoc","exists","updateData","confirm","deleteDoc","parse","nameMatch","serialMatch","serialNumber","closeModalOnOutsideClick","e","classList","contains","toggleNoteExpansion","event","tagName","text","urlRegex","url","map","resetState","saveFavorites","userRef","favorite_servers","from","loadFavorites","usersRef","q","where","onSnapshot","snapshot","empty","userDoc","docs","userData","loadServers","dailyCache","loadData","log","loadDevices","refreshData","created","getUserRole","onAuthStateChanged","async","user","mounted","document","addEventListener","beforeUnmount","removeEventListener","__exports__","render","DEVICE_TYPES","label","color","icon","keys","getDeviceTypeInfo","BASIC_DEVICE_FIELDS","TYPE_SPECIFIC_FIELDS","DEFAULT_DEVICE_TYPE_VALUES","dataRate","partNumber","ips","sudoPassword","oobMac","hostMacs","boardId","mac","capacity","model","manufacturer","getExcludedFields","deviceType","typeSpecificFields"],"sourceRoot":""}