{"version":3,"file":"js/646.735f969d.js","mappings":"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","sources":["webpack://server-reservation/./src/utils/deviceFieldConfig.js","webpack://server-reservation/./src/views/DeviceList.vue","webpack://server-reservation/./src/components/DeviceFormModal.vue","webpack://server-reservation/./src/components/DeviceFormModal.vue?a918","webpack://server-reservation/./src/views/DeviceList.vue?c9c9"],"sourcesContent":["/**\n * Central configuration for device field definitions\n * Used by both DeviceList and DeviceFormModal components\n */\n\n// Device types with metadata\nexport const DEVICE_TYPES = {\n  'NIC': {\n    label: 'Network Interface Card',\n    color: 'blue',\n    icon: 'ðŸŒ'\n  },\n  'SSD': {\n    label: 'Solid State Drive',\n    color: 'green',\n    icon: 'ðŸ’¾'\n  },\n  'FPGA': {\n    label: 'Field-Programmable Gate Array',\n    color: 'orange',\n    icon: 'ðŸ”§'\n  },\n  'GPU': {\n    label: 'Graphics Processing Unit',\n    color: 'red',\n    icon: 'ðŸŽ®'\n  },\n  'CXL(FPGA)': {\n    label: 'CXL FPGA Device',\n    color: 'purple',\n    icon: 'âš¡'\n  },\n  'CXL(ASIC)': {\n    label: 'CXL ASIC Device',\n    color: 'purple',\n    icon: 'ðŸ’Ž'\n  }\n};\n\n// Get device type list (for dropdowns)\nexport const getDeviceTypesList = () => Object.keys(DEVICE_TYPES);\n\n// Get device type metadata\nexport const getDeviceTypeInfo = (type) => DEVICE_TYPES[type] || { \n  label: type, \n  color: 'default', \n  icon: 'ðŸ”Œ' \n};\n\n// Basic fields common to all devices\nexport const BASIC_DEVICE_FIELDS = [\n  'id', 'name', 'type', 'owner', 'status', 'attachedServer', \n  'users', 'serialNumber', 'location', 'note'\n];\n\n// Type-specific fields by device type\nexport const TYPE_SPECIFIC_FIELDS = {\n  'NIC': [\n    'dataRate', 'partNumber', 'ips', 'bmcIp', 'oobMac', 'sudoUser', 'sudoPassword',\n    'bmcUser', 'bmcPassword', 'hostMacs', 'boardId'\n  ],\n  'FPGA': ['partNumber', 'mac'],\n  'CXL(FPGA)': ['partNumber', 'mac'],\n  'CXL(ASIC)': ['partNumber', 'capacity'],\n  'SSD': ['partNumber', 'model', 'manufacturer', 'capacity'],\n  'GPU': ['partNumber', 'model', 'manufacturer']\n};\n\n// Default fields to initialize for each device type\nexport const DEFAULT_DEVICE_TYPE_VALUES = {\n  'NIC': {\n    dataRate: '',\n    partNumber: '',\n    serialNumber: '',\n    ips: [],\n    bmcIp: '',\n    sudoUser: '',\n    sudoPassword: '',\n    bmcUser: '',\n    bmcPassword: '',\n    oobMac: '',\n    hostMacs: [],\n    boardId: ''\n  },\n  'FPGA': {\n    partNumber: '',\n    serialNumber: '',\n    mac: ''\n  },\n  'CXL(FPGA)': {\n    partNumber: '',\n    serialNumber: '',\n    mac: ''\n  },\n  'CXL(ASIC)': {\n    partNumber: '',\n    capacity: ''\n  },\n  'SSD': {\n    partNumber: '',\n    serialNumber: '',\n    model: '',\n    manufacturer: '',\n    capacity: ''\n  },\n  'GPU': {\n    partNumber: '',\n    serialNumber: '',\n    model: '',\n    manufacturer: ''\n  }\n};\n\n// Format field names for display (convert camelCase to Title Case)\nexport function formatFieldName(key) {\n  return key\n    .replace(/([A-Z])/g, ' $1')\n    .replace(/^./, str => str.toUpperCase());\n}\n\n// Get all fields that should be excluded from the expanded view\nexport function getExcludedFields(deviceType) {\n  const typeSpecificFields = deviceType && TYPE_SPECIFIC_FIELDS[deviceType] \n    ? TYPE_SPECIFIC_FIELDS[deviceType] \n    : [];\n    \n  return [...BASIC_DEVICE_FIELDS, ...typeSpecificFields];\n}\n","<template>\n  <div class=\"device-list\">\n    <!-- Home icon button -->\n    <router-link to=\"/home\" class=\"home-icon-button\" title=\"Home\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n        <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n        <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n      </svg>\n    </router-link>\n    \n    <h2>Device List</h2>\n    \n    <!-- Move ownership toggle before device type tabs -->\n    <div class=\"ownership-toggle-container\">\n      <div class=\"app-toggle-buttons-small\">\n        <button \n          :class=\"{ active: ownershipFilter === 'all' }\" \n          @click=\"ownershipFilter = 'all'\"\n        >\n          All\n        </button>\n        <button \n          :class=\"{ active: ownershipFilter === 'owned' }\" \n          @click=\"ownershipFilter = 'owned'\"\n        >\n          Owned\n        </button>\n        <button \n          :class=\"{ active: ownershipFilter === 'used' }\" \n          @click=\"ownershipFilter = 'used'\"\n        >\n          Used\n        </button>\n      </div>\n    </div>\n    \n    <!-- Device type tabs with fixed device types -->\n    <div class=\"device-tabs\">\n      <button \n        class=\"tab-button\" \n        :class=\"{ active: activeTab === 'all' }\"\n        @click=\"activeTab = 'all'\"\n      >\n        All\n      </button>\n      <button \n        v-for=\"type in deviceTypes\" \n        :key=\"type\"\n        class=\"tab-button\" \n        :class=\"{ active: activeTab === type.toLowerCase() }\"\n        @click=\"activeTab = type.toLowerCase()\"\n      >\n        {{ type }}\n      </button>\n    </div>\n    \n    <!-- Filter section using common styles -->\n    <div class=\"filter-container device-filter-container\">\n      <div class=\"filter\">\n        <label for=\"deviceFilter\">Filter devices:</label>\n        <input\n          type=\"text\"\n          id=\"deviceFilter\"\n          v-model=\"deviceFilter\"\n          placeholder=\"Device name, type, serial, status, or attached server\"\n          class=\"filter-input\"\n        />\n        <button \n          v-if=\"deviceFilter\" \n          class=\"clear-filter-btn\" \n          @click=\"clearFilter\" \n          title=\"Clear filter\"\n        >\n          Ã—\n        </button>\n      </div>\n      \n      <div class=\"filter-stats\" v-if=\"deviceFilter || activeTab !== 'all' || ownershipFilter !== 'all'\">\n        Showing {{ filteredDevices.length }} of {{ devices.length }} devices\n      </div>\n    </div>\n    \n    <!-- Use common item-grid class from common-ui.css -->\n    <div class=\"item-grid\">\n      <div \n        v-for=\"device in filteredDevices\" \n        :key=\"device.id\" \n        class=\"item-card item-card-with-border\"\n        :class=\"[\n          getDeviceTypeColorClass(device.type), \n          getStatusBackgroundClass(device.status)\n        ]\"\n      >\n        <div class=\"card-header\">\n          <div class=\"name-and-owner\">\n            <h3>{{ device.name }}</h3>\n            <!-- Owner icon next to device name -->\n            <span v-if=\"device.owner\" class=\"owner-indicator\" :title=\"`Owned by: ${device.owner}`\">\n              <span class=\"owner-icon\">ðŸ‘¤</span>\n              <span class=\"owner-name\">{{ device.owner }}</span>\n            </span>\n          </div>\n          <div class=\"status-indicator\">\n            <span class=\"status-circle\" :class=\"getStatusColor(device.status)\"></span>\n            <span class=\"status-text\">{{ formatStatus(device.status) }}</span>\n          </div>\n          <button class=\"expand-btn\" @click=\"toggleExpand(device.id)\">\n            {{ isExpanded(device.id) ? 'âˆ’' : '+' }}\n          </button>\n        </div>\n        \n        <!-- Always show basic info (reduced form) -->\n        <div class=\"reduced-info\">\n          <!-- Type chip displayed on the right side -->\n          <div v-if=\"device.type\" class=\"type-chip\" :class=\"getDeviceTypeColorClass(device.type)\">\n            {{ device.type }}\n          </div>\n          \n          <!-- Show attached server as a clickable chip if available -->\n          <div v-if=\"device.attachedServer\" class=\"detail-row\">\n            <strong>Attached to:</strong>\n            <div \n              class=\"server-chip\" \n              :class=\"getServerCpuColorClass(device.attachedServer)\"\n              @click=\"navigateToServer(device.attachedServer)\"\n              title=\"Click to see this server in Server List\"\n            >\n              {{ getServerName(device.attachedServer) }}\n            </div>\n          </div>\n          \n          <!-- Show users if available -->\n          <p v-if=\"device.users && device.users.length\">\n            <strong>Users:</strong> {{ formatUsers(device.users) }}\n          </p>\n        </div>\n        \n        <!-- Expanded content -->\n        <div v-if=\"isExpanded(device.id)\" class=\"expanded-content\">\n          <hr>\n          \n          <!-- Show serial number only if not empty -->\n          <div v-if=\"device.serialNumber\" class=\"detail-row\">\n            <strong>Serial:</strong> {{ device.serialNumber }}\n          </div>\n          \n          <!-- Show location only if not empty -->\n          <div v-if=\"device.location\" class=\"detail-row\">\n            <strong>Location:</strong> {{ device.location }}\n          </div>\n          \n          <!-- Show other fields (only if not empty) -->\n          <div \n            v-for=\"(value, key) in getFilteredAdditionalFields(device)\" \n            :key=\"key\" \n            class=\"detail-row\"\n          >\n            <strong>{{ formatFieldName(key) }}:</strong> {{ value }}\n          </div>\n          \n          <!-- Show notes as the last field if available -->\n          <div v-if=\"device.note\" class=\"detail-row note-row\">\n            <strong>Notes:</strong> \n            <div class=\"note-content\">{{ device.note }}</div>\n          </div>\n          \n          <div class=\"button-row\">\n            <button \n              class=\"action-btn edit-btn\" \n              @click=\"openEditForm(device)\" \n              :disabled=\"!canEditDevice(device)\">\n              Edit\n            </button>\n            <button \n              class=\"action-btn reserve-btn\" \n              @click=\"reserveDevice(device)\"\n              :disabled=\"!device.attachedServer\">\n              Reserve\n            </button>\n            <button class=\"action-btn spec-btn\" @click=\"showDeviceDetails(device)\">Device Details</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Show message when no devices match filter -->\n    <div v-if=\"(deviceFilter || activeTab !== 'all') && filteredDevices.length === 0\" class=\"no-results\">\n      <p>No devices match your filter criteria.</p>\n      <div class=\"no-results-actions\">\n        <button @click=\"clearFilter\" class=\"clear-filter-button\">Clear Text Filter</button>\n        <button v-if=\"activeTab !== 'all'\" @click=\"activeTab = 'all'\" class=\"clear-filter-button\">Show All Types</button>\n      </div>\n    </div>\n    \n    <!-- Floating add device button -->\n    <button \n      v-if=\"canAddDevice()\" \n      class=\"floating-add-button\" \n      @click=\"openNewDeviceForm\"\n    >+</button>\n    \n    <!-- Device Form Modal -->\n    <device-form-modal\n      v-if=\"showNewDeviceModal || showEditDeviceModal\"\n      :edit-device=\"editingDevice\"\n      :servers-list=\"servers\"\n      @close=\"closeDeviceForm\"\n      @saved=\"handleDeviceSaved\"\n      @deleted=\"handleDeviceDeleted\"\n    />\n    \n    <!-- Device Details Modal -->\n    <div v-if=\"showDeviceDetailsModal\" class=\"app-modal-overlay\" @click.self=\"closeDeviceDetails\">\n      <div class=\"app-modal device-details-modal\">\n        <div class=\"app-modal-header\">\n          <h3>Device Details: {{ activeDevice?.name }}</h3>\n        </div>\n        <div class=\"app-modal-content\">\n          <!-- Type-specific fields -->\n          <template v-if=\"activeDevice?.type\">\n            <div class=\"section-divider\">{{ activeDevice.type }} Specific Details</div>\n            \n            <!-- Display all type-specific fields dynamically -->\n            <div \n              v-for=\"field in getTypeSpecificFields(activeDevice.type)\" \n              :key=\"field\" \n              class=\"app-form-group\"\n            >\n              <label>{{ formatFieldName(field) }}</label>\n              <div class=\"info-display\">\n                <!-- Check if field is a password field -->\n                <template v-if=\"isPasswordField(field)\">\n                  <!-- Only show passwords to users with permission -->\n                  <template v-if=\"hasViewPermissions()\">\n                    <span class=\"password-field\">\n                      {{ isPasswordVisible(field) ? activeDevice[field] : 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢' }}\n                      <button \n                        class=\"toggle-password\" \n                        @click=\"togglePasswordVisibility(field)\" \n                        :title=\"isPasswordVisible(field) ? 'Hide password' : 'Show password'\"\n                      >\n                        <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" fill=\"none\">\n                          <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                          <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                        </svg>\n                      </button>\n                    </span>\n                  </template>\n                  <template v-else>\n                    <span class=\"password-hidden\">[Hidden]</span>\n                  </template>\n                </template>\n                <template v-else-if=\"activeDevice[field] !== undefined && activeDevice[field] !== null\">\n                  {{ Array.isArray(activeDevice[field]) ? activeDevice[field].join(', ') : activeDevice[field] }}\n                </template>\n                <template v-else>N/A</template>\n              </div>\n            </div>\n          </template>\n          \n          <!-- Additional Properties Section -->\n          <div v-if=\"hasAdditionalProperties\">\n            <div class=\"section-divider\">Additional Properties</div>\n            <div \n              v-for=\"(value, key) in getAdditionalFields(activeDevice)\" \n              :key=\"key\" \n              class=\"app-form-group\"\n            >\n              <label>{{ formatFieldName(key) }}</label>\n              <div class=\"info-display\">{{ value }}</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"app-modal-footer\">\n          <button \n            v-if=\"activeDevice?.attachedServer\" \n            @click=\"reserveActiveDevice\" \n            class=\"app-btn app-btn-primary\"\n          >\n            Reserve\n          </button>\n          <button @click=\"closeDeviceDetails\" class=\"app-btn app-btn-secondary\">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { auth, isAdmin, isUser } from '@/firebase' // Add isUser import\nimport { dailyCache } from '@/utils/dailyCache'\nimport DeviceFormModal from '@/components/DeviceFormModal.vue'\nimport { \n  getExcludedFields,\n  formatFieldName,\n  TYPE_SPECIFIC_FIELDS, // Add this import\n  getDeviceTypesList,\n  getDeviceTypeInfo\n} from '@/utils/deviceFieldConfig'\nimport '@/assets/styles/common/common-ui.css'\nimport '@/assets/styles/components/DeviceList.css'\n\nexport default {\n  name: 'DeviceList',\n  components: {\n    DeviceFormModal\n  },\n  data() {\n    return {\n      devices: [],\n      servers: [],\n      expandedDevices: new Set(),\n      deviceFilter: this.$route.query.filter || '',\n      activeTab: 'all',\n      showNewDeviceModal: false,\n      showEditDeviceModal: false,\n      showDeviceDetailsModal: false,\n      activeDevice: null,\n      editingDevice: null,\n      deviceTypes: [],\n      ownershipFilter: 'all', // Add the ownership filter property\n      visiblePasswords: new Set() // Add this to track visible passwords\n    }\n  },\n  computed: {\n    // User info\n    currentUserEmail() {\n      return auth.currentUser ? auth.currentUser.email : '';\n    },\n    currentUsername() {\n      if (!this.currentUserEmail) return '';\n      return this.currentUserEmail.split('@')[0];\n    },\n    \n    // Filter devices based on active tab and search criteria\n    filteredDevices() {\n      // First filter by device type (tab)\n      let result = this.devices;\n      \n      if (this.activeTab !== 'all') {\n        const searchType = this.activeTab.toLowerCase();\n        result = result.filter(device => {\n          const deviceType = device.type ? device.type.toLowerCase() : '';\n          return deviceType === searchType;\n        });\n      }\n      \n      // Apply ownership filter\n      if (this.ownershipFilter !== 'all') {\n        if (this.ownershipFilter === 'owned') {\n          // Filter by owned devices\n          result = result.filter(device => \n            device.owner && device.owner.toLowerCase() === this.currentUsername.toLowerCase()\n          );\n        } else if (this.ownershipFilter === 'used') {\n          // Filter by devices where user is listed as a user\n          result = result.filter(device => \n            device.users && Array.isArray(device.users) && \n            device.users.some(user => user.toLowerCase() === this.currentUsername.toLowerCase())\n          );\n        }\n      }\n      \n      // Then apply the text filter (only name and attached server)\n      if (this.deviceFilter) {\n        const filter = this.deviceFilter.toLowerCase().trim();\n\n        result = result.filter(device => {\n          // Filter by device name\n          const nameMatch = device.name && device.name.toLowerCase().includes(filter);\n\n          // Filter by attached server name\n          const serverMatch = device.attachedServer && this.getServerName(device.attachedServer).toLowerCase().includes(filter);\n\n          // Filter by attachedServer field\n          const attachedServerMatch = device.attachedServer && device.attachedServer.toLowerCase().includes(filter);\n\n          // Filter by serial number\n          const serialMatch = device.serialNumber && device.serialNumber.toLowerCase().includes(filter);\n\n          return nameMatch || serverMatch || attachedServerMatch || serialMatch;\n        });\n      }\n      \n      // Sort by: 1) device type, 2) status, 3) name alphabetically\n      return result.sort((a, b) => {\n        // 1. Get device type indices from the deviceTypes array (case-insensitive)\n        const typeA = a.type ? a.type.toUpperCase() : '';\n        const typeB = b.type ? b.type.toUpperCase() : '';\n        \n        const indexA = this.deviceTypes.findIndex(t => t.toUpperCase() === typeA);\n        const indexB = this.deviceTypes.findIndex(t => t.toUpperCase() === typeB);\n        \n        // Use default high index for types not in the deviceTypes array\n        const priorityA = indexA !== -1 ? indexA : this.deviceTypes.length;\n        const priorityB = indexB !== -1 ? indexB : this.deviceTypes.length;\n        \n        // Compare type priorities first\n        if (priorityA !== priorityB) {\n          return priorityA - priorityB;\n        }\n        \n        // 2. If types are the same, sort by status (used, idle, broken)\n        const statusOrder = { 'used': 0, 'idle': 1, 'broken': 2 };\n        const statusA = a.status ? a.status.toLowerCase() : 'unknown';\n        const statusB = b.status ? b.status.toLowerCase() : 'unknown';\n        \n        const statusPriorityA = statusOrder[statusA] !== undefined ? statusOrder[statusA] : 999;\n        const statusPriorityB = statusOrder[statusB] !== undefined ? statusOrder[statusB] : 999;\n        \n        if (statusPriorityA !== statusPriorityB) {\n          return statusPriorityA - statusPriorityB;\n        }\n        \n        // 3. If status is also the same, sort by name alphabetically\n        const nameA = (a.name || '').toLowerCase();\n        const nameB = (b.name || '').toLowerCase();\n        return nameA.localeCompare(nameB);\n      });\n    },\n    \n    // Check if device has additional properties to display\n    hasAdditionalProperties() {\n      return this.activeDevice && Object.keys(this.getAdditionalFields(this.activeDevice)).length > 0;\n    }\n  },\n  methods: {\n    // Create default device object\n    getDefaultDeviceObject() {\n      return {\n        name: '',\n        type: '',\n        serialNumber: '',\n        owner: this.currentUsername,\n        status: 'idle',\n        model: '',\n        manufacturer: '',\n        purchasedDate: '',\n        location: ''\n      };\n    },\n    \n    // Get CSS class for device based on type\n    getDeviceTypeColorClass(type) {\n      if (!type) return 'type-default';\n      \n      const typeLower = type.toLowerCase();\n      \n      if (typeLower.includes('nic')) return 'type-blue';\n      if (typeLower.includes('ssd')) return 'type-green';\n      if (typeLower.includes('fpga')) return 'type-orange';\n      if (typeLower.includes('gpu')) return 'type-red';\n      if (typeLower.includes('cxl')) return 'type-purple';\n      \n      return 'type-default';\n    },\n    \n    // Get status color class\n    getStatusColor(status) {\n      if (!status) return 'status-red';\n      status = status.toLowerCase();\n      return (status === 'used' || status === 'idle') ? 'status-green' : 'status-red';\n    },\n    \n    // Get background class based on status\n    getStatusBackgroundClass(status) {\n      if (!status) return 'bg-inactive';\n      status = status.toLowerCase();\n      if (status === 'used') return 'bg-active';\n      return 'bg-inactive';\n    },\n    \n    // Format status for display\n    formatStatus(status) {\n      if (!status) return 'Unknown';\n      return status.charAt(0).toUpperCase() + status.slice(1);\n    },\n    \n    formatDate(dateString) {\n      if (!dateString) return 'N/A';\n      const date = new Date(dateString);\n      return date.toLocaleDateString();\n    },\n    \n    // Device expansion\n    toggleExpand(deviceId) {\n      if (this.expandedDevices.has(deviceId)) {\n        this.expandedDevices.delete(deviceId);\n      } else {\n        this.expandedDevices.add(deviceId);\n      }\n    },\n    \n    isExpanded(deviceId) {\n      return this.expandedDevices.has(deviceId);\n    },\n    \n    // Get additional fields for display\n    getFilteredAdditionalFields(device) {\n      if (!device) return {};\n      \n      const excludeFields = getExcludedFields(device.type);\n      \n      return Object.fromEntries(\n        Object.entries(device).filter(([key, value]) => \n          !excludeFields.includes(key) && \n          key !== 'note' &&\n          value !== null && \n          value !== undefined && \n          value !== '' &&\n          !(Array.isArray(value) && value.length === 0) &&\n          !key.toLowerCase().includes('transfer')\n        )\n      );\n    },\n    \n    getAdditionalFields(device) {\n      if (!device) return {};\n      \n      const excludeFields = getExcludedFields(device.type);\n      \n      return Object.fromEntries(\n        Object.entries(device).filter(([key, value]) => \n          !excludeFields.includes(key) && \n          value !== null && \n          value !== undefined && \n          value !== '' &&\n          !(Array.isArray(value) && value.length === 0) &&\n          !key.toLowerCase().includes('transfer')\n        )\n      );\n    },\n    \n    // Device details modal\n    showDeviceDetails(device) {\n      this.activeDevice = JSON.parse(JSON.stringify(device));\n      this.showDeviceDetailsModal = true;\n    },\n    \n    closeDeviceDetails() {\n      this.showDeviceDetailsModal = false;\n      this.activeDevice = null;\n    },\n    \n    // Reserve active device\n    reserveActiveDevice() {\n      if (this.activeDevice && this.activeDevice.attachedServer) {\n        const server = this.servers.find(s => s.id === this.activeDevice.attachedServer);\n        if (server) {\n          this.$router.push({\n            path: '/calendar',\n            query: { device: this.activeDevice.name }\n          });\n        }\n        this.closeDeviceDetails();\n      }\n    },\n    \n    // Filter management\n    clearFilter() {\n      this.deviceFilter = '';\n      \n      if (this.$route.query.filter) {\n        const newQuery = { ...this.$route.query };\n        delete newQuery.filter;\n        \n        this.$router.replace({\n          query: Object.keys(newQuery).length ? newQuery : undefined\n        });\n      }\n    },\n    \n    clearTabFilter() {\n      this.activeTab = 'all';\n    },\n    \n    clearAllFilters() {\n      this.clearFilter();\n      this.clearTabFilter();\n    },\n    \n    // Permission checks\n    canEditDevice(device) {\n      if (isAdmin()) return true;\n      \n      if (isUser()) {\n        if (!device.owner || !this.currentUsername) return false;\n        return device.owner.toLowerCase() === this.currentUsername.toLowerCase();\n      }\n      \n      return false;\n    },\n    \n    canAddDevice() {\n      return isAdmin() || isUser();\n    },\n    \n    // Form management\n    openNewDeviceForm() {\n      if (!this.canAddDevice()) {\n        alert('You need to sign in with an account that has permission to add devices.');\n        return;\n      }\n      \n      this.editingDevice = null;\n      this.showNewDeviceModal = true;\n    },\n    \n    openEditForm(device) {\n      if (!this.canEditDevice(device)) {\n        if (!isUser() && !isAdmin()) {\n          alert('You need to sign in to edit devices.');\n        } else {\n          alert('Only the owner can edit this device.');\n        }\n        return;\n      }\n      \n      this.editingDevice = JSON.parse(JSON.stringify(device));\n      this.showEditDeviceModal = true;\n    },\n    \n    closeDeviceForm() {\n      this.showNewDeviceModal = false;\n      this.showEditDeviceModal = false;\n      this.editingDevice = null;\n    },\n    \n    async handleDeviceSaved() {\n      console.log('Device saved successfully');\n      await this.refreshDeviceCache();\n      this.closeDeviceForm();\n    },\n    \n    async handleDeviceDeleted() {\n      console.log('Device deleted successfully');\n      await this.refreshDeviceCache();\n      this.closeDeviceForm();\n    },\n    \n    // Reserve device\n    reserveDevice(device) {\n      if (device.attachedServer) {\n        const server = this.servers.find(s => s.id === device.attachedServer);\n        if (server) {\n          this.$router.push({\n            path: '/calendar',\n            query: { device: device.name }\n          });\n          return;\n        }\n      }\n      \n      alert('This device is not attached to any server. Please attach it to a server first to make a reservation.');\n    },\n    \n    // State management\n    resetState() {\n      this.deviceFilter = this.$route.query.filter || '';\n      this.activeTab = 'all';\n      this.closeModals();\n      \n      if (this.$route.query.ownershipFilter) {\n        this.ownershipFilter = this.$route.query.ownershipFilter;\n      }\n\n      this.visiblePasswords.clear();\n    },\n    \n    closeModals() {\n      this.showNewDeviceModal = false;\n      this.showEditDeviceModal = false;\n      this.showDeviceDetailsModal = false;\n      this.activeDevice = null;\n      this.editingDevice = null;\n    },\n    \n    formatUsers(users) {\n      if (!users || !Array.isArray(users)) return 'None';\n      return users.join(', ');\n    },\n    \n    // Get server name by ID\n    getServerName(serverId) {\n      const server = this.servers.find(s => s.id === serverId);\n      return server ? server.name : 'Unknown Server';\n    },\n    \n    // Get server CPU type color class\n    getServerCpuColorClass(serverId) {\n      const server = this.servers.find(s => s.id === serverId);\n      if (!server || !server.cpuType) return 'cpu-default';\n      \n      const cpuLower = server.cpuType.toLowerCase();\n      \n      // Use the same color scheme as in ServerList.vue\n      if (cpuLower.includes('skx') || cpuLower.includes('icx') || cpuLower.includes('skl')) return 'cpu-blue';\n      if (cpuLower.includes('spr') || cpuLower.includes('emr') || cpuLower.includes('gnr')) return 'cpu-green';\n      if (cpuLower.includes('hsw') || cpuLower.includes('bdw') || cpuLower.includes('haswell') || cpuLower.includes('broadwell')) return 'cpu-orange';\n      if (cpuLower.includes('epyc')) return 'cpu-purple';\n      \n      return 'cpu-default';\n    },\n    \n    // Navigate to server list with filter\n    navigateToServer(serverId) {\n      const server = this.servers.find(s => s.id === serverId);\n      if (server && server.name) {\n        this.$router.push({\n          path: '/servers',\n          query: { filter: server.name }\n        });\n      }\n    },\n    \n    formatFieldName,\n    \n    getTypeSpecificFields(deviceType) {\n      return deviceType && TYPE_SPECIFIC_FIELDS[deviceType] \n        ? TYPE_SPECIFIC_FIELDS[deviceType]\n        : [];\n    },\n\n    // Password visibility management\n    isPasswordField(fieldName) {\n      return fieldName.toLowerCase().includes('password');\n    },\n    \n    isPasswordVisible(field) {\n      return this.visiblePasswords.has(field);\n    },\n    \n    togglePasswordVisibility(field) {\n      if (this.visiblePasswords.has(field)) {\n        this.visiblePasswords.delete(field);\n      } else {\n        this.visiblePasswords.add(field);\n        setTimeout(() => {\n          this.visiblePasswords.delete(field);\n          this.$forceUpdate();\n        }, 5000);\n      }\n    },\n    \n    hasViewPermissions() {\n      return isAdmin() || isUser();\n    },\n\n    // Helper method to get device type info\n    getDeviceTypeInfo(type) {\n      return getDeviceTypeInfo(type);\n    },\n\n    // Load devices using daily cache\n    async loadDevices() {\n      try {\n        this.devices = await dailyCache.loadData('devices');\n        console.log('Loaded devices:', this.devices.length);\n      } catch (error) {\n        console.error('Error loading devices:', error);\n        this.devices = [];\n      }\n    },\n\n    // Load servers using daily cache\n    async loadServers() {\n      try {\n        this.servers = await dailyCache.loadData('servers');\n        console.log('Loaded servers:', this.servers.length);\n      } catch (error) {\n        console.error('Error loading servers:', error);\n        this.servers = [];\n      }\n    },\n\n    // Refresh device cache after changes\n    async refreshDeviceCache() {\n      try {\n        this.devices = await dailyCache.refreshData('devices');\n        this.servers = await dailyCache.refreshData('servers');\n        console.log('Cache refreshed - Devices:', this.devices.length, 'Servers:', this.servers.length);\n      } catch (error) {\n        console.error('Error refreshing cache:', error);\n      }\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    this.closeModals();\n    next();\n  },\n  \n  activated() {\n    this.resetState();\n  },\n  \n  mounted() {\n    this.resetState();\n  },\n  created() {\n    // Initialize device types\n    this.deviceTypes = getDeviceTypesList();\n    \n    // Load data using daily cache\n    this.loadDevices();\n    this.loadServers();\n    \n    if (this.$route.query.ownershipFilter) {\n      this.ownershipFilter = this.$route.query.ownershipFilter;\n    }\n  },\n  watch: {\n    '$route.query.filter'(newFilter) {\n      if (newFilter !== undefined) {\n        this.deviceFilter = newFilter;\n      }\n    },\n    \n    '$route.query.ownershipFilter'(newFilter) {\n      if (newFilter) {\n        this.ownershipFilter = newFilter;\n      }\n    }\n  }\n}\n</script>\n\n<!-- DeviceList component styles moved to /src/assets/styles/components/DeviceList.css -->","<template>\n  <div class=\"app-modal-overlay\" @click.self=\"closeModal\">\n    <div class=\"app-modal\">\n      <div class=\"app-modal-header\">\n        <h3>{{ isEditMode ? `Edit Device: ${device.name}` : 'Add New Device' }}</h3>\n      </div>\n      <div class=\"app-modal-content\">\n        <!-- Single-column form layout -->\n        <div class=\"app-form-single-column\">\n          <!-- Common fields for all device types -->\n          <div class=\"app-form-group\">\n            <label for=\"deviceName\">Name <span class=\"app-required-field\">*</span></label>\n            <input type=\"text\" id=\"deviceName\" v-model=\"device.name\" required>\n          </div>\n          \n          <div class=\"app-form-group\">\n            <label for=\"deviceType\">Type <span class=\"app-required-field\">*</span></label>\n            <select id=\"deviceType\" v-model=\"device.type\" @change=\"handleTypeChange\" required>\n              <option value=\"\">Select device type</option>\n              <option v-for=\"type in deviceTypes\" :key=\"type\" :value=\"type\">\n                {{ type }} - {{ getDeviceTypeInfo(type).label }}\n              </option>\n            </select>\n          </div>\n          \n          <div class=\"app-form-group\">\n            <label for=\"deviceOwner\">Owner <span class=\"app-required-field\">*</span></label>\n            <input \n              type=\"text\" \n              id=\"deviceOwner\" \n              v-model=\"device.owner\"\n              :disabled=\"!userIsAdmin\"\n              class=\"owner-input\"\n              :class=\"{'owner-input-disabled': !userIsAdmin}\"\n            >\n          </div>\n          \n          <div class=\"app-form-group\">\n            <label for=\"deviceStatus\">Status <span class=\"app-required-field\">*</span></label>\n            <select id=\"deviceStatus\" v-model=\"device.status\" required>\n              <option value=\"idle\">Idle</option>\n              <option value=\"used\">Used</option>\n              <option value=\"broken\">Broken</option>\n              <option value=\"retired\">Retired</option>\n            </select>\n          </div>\n          \n          <!-- Attached Server field - only shown when status is \"used\" -->\n          <div class=\"app-form-group\" v-if=\"device.status === 'used'\">\n            <label for=\"attachedServer\">Attached Server <span class=\"app-required-field\">*</span></label>\n            <select id=\"attachedServer\" v-model=\"device.attachedServer\" required>\n              <option value=\"\">Select a server</option>\n              <option v-for=\"server in sortedServersList\" :key=\"server.id\" :value=\"server.id\">\n                {{ server.name }}\n              </option>\n            </select>\n          </div>\n          \n          <div class=\"app-form-group\">\n            <label for=\"deviceUsers\">Users (comma separated)</label>\n            <input type=\"text\" id=\"deviceUsers\" v-model=\"usersInput\" placeholder=\"user1, user2, user3\">\n          </div>\n          \n          <div class=\"app-form-group\">\n            <label for=\"serialNumber\">Serial Number (S/N)</label>\n            <input type=\"text\" id=\"serialNumber\" v-model=\"device.serialNumber\">\n          </div>\n          \n          <div class=\"app-form-group\">\n            <label for=\"deviceLocation\">Location</label>\n            <input type=\"text\" id=\"deviceLocation\" v-model=\"device.location\">\n          </div>\n          \n          <div class=\"app-form-group\">\n            <label for=\"deviceNote\">Notes</label>\n            <textarea id=\"deviceNote\" v-model=\"device.note\" rows=\"3\"></textarea>\n          </div>\n        </div>\n        \n        <!-- Dynamic fields based on device type -->\n        <div v-if=\"device.type\" class=\"app-section-divider\">\n          <h4>{{ device.type }} Specific Information</h4>\n          \n          <!-- Single-column layout for device-specific fields -->\n          <div class=\"app-form-single-column\">\n            <!-- NIC specific fields -->\n            <template v-if=\"device.type === 'NIC'\">\n              <div class=\"app-form-group\">\n                <label for=\"dataRate\">Data Rate</label>\n                <input type=\"text\" id=\"dataRate\" v-model=\"device.dataRate\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"partNumber\">Part Number (P/N)</label>\n                <input type=\"text\" id=\"partNumber\" v-model=\"device.partNumber\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"ips\">IPs (comma separated)</label>\n                <input type=\"text\" id=\"ips\" v-model=\"ipsInput\" placeholder=\"192.168.1.1, 10.0.0.1\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"bmcIp\">BMC IP</label>\n                <input type=\"text\" id=\"bmcIp\" v-model=\"device.bmcIp\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"oobMac\">OOB MAC</label>\n                <input type=\"text\" id=\"oobMac\" v-model=\"device.oobMac\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"sudoUser\">Sudo Username</label>\n                <input type=\"text\" id=\"sudoUser\" v-model=\"device.sudoUser\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"sudoPassword\">Sudo Password</label>\n                <div class=\"app-password-container\">\n                  <input \n                    :type=\"showSudoPassword ? 'text' : 'password'\" \n                    id=\"sudoPassword\" \n                    v-model=\"device.sudoPassword\"\n                  >\n                  <button \n                    type=\"button\"\n                    class=\"app-password-toggle\"\n                    @click=\"showSudoPassword = !showSudoPassword\"\n                  >\n                    <span v-if=\"showSudoPassword\">Hide</span>\n                    <span v-else>Show</span>\n                  </button>\n                </div>\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"bmcUser\">BMC Username</label>\n                <input type=\"text\" id=\"bmcUser\" v-model=\"device.bmcUser\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"bmcPassword\">BMC Password</label>\n                <div class=\"app-password-container\">\n                  <input \n                    :type=\"showBmcPassword ? 'text' : 'password'\" \n                    id=\"bmcPassword\" \n                    v-model=\"device.bmcPassword\"\n                  >\n                  <button \n                    type=\"button\"\n                    class=\"app-password-toggle\"\n                    @click=\"showBmcPassword = !showBmcPassword\"\n                  >\n                    <span v-if=\"showBmcPassword\">Hide</span>\n                    <span v-else>Show</span>\n                  </button>\n                </div>\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"hostMacs\">Host MACs (comma separated)</label>\n                <input type=\"text\" id=\"hostMacs\" v-model=\"hostMacsInput\" placeholder=\"00:11:22:33:44:55, 66:77:88:99:AA:BB\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"boardId\">Board ID</label>\n                <input type=\"text\" id=\"boardId\" v-model=\"device.boardId\">\n              </div>\n            </template>\n            \n            <!-- FPGA specific fields -->\n            <template v-else-if=\"device.type === 'FPGA' || device.type === 'CXL(FPGA)'\">\n              <div class=\"app-form-group\">\n                <label for=\"partNumber\">Part Number (P/N)</label>\n                <input type=\"text\" id=\"partNumber\" v-model=\"device.partNumber\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"mac\">MAC</label>\n                <input type=\"text\" id=\"mac\" v-model=\"device.mac\">\n              </div>\n            </template>\n            \n            <!-- CXL(ASIC) specific fields -->\n            <template v-else-if=\"device.type === 'CXL(ASIC)'\">\n              <div class=\"app-form-group\">\n                <label for=\"partNumber\">Part Number (P/N)</label>\n                <input type=\"text\" id=\"partNumber\" v-model=\"device.partNumber\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"capacity\">Capacity</label>\n                <input type=\"text\" id=\"capacity\" v-model=\"device.capacity\">\n              </div>\n            </template>\n            \n            <!-- SSD and GPU specific fields -->\n            <template v-else-if=\"device.type === 'SSD' || device.type === 'GPU'\">\n              <div class=\"app-form-group\">\n                <label for=\"partNumber\">Part Number (P/N)</label>\n                <input type=\"text\" id=\"partNumber\" v-model=\"device.partNumber\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"model\">Model</label>\n                <input type=\"text\" id=\"model\" v-model=\"device.model\">\n              </div>\n              \n              <div class=\"app-form-group\">\n                <label for=\"manufacturer\">Manufacturer</label>\n                <input type=\"text\" id=\"manufacturer\" v-model=\"device.manufacturer\">\n              </div>\n              \n              <div class=\"app-form-group\" v-if=\"device.type === 'SSD'\">\n                <label for=\"capacity\">Capacity</label>\n                <input type=\"text\" id=\"capacity\" v-model=\"device.capacity\">\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"app-modal-footer\">\n        <button @click=\"saveDevice\" class=\"app-btn app-btn-primary\">Save</button>\n        <button @click=\"closeModal\" class=\"app-btn app-btn-secondary\">Cancel</button>\n        <button \n          v-if=\"isEditMode\" \n          @click=\"confirmDelete\" \n          class=\"app-btn app-btn-danger\"\n        >Delete</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { firestore, auth } from '@/firebase'\nimport { collection, doc, addDoc, updateDoc, deleteDoc, getDoc } from 'firebase/firestore'\nimport { DEFAULT_DEVICE_TYPE_VALUES, getDeviceTypesList, getDeviceTypeInfo } from '@/utils/deviceFieldConfig'\nimport { isAdmin as checkIsAdmin, isUser as checkIsUser } from '@/firebase' // Add isUser import\nimport '@/assets/styles/common/modal-common.css'\nimport '@/assets/styles/components/DeviceFormModal.css'\n\nexport default {\n  name: 'DeviceFormModal',\n  props: {\n    editDevice: {\n      type: Object,\n      default: null\n    },\n    serversList: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      device: this.getDefaultDevice(),\n      originalAttachedServer: null,\n      deviceTypes: getDeviceTypesList(),\n      showSudoPassword: false,\n      showBmcPassword: false,\n      usersInput: '',\n      ipsInput: '',\n      hostMacsInput: '',\n      newAttachedServer: null\n    }\n  },\n  computed: {\n    isEditMode() {\n      return this.editDevice !== null;\n    },\n    currentUserEmail() {\n      return auth.currentUser ? auth.currentUser.email : '';\n    },\n    currentUsername() {\n      if (!this.currentUserEmail) return '';\n      return this.currentUserEmail.split('@')[0];\n    },\n    // Renamed to userIsAdmin to avoid duplicate key error\n    userIsAdmin() {\n      return checkIsAdmin();\n    },\n    // Add computed property to check if user is a regular user or admin\n    hasEditPermission() {\n      return checkIsAdmin() || checkIsUser();\n    },\n\n    // Sorted server list (same ordering as ServerList.vue)\n    sortedServersList() {\n      return [...this.serversList].sort((a, b) => {\n        // Get CPU type group indices (lower index = higher priority)\n        const groupA = this.getCpuTypeGroupIndex(a.cpuType);\n        const groupB = this.getCpuTypeGroupIndex(b.cpuType);\n\n        // If different groups, sort by group\n        if (groupA !== groupB) {\n          return groupA - groupB;\n        }\n\n        // If same group, sort alphabetically by name\n        const nameA = (a.name || '').toLowerCase();\n        const nameB = (b.name || '').toLowerCase();\n        return nameA.localeCompare(nameB);\n      });\n    }\n  },\n  watch: {\n    editDevice() {\n      this.initializeFormData();\n    },\n    \n    // Fixed watcher by combining two implementations\n    'device.status': function(newStatus, oldStatus) {\n      // If changing from \"used\" to something else\n      if (oldStatus === 'used' && newStatus !== 'used') {\n        // Store original server for reference\n        this.originalAttachedServer = this.device.attachedServer;\n        // Clear the attached server\n        this.device.attachedServer = ''; \n      }\n    },\n    \n    // Enhanced watch for attachedServer changes\n    'device.attachedServer': function(newServer, oldServer) {\n      if (this.isEditMode && newServer !== oldServer) {\n        this.newAttachedServer = newServer;\n      }\n    }\n  },\n  methods: {\n    getDefaultDevice() {\n      return {\n        name: '',\n        type: '',\n        owner: this.currentUsername || '',\n        status: 'idle',\n        attachedServer: '',\n        location: '',\n        users: [],\n        note: '',\n        // The specific fields will be added dynamically based on device type\n      };\n    },\n    \n    handleTypeChange() {\n      // Initialize type-specific fields when type changes\n      if (this.device.type && DEFAULT_DEVICE_TYPE_VALUES[this.device.type]) {\n        // Preserve the current basic fields\n        const { \n          name, type, owner, status, attachedServer, \n          location, users, note \n        } = this.device;\n        \n        // Add type-specific defaults\n        this.device = {\n          name, type, owner, status, attachedServer, location, users: users || [], note,\n          ...DEFAULT_DEVICE_TYPE_VALUES[this.device.type]\n        };\n      }\n    },\n    \n    processArrayInputs() {\n      const arrayFields = [\n        { input: 'usersInput', field: 'users' },\n        { input: 'ipsInput', field: 'ips' },\n        { input: 'hostMacsInput', field: 'hostMacs' }\n      ];\n      \n      arrayFields.forEach(({ input, field }) => {\n        if (this[input]) {\n          this.device[field] = this[input].split(',').map(item => item.trim()).filter(Boolean);\n        }\n      });\n    },\n    \n    validateForm() {\n      const requiredFields = [\n        { field: 'name', message: 'Device name is required' },\n        { field: 'type', message: 'Device type is required' },\n        { field: 'owner', message: 'Owner is required' },\n        { field: 'status', message: 'Status is required' }\n      ];\n      \n      for (const { field, message } of requiredFields) {\n        if (!this.device[field]) {\n          alert(message);\n          return false;\n        }\n      }\n      \n      if (this.device.status === 'used' && !this.device.attachedServer) {\n        alert('Attached Server is required when status is Used');\n        return false;\n      }\n      \n      return true;\n    },\n    \n    async saveDevice() {\n      // Check permissions first\n      if (!this.hasEditPermission) {\n        alert('You do not have permission to add or edit devices.');\n        return;\n      }\n      \n      if (!this.validateForm()) {\n        return;\n      }\n      \n      // Process array inputs\n      this.processArrayInputs();\n      \n      // Track server relationship changes\n      const oldServer = this.isEditMode ? this.originalAttachedServer : null;\n      const newServer = this.device.status === 'used' ? this.device.attachedServer : null;\n      \n      // Clear attached server if status is not \"used\"\n      if (this.device.status !== 'used') {\n        this.device.attachedServer = '';\n      }\n      \n      try {\n        const devicesCollection = collection(firestore, 'devices');\n        let deviceId;\n        \n        if (this.isEditMode) {\n          // Update existing device\n          deviceId = this.editDevice.id;\n          const deviceRef = doc(firestore, 'devices', deviceId);\n          const { id, ...deviceData } = this.device; // Remove id if present\n          console.log(\"Save device\", id);\n          await updateDoc(deviceRef, deviceData);\n        } else {\n          // Create new device\n          const docRef = await addDoc(devicesCollection, this.device);\n          deviceId = docRef.id;\n        }\n        \n        // Update server relationships if needed\n        if (oldServer !== newServer) {\n          await this.updateServerAttachment(deviceId, oldServer, newServer);\n        }\n        \n        this.$emit('saved');\n        this.closeModal();\n      } catch (error) {\n        console.error('Error saving device:', error);\n        alert(`Error saving device: ${error.message}`);\n      }\n    },\n    \n    // Enhanced method to handle both adding and removing from servers\n    async updateServerAttachment(deviceId, oldServerId, newServerId) {\n      try {\n        // Step 1: Remove from old server if needed\n        if (oldServerId) {\n          await this.updateServerDeviceList(oldServerId, deviceId, false);\n        }\n        \n        // Step 2: Add to new server if needed\n        if (newServerId) {\n          await this.updateServerDeviceList(newServerId, deviceId, true);\n        }\n        \n        console.log(`Server attachments updated. Device: ${deviceId}`);\n      } catch (error) {\n        console.error('Error updating server attachments:', error);\n      }\n    },\n    \n    // New helper method to update a server's device list\n    async updateServerDeviceList(serverId, deviceId, isAdding) {\n      try {\n        const serverRef = doc(firestore, 'servers', serverId);\n        const serverSnap = await getDoc(serverRef);\n        \n        if (serverSnap.exists()) {\n          const serverData = serverSnap.data();\n          let attachedDevices = serverData.attachedDevices || [];\n          \n          if (isAdding) {\n            // Add device if not already in list\n            if (!attachedDevices.includes(deviceId)) {\n              attachedDevices.push(deviceId);\n            }\n          } else {\n            // Remove device from list\n            attachedDevices = attachedDevices.filter(id => id !== deviceId);\n          }\n          \n          // Update server document\n          await updateDoc(serverRef, { attachedDevices });\n          console.log(`Device ${deviceId} ${isAdding ? 'added to' : 'removed from'} server ${serverId}`);\n        } else {\n          console.warn(`Server ${serverId} not found`);\n        }\n      } catch (error) {\n        console.error(`Error ${isAdding ? 'adding to' : 'removing from'} server:`, error);\n        throw error; // Re-throw so the calling function can handle it\n      }\n    },\n    \n    async confirmDelete() {\n      if (!this.isEditMode || !this.editDevice) return;\n      \n      // Check permissions first\n      if (!this.hasEditPermission) {\n        alert('You do not have permission to delete devices.');\n        return;\n      }\n      \n      if (confirm(`Are you sure you want to delete device \"${this.device.name}\"?`)) {\n        try {\n          // If device is attached to a server, update the server first\n          if (this.device.status === 'used' && this.device.attachedServer) {\n            await this.updateServerDeviceList(\n              this.device.attachedServer, \n              this.editDevice.id, \n              false\n            );\n          }\n          \n          // Then delete the device\n          const deviceRef = doc(firestore, 'devices', this.editDevice.id);\n          await deleteDoc(deviceRef);\n          \n          this.$emit('deleted');\n          this.closeModal();\n        } catch (error) {\n          console.error('Error deleting device:', error);\n          alert(`Error deleting device: ${error.message}`);\n        }\n      }\n    },\n    \n    closeModal() {\n      this.$emit('close');\n    },\n    \n    initializeFormData() {\n      if (this.isEditMode && this.editDevice) {\n        // Deep clone to avoid modifying props\n        this.device = JSON.parse(JSON.stringify(this.editDevice));\n        \n        // Store the original attached server for possible update later\n        this.originalAttachedServer = this.device.attachedServer || null;\n        \n        // Initialize separated inputs\n        this.usersInput = this.device.users ? this.device.users.join(', ') : '';\n        this.ipsInput = this.device.ips ? this.device.ips.join(', ') : '';\n        this.hostMacsInput = this.device.hostMacs ? this.device.hostMacs.join(', ') : '';\n      } else {\n        this.device = this.getDefaultDevice();\n        this.originalAttachedServer = null;\n        this.usersInput = '';\n        this.ipsInput = '';\n        this.hostMacsInput = '';\n      }\n    },\n\n    // Helper method to get device type info\n    getDeviceTypeInfo(type) {\n      return getDeviceTypeInfo(type);\n    },\n\n    // CPU type group priority for sorting (same as ServerList.vue)\n    getCpuTypeGroupIndex(cpuType) {\n      if (!cpuType) return 999;\n\n      const cpuLower = cpuType.toLowerCase();\n\n      if (cpuLower.includes('spr') || cpuLower.includes('emr') || cpuLower.includes('gnr')) return 0;\n      if (cpuLower.includes('skx') || cpuLower.includes('icx') || cpuLower.includes('skl')) return 1;\n      if (cpuLower.includes('epyc')) return 2;\n      if (cpuLower.includes('hsw') || cpuLower.includes('bdw') ||\n          cpuLower.includes('haswell') || cpuLower.includes('broadwell')) return 3;\n\n      return 4;\n    }\n  },\n  created() {\n    this.initializeFormData();\n  }\n}\n</script>\n","import { render } from \"./DeviceFormModal.vue?vue&type=template&id=e5562c4c\"\nimport script from \"./DeviceFormModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeviceFormModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DeviceList.vue?vue&type=template&id=2d172570\"\nimport script from \"./DeviceList.vue?vue&type=script&lang=js\"\nexport * from \"./DeviceList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["DEVICE_TYPES","label","color","icon","getDeviceTypesList","Object","keys","getDeviceTypeInfo","type","BASIC_DEVICE_FIELDS","TYPE_SPECIFIC_FIELDS","DEFAULT_DEVICE_TYPE_VALUES","dataRate","partNumber","serialNumber","ips","bmcIp","sudoUser","sudoPassword","bmcUser","bmcPassword","oobMac","hostMacs","boardId","mac","capacity","model","manufacturer","formatFieldName","key","replace","str","toUpperCase","getExcludedFields","deviceType","typeSpecificFields","class","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","title","_cache","_createElementVNode","xmlns","width","height","viewBox","fill","stroke","d","points","_hoisted_2","_hoisted_3","_normalizeClass","active","$data","ownershipFilter","onClick","$event","_hoisted_4","activeTab","_Fragment","_renderList","deviceTypes","toLowerCase","_hoisted_5","_hoisted_6","_hoisted_7","for","id","deviceFilter","placeholder","args","$options","clearFilter","_hoisted_8","_toDisplayString","filteredDevices","length","devices","_hoisted_9","device","getDeviceTypeColorClass","getStatusBackgroundClass","status","_hoisted_10","_hoisted_11","name","owner","_hoisted_13","_hoisted_14","getStatusColor","_hoisted_15","formatStatus","toggleExpand","isExpanded","_hoisted_16","_hoisted_17","attachedServer","_hoisted_18","getServerCpuColorClass","navigateToServer","getServerName","_hoisted_19","users","_hoisted_20","formatUsers","_hoisted_21","_hoisted_22","location","_hoisted_23","getFilteredAdditionalFields","value","note","_hoisted_24","_hoisted_25","_hoisted_26","openEditForm","disabled","canEditDevice","_hoisted_27","reserveDevice","_hoisted_28","showDeviceDetails","_hoisted_29","_hoisted_30","_hoisted_31","canAddDevice","openNewDeviceForm","showNewDeviceModal","showEditDeviceModal","_createBlock","_component_device_form_modal","editingDevice","servers","onClose","closeDeviceForm","onSaved","handleDeviceSaved","onDeleted","handleDeviceDeleted","showDeviceDetailsModal","_withModifiers","closeDeviceDetails","_hoisted_32","_hoisted_33","activeDevice","_hoisted_34","_hoisted_35","getTypeSpecificFields","field","_hoisted_36","isPasswordField","hasViewPermissions","_hoisted_37","isPasswordVisible","togglePasswordVisibility","cx","cy","r","_hoisted_39","undefined","Array","isArray","join","hasAdditionalProperties","_hoisted_40","getAdditionalFields","_hoisted_41","_hoisted_42","reserveActiveDevice","closeModal","isEditMode","required","onChange","handleTypeChange","userIsAdmin","sortedServersList","server","_hoisted_12","usersInput","rows","ipsInput","showSudoPassword","showBmcPassword","hostMacsInput","_hoisted_38","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","saveDevice","confirmDelete","props","editDevice","default","serversList","data","this","getDefaultDevice","originalAttachedServer","newAttachedServer","computed","currentUserEmail","auth","currentUser","email","currentUsername","split","checkIsAdmin","hasEditPermission","checkIsUser","sort","a","b","groupA","getCpuTypeGroupIndex","cpuType","groupB","nameA","nameB","localeCompare","watch","initializeFormData","newStatus","oldStatus","newServer","oldServer","methods","processArrayInputs","arrayFields","input","forEach","map","item","trim","filter","Boolean","validateForm","requiredFields","message","alert","devicesCollection","collection","firestore","deviceId","deviceRef","doc","deviceData","console","log","updateDoc","docRef","addDoc","updateServerAttachment","$emit","error","oldServerId","newServerId","updateServerDeviceList","serverId","isAdding","serverRef","serverSnap","getDoc","exists","serverData","attachedDevices","includes","push","warn","confirm","deleteDoc","JSON","parse","stringify","cpuLower","created","__exports__","components","DeviceFormModal","expandedDevices","Set","$route","query","visiblePasswords","result","searchType","some","user","nameMatch","serverMatch","attachedServerMatch","serialMatch","typeA","typeB","indexA","findIndex","t","indexB","priorityA","priorityB","statusOrder","statusA","statusB","statusPriorityA","statusPriorityB","getDefaultDeviceObject","purchasedDate","typeLower","charAt","slice","formatDate","dateString","date","Date","toLocaleDateString","has","delete","add","excludeFields","fromEntries","entries","find","s","$router","path","newQuery","clearTabFilter","clearAllFilters","isAdmin","isUser","refreshDeviceCache","resetState","closeModals","clear","fieldName","setTimeout","$forceUpdate","loadDevices","dailyCache","loadData","loadServers","refreshData","beforeRouteLeave","from","next","activated","mounted","newFilter","render"],"sourceRoot":""}