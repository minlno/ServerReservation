"use strict";(self["webpackChunkserver_reservation"]=self["webpackChunkserver_reservation"]||[]).push([[152],{116:function(e,r,t){var s=t(6518),i=t(9565),o=t(2652),a=t(9306),l=t(8551),n=t(1767),d=t(9539),c=t(4549),u=c("find",TypeError);s({target:"Iterator",proto:!0,real:!0,forced:u},{find:function(e){l(this);try{a(e)}catch(s){d(this,"throw",s)}if(u)return i(u,this,e);var r=n(this),t=0;return o(r,function(r,s){if(e(r,t++))return s(r)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},5152:function(e,r,t){t.r(r),t.d(r,{default:function(){return Gr}});var s=t(641),i=t(33),o=t(3751);const a={class:"server-list"},l={class:"ownership-toggle-container"},n={class:"app-toggle-buttons-small"},d={class:"filter-container"},c={class:"filter"},u={key:0,class:"filter-stats"},v={class:"item-grid"},p={class:"card-header"},m={class:"name-and-owner"},h=["title"],k={class:"owner-name"},S={class:"status-container"},w=["onClick","title"],b={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18"},L=["fill","stroke"],f={class:"status-indicator"},g={class:"status-text"},y=["onClick"],C={key:0},U={key:1},P={key:2},F={key:3,class:"expanded-content"},D={key:0,class:"detail-row"},E={key:1,class:"detail-row"},N={class:"password-field"},x=["onClick","title"],A={key:2,class:"detail-row"},T={class:"bmc-links-container"},V=["href"],I={key:3,class:"detail-row"},M={key:4,class:"detail-row"},q={class:"password-field"},X=["onClick","title"],_={key:5,class:"detail-row"},G={key:6,class:"detail-row"},B=["onClick","innerHTML"],J={key:0,class:"note-expand-indicator"},Q={key:7,class:"detail-row"},W={class:"attached-devices-chips"},$=["onClick"],O={class:"button-row"},R=["onClick","disabled"],H=["onClick"],j=["onClick"],z={key:0,class:"no-results"},K={class:"modal server-form-modal"},Y={class:"form-content"},Z={class:"form-group"},ee={class:"form-group"},re={class:"form-group"},te={class:"form-group"},se=["disabled"],ie={class:"form-group"},oe={class:"form-group"},ae={class:"form-group"},le={class:"form-group"},ne={class:"form-group"},de={class:"form-group"},ce={class:"form-group"},ue={class:"form-group"},ve={class:"form-group"},pe={class:"form-group"},me={class:"form-group"},he={class:"form-group"},ke={class:"form-group"},Se={class:"form-group"},we={class:"form-group"},be={class:"form-group"},Le={class:"form-group"},fe={class:"form-group device-selection-container"},ge={class:"device-filter"},ye={key:0,class:"filter-notice"},Ce={class:"devices-selection"},Ue={key:0,class:"no-devices-message"},Pe=["onClick"],Fe={class:"device-label"},De={class:"device-name"},Ee={class:"device-type-badge"},Ne={class:"modal-actions"},xe={class:"modal server-form-modal"},Ae={class:"form-content"},Te={class:"form-group"},Ve={class:"form-group"},Ie={class:"form-group"},Me={class:"form-group"},qe=["disabled"],Xe={class:"form-group"},_e={class:"form-group"},Ge={class:"form-group"},Be={class:"form-group"},Je={class:"password-input-container"},Qe=["type"],We={class:"form-group"},$e={class:"form-group"},Oe={class:"form-group"},Re={class:"password-input-container"},He=["type"],je={class:"form-group"},ze={class:"form-group"},Ke={class:"form-group"},Ye={class:"form-group"},Ze={class:"form-group"},er={class:"form-group"},rr={class:"form-group"},tr={class:"form-group"},sr={class:"form-group"},ir={class:"form-group"},or={class:"form-group device-selection-container"},ar={class:"device-filter"},lr={key:0,class:"filter-notice"},nr={class:"devices-selection"},dr={key:0,class:"no-devices-message"},cr=["onClick"],ur={class:"device-label"},vr={class:"device-name"},pr={class:"device-label-content"},mr={class:"device-type-badge"},hr={key:0,class:"attached-elsewhere-note"},kr={class:"modal-actions"},Sr={class:"modal specs-modal"},wr={class:"specs-content form-content"},br={class:"spec-row"},Lr={class:"spec-row"},fr={class:"spec-row"},gr={class:"spec-row"},yr={class:"spec-row"},Cr={class:"spec-row"},Ur={class:"spec-row"},Pr={class:"spec-row"},Fr={class:"modal-actions"};function Dr(e,r,t,Dr,Er,Nr){const xr=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.bF)(xr,{to:"/home",class:"home-icon-button",title:"Home"},{default:(0,s.k6)(()=>[...r[64]||(r[64]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s.Lk)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,s.Lk)("polyline",{points:"9 22 9 12 15 12 15 22"})],-1)])]),_:1}),r[145]||(r[145]=(0,s.Lk)("h2",null,"Server List",-1)),(0,s.Lk)("div",l,[(0,s.Lk)("div",n,[(0,s.Lk)("button",{class:(0,i.C4)({active:"all"===Er.ownershipFilter}),onClick:r[0]||(r[0]=e=>Er.ownershipFilter="all")}," All ",2),(0,s.Lk)("button",{class:(0,i.C4)({active:"owned"===Er.ownershipFilter}),onClick:r[1]||(r[1]=e=>Er.ownershipFilter="owned")}," Owned ",2),Nr.currentUserEmail?((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,i.C4)({active:"favorite"===Er.ownershipFilter}),onClick:r[2]||(r[2]=e=>Er.ownershipFilter="favorite")}," Favorites ",2)):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",d,[(0,s.Lk)("div",c,[r[65]||(r[65]=(0,s.Lk)("label",{for:"serverFilter"},"Filter servers:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"serverFilter","onUpdate:modelValue":r[3]||(r[3]=e=>Er.serverFilter=e),placeholder:"Server name, CPU type, or attached device (name/serial)",class:"filter-input"},null,512),[[o.Jo,Er.serverFilter]]),Er.serverFilter?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"clear-filter-btn",onClick:r[4]||(r[4]=(...e)=>Nr.clearFilter&&Nr.clearFilter(...e)),title:"Clear filter"}," Ã— ")):(0,s.Q3)("",!0)]),Er.serverFilter?((0,s.uX)(),(0,s.CE)("div",u," Showing "+(0,i.v_)(Nr.filteredServers.length)+" of "+(0,i.v_)(Er.servers.length)+" servers ",1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",v,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Nr.filteredServers,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,i.C4)(["item-card item-card-with-border",[Nr.getCpuColorClass(e.cpuType),"status-red"===Nr.getStatusColor(e.status)?"unusable-server":""]])},[(0,s.Lk)("div",p,[(0,s.Lk)("div",m,[(0,s.Lk)("h3",null,(0,i.v_)(e.name),1),e.owner?((0,s.uX)(),(0,s.CE)("span",{key:0,class:"owner-indicator",title:`Owned by: ${e.owner}`},[r[66]||(r[66]=(0,s.Lk)("span",{class:"owner-icon"},"ðŸ‘¤",-1)),(0,s.Lk)("span",k,(0,i.v_)(e.owner),1)],8,h)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",S,[Nr.currentUserEmail?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:(0,o.D$)(r=>Nr.toggleFavorite(e.id),["stop"]),class:(0,i.C4)(["favorite-btn",{"is-favorite":Nr.isServerFavorite(e.id)}]),title:Nr.isServerFavorite(e.id)?"Remove from favorites":"Add to favorites"},[((0,s.uX)(),(0,s.CE)("svg",b,[(0,s.Lk)("path",{fill:Nr.isServerFavorite(e.id)?"currentColor":"none",stroke:Nr.isServerFavorite(e.id)?"none":"currentColor","stroke-width":"1.5",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},null,8,L)]))],10,w)):(0,s.Q3)("",!0),(0,s.Lk)("div",f,[(0,s.Lk)("span",{class:(0,i.C4)(["status-circle",Nr.getStatusColor(e.status)])},null,2),(0,s.Lk)("span",g,(0,i.v_)(Nr.formatStatus(e.status)),1)])]),(0,s.Lk)("button",{class:"expand-btn",onClick:r=>Nr.toggleExpand(e.id)},(0,i.v_)(Nr.isExpanded(e.id)?"âˆ’":"+"),9,y)]),e.cpuType?((0,s.uX)(),(0,s.CE)("p",C,[r[67]||(r[67]=(0,s.Lk)("strong",null,"CPU:",-1)),(0,s.eW)(" "+(0,i.v_)(e.cpuType),1)])):(0,s.Q3)("",!0),e.ip?((0,s.uX)(),(0,s.CE)("p",U,[r[68]||(r[68]=(0,s.Lk)("strong",null,"IP:",-1)),(0,s.eW)(" "+(0,i.v_)(Nr.formatIp(e.ip)),1)])):(0,s.Q3)("",!0),e.location?((0,s.uX)(),(0,s.CE)("p",P,[r[69]||(r[69]=(0,s.Lk)("strong",null,"Location:",-1)),(0,s.eW)(" "+(0,i.v_)(e.location),1)])):(0,s.Q3)("",!0),Nr.isExpanded(e.id)?((0,s.uX)(),(0,s.CE)("div",F,[r[80]||(r[80]=(0,s.Lk)("hr",null,null,-1)),e.sudoUser?((0,s.uX)(),(0,s.CE)("div",D,[r[70]||(r[70]=(0,s.Lk)("strong",null,"Sudo Username:",-1)),(0,s.eW)(" "+(0,i.v_)(e.sudoUser),1)])):(0,s.Q3)("",!0),e.sudoUserPassword&&Nr.hasViewPermissions()?((0,s.uX)(),(0,s.CE)("div",E,[r[72]||(r[72]=(0,s.Lk)("strong",null,"Sudo Password:",-1)),(0,s.Lk)("span",N,[(0,s.eW)((0,i.v_)(Nr.isSudoPasswordVisible(e.id)?e.sudoUserPassword:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢")+" ",1),(0,s.Lk)("button",{class:"toggle-password",onClick:r=>Nr.toggleSudoPassword(e.id),title:Nr.isSudoPasswordVisible(e.id)?"Hide sudo password":"Show sudo password"},[...r[71]||(r[71]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",fill:"none"},[(0,s.Lk)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,s.Lk)("circle",{cx:"12",cy:"12",r:"3"})],-1)])],8,x)])])):(0,s.Q3)("",!0),e.bmcIp?((0,s.uX)(),(0,s.CE)("div",A,[r[73]||(r[73]=(0,s.Lk)("strong",null,"BMC IP:",-1)),(0,s.Lk)("span",T,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Nr.parseBmcIps(e.bmcIp),(e,r)=>((0,s.uX)(),(0,s.CE)("a",{key:r,href:`https://${e}`,target:"_blank",rel:"noopener noreferrer",class:"bmc-link"},(0,i.v_)(e),9,V))),128))])])):(0,s.Q3)("",!0),e.bmcUser?((0,s.uX)(),(0,s.CE)("div",I,[r[74]||(r[74]=(0,s.Lk)("strong",null,"BMC Username:",-1)),(0,s.eW)(" "+(0,i.v_)(e.bmcUser),1)])):(0,s.Q3)("",!0),e.bmcPassword&&Nr.hasViewPermissions()?((0,s.uX)(),(0,s.CE)("div",M,[r[76]||(r[76]=(0,s.Lk)("strong",null,"BMC Password:",-1)),(0,s.Lk)("span",q,[(0,s.eW)((0,i.v_)(Nr.isBmcPasswordVisible(e.id)?e.bmcPassword:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢")+" ",1),(0,s.Lk)("button",{class:"toggle-password",onClick:r=>Nr.toggleBmcPassword(e.id),title:Nr.isBmcPasswordVisible(e.id)?"Hide BMC password":"Show BMC password"},[...r[75]||(r[75]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",fill:"none"},[(0,s.Lk)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,s.Lk)("circle",{cx:"12",cy:"12",r:"3"})],-1)])],8,X)])])):(0,s.Q3)("",!0),e.ubuntuVersion?((0,s.uX)(),(0,s.CE)("div",_,[r[77]||(r[77]=(0,s.Lk)("strong",null,"Ubuntu Version:",-1)),(0,s.eW)(" "+(0,i.v_)(e.ubuntuVersion),1)])):(0,s.Q3)("",!0),e.note?((0,s.uX)(),(0,s.CE)("div",G,[r[78]||(r[78]=(0,s.Lk)("strong",null,"Note:",-1)),(0,s.Lk)("div",{class:(0,i.C4)(["note-content",{truncated:!Er.expandedNotes.has(e.id),expanded:Er.expandedNotes.has(e.id)}]),onClick:r=>Nr.handleNoteClick(r,e.id),innerHTML:Nr.linkifyText(e.note)},null,10,B),Nr.isNoteTruncated(e.note)?((0,s.uX)(),(0,s.CE)("div",J,(0,i.v_)(Er.expandedNotes.has(e.id)?"(Click to collapse)":"(Click to expand)"),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),e.attachedDevices&&e.attachedDevices.length?((0,s.uX)(),(0,s.CE)("div",Q,[r[79]||(r[79]=(0,s.Lk)("strong",null,"Attached Devices:",-1)),(0,s.Lk)("div",W,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.attachedDevices,e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,i.C4)(["device-chip clickable-chip",Nr.getDeviceTypeColorClass(e)]),onClick:r=>Nr.navigateToDevice(e),title:"Click to see this device in Device List"},(0,i.v_)(Nr.getDeviceName(e)),11,$))),128))])])):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Nr.getFilteredAdditionalFields(e),(e,r)=>((0,s.uX)(),(0,s.CE)("div",{key:r,class:"detail-row"},[(0,s.Lk)("strong",null,(0,i.v_)(Nr.formatFieldName(r))+":",1),(0,s.eW)(" "+(0,i.v_)(e),1)]))),128)),(0,s.Lk)("div",O,[(0,s.Lk)("button",{class:"action-btn edit-btn",onClick:r=>Nr.openEditForm(e),disabled:!Nr.canEditServer(e)}," Edit ",8,R),(0,s.Lk)("button",{class:"action-btn reserve-btn",onClick:r=>Nr.reserveServer(e)},"Reserve",8,H),(0,s.Lk)("button",{class:"action-btn spec-btn",onClick:r=>Nr.showSystemSpecs(e)},"System Specs",8,j)])])):(0,s.Q3)("",!0)],2))),128))]),Er.serverFilter&&0===Nr.filteredServers.length?((0,s.uX)(),(0,s.CE)("div",z,[r[81]||(r[81]=(0,s.Lk)("p",null,"No servers match your filter criteria.",-1)),(0,s.Lk)("button",{onClick:r[5]||(r[5]=(...e)=>Nr.clearFilter&&Nr.clearFilter(...e)),class:"clear-filter-button"},"Clear Filter")])):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"floating-add-button",onClick:r[6]||(r[6]=(...e)=>Nr.openNewServerForm&&Nr.openNewServerForm(...e))},"+ "),Er.showNewServerModal?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"modal-overlay",onClick:r[32]||(r[32]=(0,o.D$)((...e)=>Nr.cancelNewServer&&Nr.cancelNewServer(...e),["self"]))},[(0,s.Lk)("div",K,[r[108]||(r[108]=(0,s.Lk)("h3",null,"Add New Server",-1)),(0,s.Lk)("div",Y,[(0,s.Lk)("div",Z,[r[82]||(r[82]=(0,s.Lk)("label",{for:"serverName"},[(0,s.eW)("Server Name "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"serverName","onUpdate:modelValue":r[7]||(r[7]=e=>Er.newServer.name=e),required:""},null,512),[[o.Jo,Er.newServer.name]])]),(0,s.Lk)("div",ee,[r[83]||(r[83]=(0,s.Lk)("label",{for:"cpuType"},[(0,s.eW)("CPU Type "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"cpuType","onUpdate:modelValue":r[8]||(r[8]=e=>Er.newServer.cpuType=e),required:"",placeholder:"e.g. SPR, HSW, EPYC"},null,512),[[o.Jo,Er.newServer.cpuType]])]),(0,s.Lk)("div",re,[r[84]||(r[84]=(0,s.Lk)("label",{for:"ip"},[(0,s.eW)("IP Address "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"ip","onUpdate:modelValue":r[9]||(r[9]=e=>Er.newServer.ip=e),required:""},null,512),[[o.Jo,Er.newServer.ip]])]),(0,s.Lk)("div",te,[r[85]||(r[85]=(0,s.Lk)("label",{for:"owner"},[(0,s.eW)("Owner "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"owner","onUpdate:modelValue":r[10]||(r[10]=e=>Er.newServer.owner=e),disabled:!Nr.isAdmin(),required:""},null,8,se),[[o.Jo,Er.newServer.owner]])]),(0,s.Lk)("div",ie,[r[87]||(r[87]=(0,s.Lk)("label",{for:"status"},"Status",-1)),(0,s.bo)((0,s.Lk)("select",{id:"status","onUpdate:modelValue":r[11]||(r[11]=e=>Er.newServer.status=e)},[...r[86]||(r[86]=[(0,s.Lk)("option",{value:"on"},"On",-1),(0,s.Lk)("option",{value:"retired"},"Retired",-1),(0,s.Lk)("option",{value:"temporarily unavailable"},"Temporarily Unavailable",-1)])],512),[[o.u1,Er.newServer.status]])]),(0,s.Lk)("div",oe,[r[88]||(r[88]=(0,s.Lk)("label",{for:"location"},[(0,s.eW)("Location "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"location","onUpdate:modelValue":r[12]||(r[12]=e=>Er.newServer.location=e),placeholder:"e.g. Room 101, Rack 3",required:""},null,512),[[o.Jo,Er.newServer.location]])]),(0,s.Lk)("div",ae,[r[89]||(r[89]=(0,s.Lk)("label",{for:"sudoUser"},[(0,s.eW)("Sudo Username "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"sudoUser","onUpdate:modelValue":r[13]||(r[13]=e=>Er.newServer.sudoUser=e),required:""},null,512),[[o.Jo,Er.newServer.sudoUser]])]),(0,s.Lk)("div",le,[r[90]||(r[90]=(0,s.Lk)("label",{for:"sudoUserPassword"},[(0,s.eW)("Sudo Password "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"sudoUserPassword","onUpdate:modelValue":r[14]||(r[14]=e=>Er.newServer.sudoUserPassword=e),required:""},null,512),[[o.Jo,Er.newServer.sudoUserPassword]])]),(0,s.Lk)("div",ne,[r[91]||(r[91]=(0,s.Lk)("label",{for:"bmcIp"},"BMC IP",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"bmcIp","onUpdate:modelValue":r[15]||(r[15]=e=>Er.newServer.bmcIp=e)},null,512),[[o.Jo,Er.newServer.bmcIp]])]),(0,s.Lk)("div",de,[r[92]||(r[92]=(0,s.Lk)("label",{for:"bmcUser"},"BMC Username",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"bmcUser","onUpdate:modelValue":r[16]||(r[16]=e=>Er.newServer.bmcUser=e)},null,512),[[o.Jo,Er.newServer.bmcUser]])]),(0,s.Lk)("div",ce,[r[93]||(r[93]=(0,s.Lk)("label",{for:"bmcPassword"},"BMC Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"bmcPassword","onUpdate:modelValue":r[17]||(r[17]=e=>Er.newServer.bmcPassword=e)},null,512),[[o.Jo,Er.newServer.bmcPassword]])]),(0,s.Lk)("div",ue,[r[94]||(r[94]=(0,s.Lk)("label",{for:"ubuntuVersion"},"Ubuntu Version",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"ubuntuVersion","onUpdate:modelValue":r[18]||(r[18]=e=>Er.newServer.ubuntuVersion=e),placeholder:"e.g. 22.04 LTS"},null,512),[[o.Jo,Er.newServer.ubuntuVersion]])]),(0,s.Lk)("div",ve,[r[95]||(r[95]=(0,s.Lk)("label",{for:"cpu"},"CPU",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"cpu","onUpdate:modelValue":r[19]||(r[19]=e=>Er.newServer.cpu=e),placeholder:"e.g. Xeon Gold 6240"},null,512),[[o.Jo,Er.newServer.cpu]])]),(0,s.Lk)("div",pe,[r[96]||(r[96]=(0,s.Lk)("label",{for:"cpuFreq"},"CPU Frequency",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"cpuFreq","onUpdate:modelValue":r[20]||(r[20]=e=>Er.newServer.cpuFreq=e),placeholder:"e.g. 2.60 GHz"},null,512),[[o.Jo,Er.newServer.cpuFreq]])]),(0,s.Lk)("div",me,[r[97]||(r[97]=(0,s.Lk)("label",{for:"motherboard"},"Motherboard",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"motherboard","onUpdate:modelValue":r[21]||(r[21]=e=>Er.newServer.motherboard=e),placeholder:"e.g. Gigabyte AA112233"},null,512),[[o.Jo,Er.newServer.motherboard]])]),(0,s.Lk)("div",he,[r[98]||(r[98]=(0,s.Lk)("label",{for:"numSockets"},"Number of Sockets",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"numSockets","onUpdate:modelValue":r[22]||(r[22]=e=>Er.newServer.numSockets=e)},null,512),[[o.Jo,Er.newServer.numSockets,void 0,{number:!0}]])]),(0,s.Lk)("div",ke,[r[99]||(r[99]=(0,s.Lk)("label",{for:"coresPerSocket"},"CPU Cores per Socket",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"coresPerSocket","onUpdate:modelValue":r[23]||(r[23]=e=>Er.newServer.coresPerSocket=e)},null,512),[[o.Jo,Er.newServer.coresPerSocket,void 0,{number:!0}]])]),(0,s.Lk)("div",Se,[r[100]||(r[100]=(0,s.Lk)("label",{for:"memorySlots"},"Memory Slots",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"memorySlots","onUpdate:modelValue":r[24]||(r[24]=e=>Er.newServer.memorySlots=e),placeholder:"e.g. 12 x 4 (12 slots per socket)"},null,512),[[o.Jo,Er.newServer.memorySlots]])]),(0,s.Lk)("div",we,[r[101]||(r[101]=(0,s.Lk)("label",{for:"dimmType"},"DIMM Type",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"dimmType","onUpdate:modelValue":r[25]||(r[25]=e=>Er.newServer.dimmType=e),placeholder:"e.g. DDR4 3200 32GB"},null,512),[[o.Jo,Er.newServer.dimmType]])]),(0,s.Lk)("div",be,[r[102]||(r[102]=(0,s.Lk)("label",{for:"numDimms"},"Number of DIMMs",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"numDimms","onUpdate:modelValue":r[26]||(r[26]=e=>Er.newServer.numDimms=e),placeholder:"e.g. 4 32GB, 4 16GB, 4 16GB, 4 16GB"},null,512),[[o.Jo,Er.newServer.numDimms]])]),(0,s.Lk)("div",Le,[r[103]||(r[103]=(0,s.Lk)("label",{for:"note"},"Note",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"note","onUpdate:modelValue":r[27]||(r[27]=e=>Er.newServer.note=e),placeholder:"e.g. useful links to mother board/CPU datasheets.",rows:"3",class:"form-textarea"},null,512),[[o.Jo,Er.newServer.note]])]),(0,s.Lk)("div",fe,[r[107]||(r[107]=(0,s.Lk)("label",null,"Attached Devices",-1)),(0,s.Lk)("div",ge,[r[105]||(r[105]=(0,s.Lk)("label",{for:"deviceTypeFilter"},"Filter by Type:",-1)),(0,s.bo)((0,s.Lk)("select",{id:"deviceTypeFilter","onUpdate:modelValue":r[28]||(r[28]=e=>Er.deviceTypeFilter=e),class:"device-type-filter"},[...r[104]||(r[104]=[(0,s.Fv)('<option value="">All Types</option><option value="NIC">NIC</option><option value="SSD">SSD</option><option value="FPGA">FPGA</option><option value="GPU">GPU</option><option value="CXL(FPGA)">CXL(FPGA)</option><option value="CXL(ASIC)">CXL(ASIC)</option>',7)])],512),[[o.u1,Er.deviceTypeFilter]])]),Nr.hasHiddenSelectedDevices?((0,s.uX)(),(0,s.CE)("div",ye,[r[106]||(r[106]=(0,s.Lk)("i",null,"Note: Some selected devices are hidden by the current filter.",-1)),(0,s.Lk)("button",{class:"show-all-btn",onClick:r[29]||(r[29]=e=>Er.deviceTypeFilter="")},"Show All")])):(0,s.Q3)("",!0),(0,s.Lk)("div",Ce,[0===Nr.filteredDevices.length?((0,s.uX)(),(0,s.CE)("div",Ue," No available devices"+(0,i.v_)(Er.deviceTypeFilter?" of type "+Er.deviceTypeFilter:""),1)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Nr.filteredDevices,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,i.C4)(["device-option",{selected:Er.newServer.attachedDevices.includes(e.id)}]),onClick:r=>Nr.handleDeviceOptionClick(Er.newServer.attachedDevices,e.id)},[(0,s.Lk)("div",Fe,[(0,s.Lk)("span",De,(0,i.v_)(e.name),1),(0,s.Lk)("span",Ee,(0,i.v_)(e.type||"Unknown"),1)])],10,Pe))),128))])])]),(0,s.Lk)("div",Ne,[(0,s.Lk)("button",{onClick:r[30]||(r[30]=(...e)=>Nr.saveNewServer&&Nr.saveNewServer(...e)),class:"save-btn"},"Save Server"),(0,s.Lk)("button",{onClick:r[31]||(r[31]=(...e)=>Nr.cancelNewServer&&Nr.cancelNewServer(...e)),class:"cancel-btn"},"Cancel")])])])):(0,s.Q3)("",!0),Er.showEditServerModal?((0,s.uX)(),(0,s.CE)("div",{key:2,class:"modal-overlay",onClick:r[61]||(r[61]=(0,o.D$)((...e)=>Nr.cancelEditServer&&Nr.cancelEditServer(...e),["self"]))},[(0,s.Lk)("div",xe,[(0,s.Lk)("h3",null,"Edit Server: "+(0,i.v_)(Er.editingServer.name),1),(0,s.Lk)("div",Ae,[(0,s.Lk)("div",Te,[r[109]||(r[109]=(0,s.Lk)("label",{for:"editServerName"},[(0,s.eW)("Server Name "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editServerName","onUpdate:modelValue":r[33]||(r[33]=e=>Er.editingServer.name=e),required:""},null,512),[[o.Jo,Er.editingServer.name]])]),(0,s.Lk)("div",Ve,[r[110]||(r[110]=(0,s.Lk)("label",{for:"editCpuType"},[(0,s.eW)("CPU Type "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editCpuType","onUpdate:modelValue":r[34]||(r[34]=e=>Er.editingServer.cpuType=e),required:""},null,512),[[o.Jo,Er.editingServer.cpuType]])]),(0,s.Lk)("div",Ie,[r[111]||(r[111]=(0,s.Lk)("label",{for:"editIp"},[(0,s.eW)("IP Address "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editIp","onUpdate:modelValue":r[35]||(r[35]=e=>Er.editingServer.ip=e),required:""},null,512),[[o.Jo,Er.editingServer.ip]])]),(0,s.Lk)("div",Me,[r[112]||(r[112]=(0,s.Lk)("label",{for:"editOwner"},[(0,s.eW)("Owner "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editOwner","onUpdate:modelValue":r[36]||(r[36]=e=>Er.editingServer.owner=e),disabled:!Nr.isAdmin(),required:""},null,8,qe),[[o.Jo,Er.editingServer.owner]])]),(0,s.Lk)("div",Xe,[r[114]||(r[114]=(0,s.Lk)("label",{for:"editStatus"},"Status",-1)),(0,s.bo)((0,s.Lk)("select",{id:"editStatus","onUpdate:modelValue":r[37]||(r[37]=e=>Er.editingServer.status=e)},[...r[113]||(r[113]=[(0,s.Lk)("option",{value:"on"},"On",-1),(0,s.Lk)("option",{value:"retired"},"Retired",-1),(0,s.Lk)("option",{value:"temporarily unavailable"},"Temporarily Unavailable",-1)])],512),[[o.u1,Er.editingServer.status]])]),(0,s.Lk)("div",_e,[r[115]||(r[115]=(0,s.Lk)("label",{for:"editLocation"},[(0,s.eW)("Location "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editLocation","onUpdate:modelValue":r[38]||(r[38]=e=>Er.editingServer.location=e),placeholder:"e.g. Room 101, Rack 3",required:""},null,512),[[o.Jo,Er.editingServer.location]])]),(0,s.Lk)("div",Ge,[r[116]||(r[116]=(0,s.Lk)("label",{for:"editSudoUser"},[(0,s.eW)("Sudo Username "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editSudoUser","onUpdate:modelValue":r[39]||(r[39]=e=>Er.editingServer.sudoUser=e),required:""},null,512),[[o.Jo,Er.editingServer.sudoUser]])]),(0,s.Lk)("div",Be,[r[118]||(r[118]=(0,s.Lk)("label",{for:"editSudoUserPassword"},[(0,s.eW)("Sudo Password "),(0,s.Lk)("span",{class:"required-field"},"*")],-1)),(0,s.Lk)("div",Je,[(0,s.bo)((0,s.Lk)("input",{type:Er.editPasswordVisible?"text":"password",id:"editSudoUserPassword","onUpdate:modelValue":r[40]||(r[40]=e=>Er.editingServer.sudoUserPassword=e),required:""},null,8,Qe),[[o.hp,Er.editingServer.sudoUserPassword]]),(0,s.Lk)("button",{type:"button",class:"toggle-password-btn",onClick:r[41]||(r[41]=e=>Er.editPasswordVisible=!Er.editPasswordVisible)},[...r[117]||(r[117]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",fill:"none"},[(0,s.Lk)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,s.Lk)("circle",{cx:"12",cy:"12",r:"3"})],-1)])])])]),(0,s.Lk)("div",We,[r[119]||(r[119]=(0,s.Lk)("label",{for:"editBmcIp"},"BMC IP",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editBmcIp","onUpdate:modelValue":r[42]||(r[42]=e=>Er.editingServer.bmcIp=e)},null,512),[[o.Jo,Er.editingServer.bmcIp]])]),(0,s.Lk)("div",$e,[r[120]||(r[120]=(0,s.Lk)("label",{for:"editBmcUser"},"BMC Username",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editBmcUser","onUpdate:modelValue":r[43]||(r[43]=e=>Er.editingServer.bmcUser=e)},null,512),[[o.Jo,Er.editingServer.bmcUser]])]),(0,s.Lk)("div",Oe,[r[122]||(r[122]=(0,s.Lk)("label",{for:"editBmcPassword"},"BMC Password",-1)),(0,s.Lk)("div",Re,[(0,s.bo)((0,s.Lk)("input",{type:Er.editBmcPasswordVisible?"text":"password",id:"editBmcPassword","onUpdate:modelValue":r[44]||(r[44]=e=>Er.editingServer.bmcPassword=e)},null,8,He),[[o.hp,Er.editingServer.bmcPassword]]),(0,s.Lk)("button",{type:"button",class:"toggle-password-btn",onClick:r[45]||(r[45]=e=>Er.editBmcPasswordVisible=!Er.editBmcPasswordVisible)},[...r[121]||(r[121]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",fill:"none"},[(0,s.Lk)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,s.Lk)("circle",{cx:"12",cy:"12",r:"3"})],-1)])])])]),(0,s.Lk)("div",je,[r[123]||(r[123]=(0,s.Lk)("label",{for:"editUbuntuVersion"},"Ubuntu Version",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editUbuntuVersion","onUpdate:modelValue":r[46]||(r[46]=e=>Er.editingServer.ubuntuVersion=e),placeholder:"e.g. 22.04 LTS"},null,512),[[o.Jo,Er.editingServer.ubuntuVersion]])]),(0,s.Lk)("div",ze,[r[124]||(r[124]=(0,s.Lk)("label",{for:"editCPU"},"CPU",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editCPU","onUpdate:modelValue":r[47]||(r[47]=e=>Er.editingServer.cpu=e),placeholder:"e.g. Xeon Gold 6240"},null,512),[[o.Jo,Er.editingServer.cpu]])]),(0,s.Lk)("div",Ke,[r[125]||(r[125]=(0,s.Lk)("label",{for:"editCPUFreq"},"CPU Frequency",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editCPUFreq","onUpdate:modelValue":r[48]||(r[48]=e=>Er.editingServer.cpuFreq=e),placeholder:"e.g. 2.60 GHz"},null,512),[[o.Jo,Er.editingServer.cpuFreq]])]),(0,s.Lk)("div",Ye,[r[126]||(r[126]=(0,s.Lk)("label",{for:"editMotherboard"},"Motherboard",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editMotherboard","onUpdate:modelValue":r[49]||(r[49]=e=>Er.editingServer.motherboard=e),placeholder:"e.g. Gigabyte AA112233"},null,512),[[o.Jo,Er.editingServer.motherboard]])]),(0,s.Lk)("div",Ze,[r[127]||(r[127]=(0,s.Lk)("label",{for:"editNumSockets"},"Number of Sockets",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"editNumSockets","onUpdate:modelValue":r[50]||(r[50]=e=>Er.editingServer.numSockets=e)},null,512),[[o.Jo,Er.editingServer.numSockets,void 0,{number:!0}]])]),(0,s.Lk)("div",er,[r[128]||(r[128]=(0,s.Lk)("label",{for:"editCoresPerSocket"},"CPU Cores per Socket",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"editCoresPerSocket","onUpdate:modelValue":r[51]||(r[51]=e=>Er.editingServer.coresPerSocket=e)},null,512),[[o.Jo,Er.editingServer.coresPerSocket,void 0,{number:!0}]])]),(0,s.Lk)("div",rr,[r[129]||(r[129]=(0,s.Lk)("label",{for:"editMemorySlots"},"Memory Slots",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editMemorySlots","onUpdate:modelValue":r[52]||(r[52]=e=>Er.editingServer.memorySlots=e),placeholder:"e.g. 12 x 4 (12 slots per socket)"},null,512),[[o.Jo,Er.editingServer.memorySlots]])]),(0,s.Lk)("div",tr,[r[130]||(r[130]=(0,s.Lk)("label",{for:"editDimmType"},"DIMM Type",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editDimmType","onUpdate:modelValue":r[53]||(r[53]=e=>Er.editingServer.dimmType=e),placeholder:"e.g. DDR4 3200 32GB"},null,512),[[o.Jo,Er.editingServer.dimmType]])]),(0,s.Lk)("div",sr,[r[131]||(r[131]=(0,s.Lk)("label",{for:"editNumDimms"},"Number of DIMMs",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"editNumDimms","onUpdate:modelValue":r[54]||(r[54]=e=>Er.editingServer.numDimms=e),placeholder:"e.g. 4 32GB, 4 16GB, 4 16GB, 4 16GB"},null,512),[[o.Jo,Er.editingServer.numDimms]])]),(0,s.Lk)("div",ir,[r[132]||(r[132]=(0,s.Lk)("label",{for:"editNote"},"Note",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"editNote","onUpdate:modelValue":r[55]||(r[55]=e=>Er.editingServer.note=e),placeholder:"e.g. useful links to mother board/CPU datasheets.",rows:"3",class:"form-textarea"},null,512),[[o.Jo,Er.editingServer.note]])]),(0,s.Lk)("div",or,[r[136]||(r[136]=(0,s.Lk)("label",null,"Attached Devices",-1)),(0,s.Lk)("div",ar,[r[134]||(r[134]=(0,s.Lk)("label",{for:"editDeviceTypeFilter"},"Filter by Type:",-1)),(0,s.bo)((0,s.Lk)("select",{id:"editDeviceTypeFilter","onUpdate:modelValue":r[56]||(r[56]=e=>Er.deviceTypeFilter=e),class:"device-type-filter"},[...r[133]||(r[133]=[(0,s.Fv)('<option value="">All Types</option><option value="NIC">NIC</option><option value="SSD">SSD</option><option value="FPGA">FPGA</option><option value="GPU">GPU</option><option value="CXL(FPGA)">CXL(FPGA)</option><option value="CXL(ASIC)">CXL(ASIC)</option>',7)])],512),[[o.u1,Er.deviceTypeFilter]])]),Nr.hasHiddenSelectedDevices?((0,s.uX)(),(0,s.CE)("div",lr,[r[135]||(r[135]=(0,s.Lk)("i",null,"Note: Some attached devices are hidden by the current filter.",-1)),(0,s.Lk)("button",{class:"show-all-btn",onClick:r[57]||(r[57]=e=>Er.deviceTypeFilter="")},"Show All")])):(0,s.Q3)("",!0),(0,s.Lk)("div",nr,[0===Nr.filteredDevices.length?((0,s.uX)(),(0,s.CE)("div",dr," No available devices"+(0,i.v_)(Er.deviceTypeFilter?" of type "+Er.deviceTypeFilter:""),1)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Nr.filteredDevices,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,i.C4)(["device-option",{selected:Er.editingServer.attachedDevices&&Er.editingServer.attachedDevices.includes(e.id),"already-attached":Nr.isDeviceAttachedToAnotherServer(e.id)}]),onClick:r=>Nr.isDeviceAttachedToAnotherServer(e.id)?null:Nr.handleDeviceOptionClick(Er.editingServer.attachedDevices,e.id)},[(0,s.Lk)("div",ur,[(0,s.Lk)("span",vr,(0,i.v_)(e.name),1),(0,s.Lk)("div",pr,[(0,s.Lk)("span",mr,(0,i.v_)(e.type||"Unknown"),1),Nr.isDeviceAttachedToAnotherServer(e.id)?((0,s.uX)(),(0,s.CE)("span",hr," (Attached to another server) ")):(0,s.Q3)("",!0)])])],10,cr))),128))])])]),(0,s.Lk)("div",kr,[(0,s.Lk)("button",{onClick:r[58]||(r[58]=(...e)=>Nr.saveEditServer&&Nr.saveEditServer(...e)),class:"save-btn"},"Save Changes"),(0,s.Lk)("button",{onClick:r[59]||(r[59]=(...e)=>Nr.cancelEditServer&&Nr.cancelEditServer(...e)),class:"cancel-btn"},"Cancel"),Nr.canDeleteServer(Er.editingServer)?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:r[60]||(r[60]=(...e)=>Nr.confirmDeleteServer&&Nr.confirmDeleteServer(...e)),class:"delete-btn"},"Delete Server")):(0,s.Q3)("",!0)])])])):(0,s.Q3)("",!0),Er.showSpecsModal?((0,s.uX)(),(0,s.CE)("div",{key:3,class:"modal-overlay",onClick:r[63]||(r[63]=(0,o.D$)((...e)=>Nr.closeSystemSpecs&&Nr.closeSystemSpecs(...e),["self"]))},[(0,s.Lk)("div",Sr,[(0,s.Lk)("h3",null,"System Specifications: "+(0,i.v_)(Er.activeSpecServer?.name),1),(0,s.Lk)("div",wr,[(0,s.Lk)("div",br,[r[137]||(r[137]=(0,s.Lk)("strong",null,"CPU:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.cpu||"N/A"),1)]),(0,s.Lk)("div",Lr,[r[138]||(r[138]=(0,s.Lk)("strong",null,"CPU Frequency:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.cpuFreq||"N/A"),1)]),(0,s.Lk)("div",fr,[r[139]||(r[139]=(0,s.Lk)("strong",null,"Motherboard:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.motherboard||"N/A"),1)]),(0,s.Lk)("div",gr,[r[140]||(r[140]=(0,s.Lk)("strong",null,"Number of Sockets:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.numSockets||"N/A"),1)]),(0,s.Lk)("div",yr,[r[141]||(r[141]=(0,s.Lk)("strong",null,"CPU Cores per Socket:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.coresPerSocket||"N/A"),1)]),(0,s.Lk)("div",Cr,[r[142]||(r[142]=(0,s.Lk)("strong",null,"Memory Slots:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.memorySlots||"N/A"),1)]),(0,s.Lk)("div",Ur,[r[143]||(r[143]=(0,s.Lk)("strong",null,"DIMM Type:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.dimmType||"N/A"),1)]),(0,s.Lk)("div",Pr,[r[144]||(r[144]=(0,s.Lk)("strong",null,"# of DIMMs:",-1)),(0,s.eW)(" "+(0,i.v_)(Er.activeSpecServer?.numDimms||"N/A"),1)])]),(0,s.Lk)("div",Fr,[(0,s.Lk)("button",{onClick:r[62]||(r[62]=(...e)=>Nr.closeSystemSpecs&&Nr.closeSystemSpecs(...e)),class:"close-btn"},"Close")])])])):(0,s.Q3)("",!0)])}t(4114),t(8111),t(2489),t(116),t(1701),t(3579),t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698);var Er=t(1560),Nr=t(1884),xr=t(9986),Ar=t(6063);const Tr=["id","name","cpuType","ip"],Vr=["cpu","cpuFreq","memorySlots","dimmType","numDimms","motherboard","numSockets","coresPerSocket"],Ir=["owner","sudoUser","sudoUserPassword","bmcIp","bmcUser","bmcPassword"],Mr=["location","attachedDevices","status","ubuntuVersion","note"];var qr={name:"ServerList",data(){return{servers:[],devices:[],expandedServers:new Set,visiblePasswords:new Set,showSpecsModal:!1,activeSpecServer:null,showNewServerModal:!1,newServer:this.createDefaultServerObject(),showEditServerModal:!1,editingServer:null,deviceTypeFilter:"",serverFilter:this.$route.query.filter||"",editPasswordVisible:!1,editBmcPasswordVisible:!1,userRole:"guest",ownershipFilter:"all",basicServerFields:Tr,systemSpecFields:Vr,accessFields:Ir,metadataFields:Mr,expandedNotes:new Set,favoriteServers:new Set,userDocId:null}},computed:{currentUserEmail(){return Er.j2.currentUser?Er.j2.currentUser.email:""},currentUsername(){return this.currentUserEmail?this.currentUserEmail.split("@")[0]:""},eligibleDevices(){return this.editingServer?this.devices.filter(e=>!e.attachedServer||e.attachedServer===this.editingServer.id):this.devices.filter(e=>!e.attachedServer)},filteredDevices(){const e=this.eligibleDevices.filter(e=>!this.deviceTypeFilter||e.type===this.deviceTypeFilter),r=(0,Ar.Kb)();return e.sort((e,t)=>{const s=e.type?e.type.toUpperCase():"",i=t.type?t.type.toUpperCase():"",o=r.findIndex(e=>e.toUpperCase()===s),a=r.findIndex(e=>e.toUpperCase()===i),l=-1!==o?o:r.length,n=-1!==a?a:r.length;if(l!==n)return l-n;const d={used:0,idle:1,broken:2},c=e.status?e.status.toLowerCase():"unknown",u=t.status?t.status.toLowerCase():"unknown",v=void 0!==d[c]?d[c]:999,p=void 0!==d[u]?d[u]:999;if(v!==p)return v-p;const m=(e.name||"").toLowerCase(),h=(t.name||"").toLowerCase();return m.localeCompare(h)})},hasHiddenSelectedDevices(){if(!this.deviceTypeFilter)return!1;const e=this.editingServer?this.editingServer.attachedDevices:this.newServer.attachedDevices;return e.some(e=>{const r=this.devices.find(r=>r.id===e);return r&&r.type!==this.deviceTypeFilter})},filteredServers(){let e=this.servers;if("owned"===this.ownershipFilter&&this.currentUsername?e=e.filter(e=>e.owner&&e.owner.toLowerCase()===this.currentUsername.toLowerCase()):"favorite"===this.ownershipFilter&&(e=e.filter(e=>this.isServerFavorite(e.id))),this.serverFilter){const r=this.serverFilter.toLowerCase().trim();e=e.filter(e=>e.name&&e.name.toLowerCase().includes(r)||e.cpuType&&e.cpuType.toLowerCase().includes(r)||e.location&&e.location.toLowerCase().includes(r)||this.serverHasMatchingDevice(e,r))}return e.sort((e,r)=>{const t=this.getCpuTypeGroupIndex(e.cpuType),s=this.getCpuTypeGroupIndex(r.cpuType);if(t!==s)return t-s;const i=(e.name||"").toLowerCase(),o=(r.name||"").toLowerCase();return i.localeCompare(o)})},allExcludedFields(){return[...this.basicServerFields,...this.systemSpecFields,...this.accessFields,...this.metadataFields]}},watch:{"$route.query.filter"(e){void 0!==e&&(this.serverFilter=e)},"$route.query.ownershipFilter"(e){e&&(this.ownershipFilter=e)}},methods:{updateCache(){const e={devices:this.devices,servers:this.servers,timestamp:Date.now()};localStorage.setItem("firebaseCache",JSON.stringify(e))},isAdmin(){return(0,Er.qc)()},isUser(){return(0,Er.QY)()},canAddServer(){return(0,Er.qc)()||(0,Er.QY)()},canEditServer(e){return!(!e||!this.currentUserEmail)&&(!!(0,Er.qc)()||!!(0,Er.QY)()&&(e.owner&&e.owner.toLowerCase()===this.currentUsername.toLowerCase()))},canDeleteServer(e){return this.canEditServer(e)},createDefaultServerObject(){const e={name:"",cpuType:"",ip:"",owner:this.currentUsername||"",sudoUser:"",sudoUserPassword:"",bmcIp:"",bmcUser:"",bmcPassword:"",status:"on",location:"",ubuntuVersion:"",motherboard:"",numSockets:null,coresPerSocket:null,note:"",attachedDevices:[],memorySlots:"",numDimms:""};return Vr.forEach(r=>{["cpu","cpuFreq","dimmType","motherboard","memorySlots","numDimms"].includes(r)?e[r]="":e[r]=null}),e},getCpuColorClass(e){if(!e)return"cpu-default";const r=e.toLowerCase();return r.includes("skx")||r.includes("icx")||r.includes("skl")?"cpu-blue":r.includes("spr")||r.includes("emr")||r.includes("gnr")?"cpu-green":r.includes("hsw")||r.includes("bdw")||r.includes("haswell")||r.includes("broadwell")?"cpu-orange":r.includes("epyc")?"cpu-purple":"cpu-default"},toggleExpand(e){this.expandedServers.has(e)?this.expandedServers.delete(e):this.expandedServers.add(e)},isExpanded(e){return this.expandedServers.has(e)},getFilteredAdditionalFields(e){if(!e)return{};const{...r}=e;return Object.fromEntries(Object.entries(r).filter(([e,r])=>!this.allExcludedFields.includes(e)&&!e.toLowerCase().includes("transfer")&&null!==r&&void 0!==r&&""!==r&&!(Array.isArray(r)&&0===r.length)))},formatFieldName(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())},formatIp(e){return e?Array.isArray(e)?e.join(", "):e:""},getStatusColor(e){return e&&"on"===e.toLowerCase()?"status-green":"status-red"},formatStatus(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown"},isPasswordVisible(e,r="sudo"){return!!this.hasViewPermissions()&&this.visiblePasswords.has(`${r}-${e}`)},togglePassword(e,r="sudo"){if(!this.hasViewPermissions())return;const t=`${r}-${e}`;this.visiblePasswords.has(t)?this.visiblePasswords.delete(t):(this.visiblePasswords.add(t),setTimeout(()=>{this.visiblePasswords.delete(t),this.$forceUpdate()},5e3))},isSudoPasswordVisible(e){return this.isPasswordVisible(e,"sudo")},toggleSudoPassword(e){this.togglePassword(e,"sudo")},isBmcPasswordVisible(e){return this.isPasswordVisible(e,"bmc")},toggleBmcPassword(e){this.togglePassword(e,"bmc")},showSystemSpecs(e){this.activeSpecServer=e,this.showSpecsModal=!0},closeSystemSpecs(){this.showSpecsModal=!1,this.activeSpecServer=null},getDeviceName(e){const r=this.devices.find(r=>r.id===e);return r?r.name:"Unknown Device"},getDeviceTypeColorClass(e){const r=this.devices.find(r=>r.id===e);if(!r||!r.type)return"device-type-default";const t=r.type.toLowerCase();return t.includes("nic")?"device-type-blue":t.includes("ssd")?"device-type-green":t.includes("fpga")?"device-type-orange":t.includes("gpu")?"device-type-red":t.includes("cxl")?"device-type-purple":"device-type-default"},navigateToDevice(e){const r=this.devices.find(r=>r.id===e);r&&r.name&&this.$router.push({path:"/devices",query:{filter:r.name}})},toggleDevice(e,r){e||(e=[]);const t=e.indexOf(r);-1===t?e.push(r):e.splice(t,1),this.$forceUpdate()},openNewServerForm(){this.canAddServer()?(this.newServer=this.createDefaultServerObject(),this.showNewServerModal=!0):alert("You do not have permission to add servers.")},validateServerForm(e){const r=[{field:"name",message:"Server name is required"},{field:"cpuType",message:"CPU Type is required"},{field:"ip",message:"IP Address is required"},{field:"owner",message:"Owner is required"},{field:"location",message:"Location is required"},{field:"sudoUser",message:"Sudo Username is required"},{field:"sudoUserPassword",message:"Sudo Password is required"}];for(const{field:t,message:s}of r)if(!e[t])return alert(s),!1;return!0},async saveServer(e=!0){const r=e?this.newServer:this.editingServer;if((0,Er.qc)()||r.owner.toLowerCase()===this.currentUsername.toLowerCase()){if(this.validateServerForm(r))try{let t,s=[];if(!e){t=r.id;const e=this.servers.find(e=>e.id===t);s=e?[...e.attachedDevices||[]]:[]}const i=r.attachedDevices||[],o=i.filter(e=>!s.includes(e)),a=s.filter(e=>!i.includes(e));if(e){const e=(0,Nr.rJ)(Er.kA,"servers"),s=await(0,Nr.gS)(e,r);t=s.id,this.showNewServerModal=!1}else{const{id:e,...t}={...r};if(!e)throw new Error("Server ID is missing for update operation");t.attachedDevices||(t.attachedDevices=[]);const s=(0,Nr.H9)(Er.kA,"servers",e);await(0,Nr.mZ)(s,t),this.showEditServerModal=!1,this.editingServer=null}for(const e of o)await this.updateDeviceAttachment(e,t,!0);for(const e of a)await this.updateDeviceAttachment(e,t,!1);await this.refreshServerCache()}catch(t){console.error(`Error ${e?"adding":"updating"} server:`,t),alert(`Failed to ${e?"add":"update"} server: ${t.message}`)}}else alert("As a regular user, you can only create or edit servers that you own.")},async updateDeviceAttachment(e,r,t){try{const s=(0,Nr.H9)(Er.kA,"devices",e),i=await(0,Nr.x7)(s);if(i.exists()){const e={status:t?"used":"idle",attachedServer:t?r:""};await(0,Nr.mZ)(s,e)}}catch(s){console.error(`Error updating device ${e}:`,s)}},async confirmDeleteServer(){if(this.editingServer&&confirm(`Are you sure you want to delete server "${this.editingServer.name}"?`))try{const e=this.editingServer.id;if(this.editingServer.attachedDevices&&this.editingServer.attachedDevices.length>0)for(const t of this.editingServer.attachedDevices)await this.updateDeviceAttachment(t,e,!1);const r=(0,Nr.H9)(Er.kA,"servers",e);await(0,Nr.kd)(r),await this.refreshServerCache(),this.showEditServerModal=!1,this.editingServer=null}catch(e){console.error("Error deleting server:",e),alert("Failed to delete server: "+e.message)}},cancelNewServer(){this.showNewServerModal=!1},cancelEditServer(){this.showEditServerModal=!1,this.editingServer=null},openEditForm(e){this.canEditServer(e)?(this.editPasswordVisible=!1,this.editingServer=JSON.parse(JSON.stringify(e)),this.showEditServerModal=!0):(0,Er.QY)()?alert("You can only edit servers that you own."):alert("You do not have permission to edit servers.")},saveEditServer(){this.editingServer&&this.editingServer.id?this.saveServer(!1):alert("Error: Cannot save changes - no server selected or missing ID")},reserveServer(e){this.$router.push({path:"/calendar",query:{server:e.name}})},isDeviceAttachedToAnotherServer(e){if(!this.editingServer)return!1;const r=this.devices.find(r=>r.id===e);return r&&r.attachedServer&&r.attachedServer!==this.editingServer.id},serverHasMatchingDevice(e,r){return!(!e.attachedDevices||!e.attachedDevices.length)&&e.attachedDevices.some(e=>{const t=this.devices.find(r=>r.id===e);if(!t)return!1;const s=t.name&&t.name.toLowerCase().includes(r),i=t.serialNumber&&t.serialNumber.toLowerCase().includes(r);return s||i})},clearFilter(){this.serverFilter=""},handleDeviceOptionClick(e,r){this.editingServer&&this.isDeviceAttachedToAnotherServer(r)||this.toggleDevice(e,r)},closeModalOnOutsideClick(e){e.target.classList.contains("modal-overlay")&&(this.cancelNewServer(),this.cancelEditServer(),this.closeSystemSpecs())},saveNewServer(){this.saveServer(!0)},hasViewPermissions(){return(0,Er.qc)()||(0,Er.QY)()},toggleNoteExpansion(e){this.expandedNotes.has(e)?this.expandedNotes.delete(e):this.expandedNotes.add(e)},handleNoteClick(e,r){"A"!==e.target.tagName&&this.toggleNoteExpansion(r)},isNoteTruncated(e){return e&&e.length>100},linkifyText(e){if(!e)return"";const r=/(https?:\/\/[^\s]+)/g;return e.replace(r,e=>`<a href="${e}" target="_blank" rel="noopener noreferrer" class="auto-link">${e}</a>`)},parseBmcIps(e){return e?e.split(",").map(e=>e.trim()).filter(e=>e.length>0):[]},getCpuTypeGroupIndex(e){if(!e)return 999;const r=e.toLowerCase();return r.includes("spr")||r.includes("emr")||r.includes("gnr")?0:r.includes("skx")||r.includes("icx")||r.includes("skl")?1:r.includes("epyc")?2:r.includes("hsw")||r.includes("bdw")||r.includes("haswell")||r.includes("broadwell")?3:4},resetState(){this.serverFilter=this.$route.query.filter||"",this.$route.query.ownershipFilter&&(this.ownershipFilter=this.$route.query.ownershipFilter)},isServerFavorite(e){return this.favoriteServers.has(e)},async toggleFavorite(e){this.currentUserEmail&&(this.favoriteServers.has(e)?this.favoriteServers.delete(e):this.favoriteServers.add(e),await this.saveFavorites())},async saveFavorites(){if(this.currentUserEmail&&this.userDocId)try{const e=(0,Nr.H9)(Er.kA,"authorizedUsers",this.userDocId);await(0,Nr.mZ)(e,{favorite_servers:Array.from(this.favoriteServers)})}catch(e){console.error("Error updating favorites:",e)}},async loadFavorites(){if(this.currentUserEmail)try{const e=(0,Nr.rJ)(Er.kA,"authorizedUsers"),r=(0,Nr.P)(e,(0,Nr._M)("email","==",this.currentUserEmail));(0,Nr.aQ)(r,e=>{if(!e.empty){const r=e.docs[0];this.userDocId=r.id;const t=r.data();t&&t.favorite_servers?this.favoriteServers=new Set(t.favorite_servers):this.favoriteServers=new Set}})}catch(e){console.error("Error loading favorites:",e)}},async loadServers(){try{const e=await xr._.loadData("servers");this.servers=e.map(e=>({...e,attachedDevices:e.attachedDevices||[]})),console.log("Loaded servers:",this.servers.length)}catch(e){console.error("Error loading servers:",e),this.servers=[]}},async loadDevices(){try{this.devices=await xr._.loadData("devices"),console.log("Loaded devices:",this.devices.length)}catch(e){console.error("Error loading devices:",e),this.devices=[]}},async refreshServerCache(){try{this.servers=await xr._.refreshData("servers"),this.devices=await xr._.refreshData("devices"),console.log("Cache refreshed - Servers:",this.servers.length,"Devices:",this.devices.length)}catch(e){console.error("Error refreshing cache:",e)}}},async created(){this.loadServers(),this.loadDevices(),Er.j2.currentUser&&(this.userRole=await(0,Er.uG)()),Er.j2.onAuthStateChanged(async e=>{e?(this.userRole=await(0,Er.uG)(),this.loadFavorites()):(this.userRole="guest",this.favoriteServers=new Set)}),this.$route.query.ownershipFilter&&(this.ownershipFilter=this.$route.query.ownershipFilter)},mounted(){document.addEventListener("click",this.closeModalOnOutsideClick),this.currentUserEmail&&this.loadFavorites()},beforeUnmount(){document.removeEventListener("click",this.closeModalOnOutsideClick)}},Xr=t(6262);const _r=(0,Xr.A)(qr,[["render",Dr]]);var Gr=_r},6063:function(e,r,t){t.d(r,{C7:function(){return l},Kb:function(){return i},NK:function(){return d},Pr:function(){return o},UL:function(){return c},j1:function(){return n}});const s={NIC:{label:"Network Interface Card",color:"blue",icon:"ðŸŒ"},SSD:{label:"Solid State Drive",color:"green",icon:"ðŸ’¾"},FPGA:{label:"Field-Programmable Gate Array",color:"orange",icon:"ðŸ”§"},GPU:{label:"Graphics Processing Unit",color:"red",icon:"ðŸŽ®"},"CXL(FPGA)":{label:"CXL FPGA Device",color:"purple",icon:"âš¡"},"CXL(ASIC)":{label:"CXL ASIC Device",color:"purple",icon:"ðŸ’Ž"}},i=()=>Object.keys(s),o=e=>s[e]||{label:e,color:"default",icon:"ðŸ”Œ"},a=["id","name","type","owner","status","attachedServer","users","serialNumber","location","note"],l={NIC:["dataRate","partNumber","ips","bmcIp","oobMac","sudoUser","sudoPassword","bmcUser","bmcPassword","hostMacs","boardId"],FPGA:["partNumber","mac"],"CXL(FPGA)":["partNumber","mac"],"CXL(ASIC)":["partNumber","capacity"],SSD:["partNumber","model","manufacturer","capacity"],GPU:["partNumber","model","manufacturer"]},n={NIC:{dataRate:"",partNumber:"",serialNumber:"",ips:[],bmcIp:"",sudoUser:"",sudoPassword:"",bmcUser:"",bmcPassword:"",oobMac:"",hostMacs:[],boardId:""},FPGA:{partNumber:"",serialNumber:"",mac:""},"CXL(FPGA)":{partNumber:"",serialNumber:"",mac:""},"CXL(ASIC)":{partNumber:"",capacity:""},SSD:{partNumber:"",serialNumber:"",model:"",manufacturer:"",capacity:""},GPU:{partNumber:"",serialNumber:"",model:"",manufacturer:""}};function d(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}function c(e){const r=e&&l[e]?l[e]:[];return[...a,...r]}}}]);
//# sourceMappingURL=152.db2ca416.js.map