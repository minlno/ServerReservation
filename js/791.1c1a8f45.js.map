{"version":3,"file":"js/791.1c1a8f45.js","mappings":"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","sources":["webpack://server-reservation/./src/views/ReservationCalendar.vue","webpack://server-reservation/./src/views/ReservationCalendar.vue?8f2f"],"sourcesContent":["<template>\n  <div class=\"reservation-calendar-container\">\n    <!-- Home icon button using common styles -->\n    <router-link to=\"/home\" class=\"home-icon-button\" title=\"Home\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n        <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n        <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n      </svg>\n    </router-link>\n    <div class=\"reservation-calendar\">\n      <!-- Server View -->\n      <div class=\"server-view\">\n        <!-- Week navigation (we can still do +/- 7 days, though we now start from \"today\" not Monday) -->\n        <div class=\"week-nav\">\n          <button @click=\"moveWeek(-1)\">&lt;</button>\n          <span class=\"week-range\">{{ formatWeekRange(weekStart) }}</span>\n          <button @click=\"moveWeek(1)\">&gt;</button>\n        </div>\n        \n        <!-- Consolidated filter container with unified search -->\n        <div class=\"filter-container\">\n          <div class=\"filter\">\n            <label for=\"unifiedFilter\">Filter:</label>\n            <input \n              id=\"unifiedFilter\"\n              v-model=\"unifiedFilter\" \n              placeholder=\"Server name, CPU type, or device name\" \n              class=\"filter-input\"\n            />\n            <!-- Add favorite toggle button -->\n            <button \n              v-if=\"currentUserEmail\"\n              @click=\"showOnlyFavorites = !showOnlyFavorites\" \n              class=\"favorite-filter-btn\"\n              :class=\"{ 'active': showOnlyFavorites }\"\n              :title=\"showOnlyFavorites ? 'Show all servers' : 'Show only favorites'\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path :fill=\"showOnlyFavorites ? 'currentColor' : 'none'\" \n                      :stroke=\"showOnlyFavorites ? 'none' : 'currentColor'\"\n                      stroke-width=\"1.5\"\n                      d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/>\n              </svg>\n            </button>\n            <button \n              v-if=\"unifiedFilter || showOnlyFavorites\" \n              class=\"clear-filter-btn\" \n              @click=\"clearAllFilters()\" \n              title=\"Clear filter\"\n            >\n              \n            </button>\n          </div>\n          <div class=\"filter-stats\" v-if=\"unifiedFilter || showOnlyFavorites\">\n            <div>Showing {{ filteredServers.length }} of {{ serversList.length }} servers</div>\n          </div>\n        </div>\n\n        <!-- Days container -->\n        <div class=\"days-container\">\n          <div\n            v-for=\"dayObj in serverWeekDays\"\n            :key=\"dayObj.date\"\n            class=\"day-section\"\n            :class=\"{ today: isSameDay(dayObj.date, new Date()) }\"\n          >\n            <!-- Day header with date and time axis -->\n            <div class=\"day-header\">\n              <div class=\"day-title\">{{ formatDayHeader(dayObj.date) }}</div>\n              <div class=\"day-time-axis\">\n                <div v-for=\"hour in axisTimes\" :key=\"hour\" class=\"axis-time\">\n                  {{ formatAxisHour(hour) }}\n                </div>\n              </div>\n            </div>\n\n            <div class=\"content-wrapper\">\n              <div class=\"server-labels\">\n                <div\n                  v-for=\"srv in filteredServers\"\n                  :key=\"srv.id\"\n                  class=\"server-label\"\n                  @click=\"showServerDetails(srv)\"\n                >\n                  <div class=\"server-label-content\">\n                    <span class=\"status-dot\" :class=\"getStatusColor(srv.status)\"></span>\n                    {{ srv.name }}\n                  </div>\n                </div>\n              </div>\n              <div class=\"timeline-container\">\n                <div\n                  v-if=\"isSameDay(dayObj.date, new Date())\"\n                  class=\"current-time-arrow\"\n                  :style=\"currentTimeArrowStyle(dayObj.date)\"\n                ></div>\n                <div\n                  class=\"timeline\"\n                  :style=\"{ height: filteredServers.length * rowHeight + 'px' }\"\n                  @mousedown=\"handleTimelineContainerMousedown(dayObj.date, $event)\"\n                  :data-day-index=\"index\"\n                >\n                  <!-- For each server row -->\n                  <div\n                    v-for=\"(srv, serverIndex) in filteredServers\"\n                    :key=\"srv.id\"\n                    class=\"reservation-row\"\n                    :style=\"{ top: (serverIndex * rowHeight) + 'px', height: rowHeight + 'px' }\"\n                    :data-server-id=\"srv.id\"\n                    :data-server-index=\"serverIndex\"\n                  >\n                    <div\n                      class=\"reservation-container\"\n                      @mousedown.stop=\"handleReservationContainerMousedown(srv, dayObj.date, $event)\"\n                      @dragover.prevent=\"handleDragOver($event, srv, dayObj.date)\"\n                      @drop=\"onDrop($event, srv, dayObj.date)\"\n                      :data-day-date=\"dayObj.date.toISOString()\"\n                      :data-server-name=\"srv.name\"\n                    >\n                      <!-- existing reservations -->\n                      <div\n                        v-for=\"res in getReservationsForServerAndDay(srv, dayObj.date)\"\n                        :key=\"res.id\"\n                        class=\"reservation\"\n                        :class=\"[getUrgencyColorClass(res.urgency), {'my-reservation': isMyReservation(res)}]\"\n                        :draggable=\"false\"\n                        @mousedown=\"startCustomDrag(res, srv, dayObj.date, $event)\"\n                        :style=\"getReservationStyle(res, dayObj.date)\"\n                      >\n                        <span class=\"reservation-title\">{{ res.username }}</span>\n                      </div>\n\n                      <!-- preview only if same day + server -->\n                      <div\n                        v-if=\"\n                          dragCreation.active &&\n                          isSameDay(dragCreation.day, dayObj.date) &&\n                          dragCreation.server === srv\n                        \"\n                        class=\"drag-preview\"\n                        :style=\"getDragPreviewStyle()\"\n                      ></div>\n\n                      <!-- Drag preview for dragged reservations -->\n                      <div\n                        v-if=\"draggedReservation && isDraggingOver(srv, dayObj.date)\"\n                        class=\"drag-grid-preview\"\n                        :style=\"getDragGridPreviewStyle()\"\n                      ></div>\n                    </div>\n                  </div>\n                  <!-- current time line overlay -->\n                  <div\n                    v-if=\"isSameDay(dayObj.date, new Date())\"\n                    class=\"current-time-line-timeline\"\n                    :style=\"currentTimeLineStyle(dayObj.date)\"\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"customDragActive\" class=\"custom-drag-preview\" :style=\"customDragPreviewStyle\"></div>\n  </div>\n  \n  <!-- Using common styles for the floating add button  -->\n  <button class=\"floating-add-button\" @click=\"openReservationForm\">+</button>\n  \n  <div v-if=\"showReservationForm\" class=\"app-modal-overlay\">\n    <div class=\"app-modal\">\n      <div class=\"app-modal-header\">\n        <h3>Create New Reservation</h3>\n      </div>\n      <div class=\"app-modal-content\">\n        <div class=\"app-form-group\">\n          <label for=\"server\">Server <span class=\"app-required-field\">*</span></label>\n          <select v-model=\"newReservation.server\" id=\"server\" required>\n            <option value=\"\" disabled>Select a server</option>\n            <option v-for=\"srv in sortedServersList\" :key=\"srv.id\" :value=\"srv.name\">{{ srv.name }}</option>\n          </select>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label for=\"urgency\">Urgency <span class=\"app-required-field\">*</span></label>\n          <select v-model=\"newReservation.urgency\" id=\"urgency\" required>\n            <option value=\"\" disabled>Select urgency level</option>\n            <option value=\"co-run\">Co-run</option>\n            <option value=\"exclusive\">Exclusive</option>\n            <option value=\"exclusive (urgent)\">Exclusive (Urgent)</option>\n            <option value=\"exclusive (may yield)\">Exclusive (May Yield)</option>\n          </select>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label for=\"username\">Username</label>\n          <input v-model=\"currentUsername\" id=\"username\" type=\"text\" disabled />\n        </div>\n        \n        <div class=\"app-form-group\">\n          <div class=\"date-time-row\">\n            <div class=\"date-time-group\">\n              <label for=\"startDate\">Start Date <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"startDateInput\" id=\"startDate\" @change=\"validateTimes\">\n                <option v-for=\"choice in startDateChoices\" :key=\"choice.label\" :value=\"choice.label\">{{ choice.label }}</option>\n              </select>\n            </div>\n            <div class=\"date-time-group\">\n              <label for=\"startTime\">Start Time <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"startTimeInput\" id=\"startTime\" @change=\"validateTimes\">\n                <option v-for=\"choice in startTimeChoices\" :key=\"choice\" :value=\"choice\">{{ choice }}</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <div class=\"date-time-row\">\n            <div class=\"date-time-group\">\n              <label for=\"endDate\">End Date <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"endDateInput\" id=\"endDate\" @change=\"validateTimes\">\n                <option v-for=\"choice in endDateChoices\" :key=\"choice.label\" :value=\"choice.label\">{{ choice.label }}</option>\n              </select>\n            </div>\n            <div class=\"date-time-group\">\n              <label for=\"endTime\">End Time <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"endTimeInput\" id=\"endTime\" @change=\"validateTimes\">\n                <option v-for=\"choice in endTimeChoices\" :key=\"choice\" :value=\"choice\">{{ choice }}</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label for=\"note\">Note</label>\n          <textarea v-model=\"newReservation.note\" id=\"note\" placeholder=\"Add any additional information\"></textarea>\n        </div>\n      </div>\n      \n      <div class=\"app-modal-footer\">\n        <button @click=\"confirmReservation\" class=\"app-btn app-btn-primary\">Create</button>\n        <button @click=\"cancelReservation\" class=\"app-btn app-btn-secondary\">Cancel</button>\n      </div>\n    </div>\n  </div>\n\n  <div v-if=\"showEditModal\" class=\"app-modal-overlay\">\n    <div class=\"app-modal\">\n      <div class=\"app-modal-header\">\n        <h3>Edit Reservation</h3>\n      </div>\n      <div class=\"app-modal-content\">\n        <div class=\"app-form-group\">\n          <label for=\"server\">Server <span class=\"app-required-field\">*</span></label>\n          <select v-model=\"editingReservation.server\" id=\"server\">\n            <option v-for=\"srv in sortedServersList\" :key=\"srv.id\" :value=\"srv.name\">{{ srv.name }}</option>\n          </select>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label for=\"urgency\">Urgency <span class=\"app-required-field\">*</span></label>\n          <select v-model=\"editingReservation.urgency\" id=\"urgency\">\n            <option value=\"co-run\">Co-run</option>\n            <option value=\"exclusive\">Exclusive</option>\n            <option value=\"exclusive (urgent)\">Exclusive (Urgent)</option>\n            <option value=\"exclusive (may yield)\">Exclusive (May Yield)</option>\n          </select>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label for=\"username\">Username</label>\n          <input v-model=\"editingReservation.username\" id=\"username\" type=\"text\" disabled />\n        </div>\n        \n        <div class=\"app-form-group\">\n          <div class=\"date-time-row\">\n            <div class=\"date-time-group\">\n              <label for=\"editStartDate\">Start Date <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"editingReservation.startDate\" id=\"editStartDate\" @change=\"validateEditTimes\">\n                <option v-for=\"choice in editStartDateChoices\" :key=\"choice.label\" :value=\"choice.label\">{{ choice.label }}</option>\n              </select>\n            </div>\n            <div class=\"date-time-group\">\n              <label for=\"editStartTime\">Start Time <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"editingReservation.startTime\" id=\"editStartTime\" @change=\"validateEditTimes\">\n                <option v-for=\"choice in editStartTimeChoices\" :key=\"choice\" :value=\"choice\">{{ choice }}</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <div class=\"date-time-row\">\n            <div class=\"date-time-group\">\n              <label for=\"editEndDate\">End Date <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"editingReservation.endDate\" id=\"editEndDate\" @change=\"validateEditTimes\">\n                <option v-for=\"choice in editEndDateChoices\" :key=\"choice.label\" :value=\"choice.label\">{{ choice.label }}</option>\n              </select>\n            </div>\n            <div class=\"date-time-group\">\n              <label for=\"editEndTime\">End Time <span class=\"app-required-field\">*</span></label>\n              <select v-model=\"editingReservation.endTime\" id=\"editEndTime\" @change=\"validateEditTimes\">\n                <option v-for=\"choice in editEndTimeChoices\" :key=\"choice\" :value=\"choice\">{{ choice }}</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label for=\"note\">Note</label>\n          <textarea v-model=\"editingReservation.note\" id=\"note\" placeholder=\"Add any additional information\"></textarea>\n        </div>\n      </div>\n      \n      <div class=\"app-modal-footer\">\n        <button @click=\"confirmUpdate\" class=\"app-btn app-btn-primary\">Update</button>\n        <button @click=\"cancelEdit\" class=\"app-btn app-btn-secondary\">Cancel</button>\n        <button @click=\"confirmDelete(editingReservation)\" class=\"app-btn app-btn-danger\">Delete</button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Reservation information modal -->\n  <div v-if=\"showViewModal\" class=\"app-modal-overlay\">\n    <div class=\"app-modal\">\n      <div class=\"app-modal-header\">\n        <h3>Reservation Information</h3>\n      </div>\n      <div class=\"app-modal-content\">\n        <div class=\"app-form-group\">\n          <label>Server</label>\n          <div class=\"info-display\">{{ viewingReservation.server }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>Urgency</label>\n          <div class=\"info-display\">{{ viewingReservation.urgency }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>Username</label>\n          <div class=\"info-display\">{{ viewingReservation.username }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>Start</label>\n          <div class=\"info-display\">{{ viewingReservation.startDate }} {{ viewingReservation.startTime }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>End</label>\n          <div class=\"info-display\">{{ viewingReservation.endDate }} {{ viewingReservation.endTime }}</div>\n        </div>\n        \n        <div class=\"app-form-group\" v-if=\"viewingReservation && viewingReservation.note\">\n          <label>Note</label>\n          <div class=\"info-display note\">{{ viewingReservation.note }}</div>\n        </div>\n      </div>\n      \n      <div class=\"app-modal-footer\">\n        <button @click=\"closeViewModal\" class=\"app-btn app-btn-secondary\">Close</button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Server Details Modal -->\n  <div v-if=\"showServerDetailsModal\" class=\"app-modal-overlay\" @click.self=\"closeServerDetails\">\n    <div class=\"app-modal server-details-modal\">\n      <div class=\"app-modal-header\">\n        <h3>Server Details: {{ activeServer?.name }}</h3>\n      </div>\n      <div class=\"app-modal-content\">\n        <!-- Basic Server Information -->\n        <div class=\"section-divider\">Basic Information</div>\n        \n        <div class=\"app-form-group\">\n          <label>Name</label>\n          <div class=\"info-display\">{{ activeServer?.name }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>CPU Type</label>\n          <div class=\"info-display\">{{ activeServer?.cpuType || 'N/A' }}</div>\n        </div>\n\n        <div class=\"app-form-group\">\n          <label>IP Address</label>\n          <div class=\"info-display\">{{ formatIp(activeServer?.ip) }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>Owner</label>\n          <div class=\"info-display\">{{ activeServer?.owner || 'N/A' }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>Status</label>\n          <div class=\"info-display\">\n            {{ formatStatus(activeServer?.status) }}\n          </div>\n        </div>\n        \n        <div class=\"app-form-group\" v-if=\"activeServer?.location\">\n          <label>Location</label>\n          <div class=\"info-display\">{{ activeServer.location }}</div>\n        </div>\n\n        <div class=\"app-form-group\" v-if=\"activeServer?.sudoUser\">\n          <label>Sudo Username</label>\n          <div class=\"info-display\">{{ activeServer.sudoUser }}</div>\n        </div>\n\n        <div class=\"app-form-group\" v-if=\"activeServer?.sudoUserPassword && hasViewPermissions()\">\n          <label>Sudo Password</label>\n          <div class=\"info-display password-field\">\n            {{ isPasswordVisible('sudo') ? activeServer.sudoUserPassword : '' }}\n            <button\n              class=\"toggle-password\"\n              @click=\"togglePasswordVisibility('sudo')\"\n              :title=\"isPasswordVisible('sudo') ? 'Hide sudo password' : 'Show sudo password'\"\n            >\n              <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" fill=\"none\">\n                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"app-form-group\" v-if=\"activeServer?.bmcIp\">\n          <label>BMC IP</label>\n          <div class=\"info-display bmc-links-container\">\n            <a\n              v-for=\"(ip, index) in parseBmcIps(activeServer.bmcIp)\"\n              :key=\"index\"\n              :href=\"`https://${ip}`\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              class=\"bmc-link\"\n            >\n              {{ ip }}\n            </a>\n          </div>\n        </div>\n\n        <div class=\"app-form-group\" v-if=\"activeServer?.bmcUser\">\n          <label>BMC Username</label>\n          <div class=\"info-display\">{{ activeServer.bmcUser }}</div>\n        </div>\n\n        <div class=\"app-form-group\" v-if=\"activeServer?.bmcPassword && hasViewPermissions()\">\n          <label>BMC Password</label>\n          <div class=\"info-display password-field\">\n            {{ isPasswordVisible('bmc') ? activeServer.bmcPassword : '' }}\n            <button\n              class=\"toggle-password\"\n              @click=\"togglePasswordVisibility('bmc')\"\n              :title=\"isPasswordVisible('bmc') ? 'Hide BMC password' : 'Show BMC password'\"\n            >\n              <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" fill=\"none\">\n                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"app-form-group\" v-if=\"activeServer?.ubuntuVersion\">\n          <label>Ubuntu Version</label>\n          <div class=\"info-display\">{{ activeServer.ubuntuVersion }}</div>\n        </div>\n\n        <!-- Attached Devices Section -->\n        <div v-if=\"serverAttachedDevices && serverAttachedDevices.length > 0\">\n          <div class=\"section-divider\">Attached Devices</div>\n          <div class=\"attached-devices-list\">\n            <div v-for=\"device in serverAttachedDevices\" :key=\"device.id\" class=\"attached-device\">\n              <div class=\"device-name\">{{ device.name }}</div>\n              <div class=\"device-type\">{{ device.type || 'Unknown' }}</div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- System Specs -->\n        <div class=\"section-divider\">System Specifications</div>\n        \n        <div class=\"app-form-group\">\n          <label>CPU Frequency</label>\n          <div class=\"info-display\">{{ activeServer?.cpuFreq || 'N/A' }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>Memory Slots</label>\n          <div class=\"info-display\">{{ activeServer?.memorySlots || 'N/A' }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>DIMM Type</label>\n          <div class=\"info-display\">{{ activeServer?.dimmType || 'N/A' }}</div>\n        </div>\n        \n        <div class=\"app-form-group\">\n          <label>Number of DIMMs</label>\n          <div class=\"info-display\">{{ activeServer?.numDimms || 'N/A' }}</div>\n        </div>\n      </div>\n      \n      <div class=\"app-modal-footer\">\n        <button @click=\"reserveActiveServer\" class=\"app-btn app-btn-primary\">Reserve</button>\n        <button @click=\"closeServerDetails\" class=\"app-btn app-btn-secondary\">Close</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { firestore, getUserRole, auth, isAdmin, isUser } from '@/firebase'  // Added auth, isAdmin, isUser imports\nimport { collection, onSnapshot, updateDoc, deleteDoc, doc, query, where, orderBy, getDocs, runTransaction } from 'firebase/firestore'\nimport { dailyCache } from '@/utils/dailyCache'\nimport '@/assets/styles/common/modal-common.css' // Import common modal styles\nimport '@/assets/styles/common/common-ui.css' // Import common UI component styles\nimport '@/assets/styles/components/ReservationCalendar.css'\n\nexport default {\n  name: 'ReservationCalendar',\n  components: {},\n  data() {\n    return {\n      allReservations: [],\n      serversList: [],\n      reservationsCollection: null,\n      serverFilter: '',\n      weekStart: new Date(),\n      rowHeight: 35,\n      unsubscribeReservations: null,\n\n      showReservationForm: false,\n      newReservation: {\n        start: null,\n        end: null,\n        server: '',\n        urgency: '',\n        note: ''\n      },\n      startDateInput: '',\n      startTimeInput: '',\n      endDateInput: '',\n      endTimeInput: '',\n      startDateOffset: '',\n      startTimeOffset: '',\n      endDateOffset: '',\n      endTimeOffset: '',\n\n      showEditModal: false,\n      editingReservation: null,\n\n      showViewModal: false,\n      viewingReservation: null,\n\n      dragCreation: {\n        active: false,\n        server: null,\n        day: null,\n        startX: null,\n        currentX: null,\n        containerLeft: null,\n        containerWidth: null,\n        previewLeft: null,\n        previewWidth: null\n      },\n      draggedReservation: null,\n      draggedOriginalServer: null,\n      dragPreviewPosition: {\n        active: false,\n        server: null,\n        day: null,\n        left: null,\n        width: null,\n        serverIndex: null\n      },\n\n      customDragActive: false,\n      customDragReservation: null,\n      customDragStartServer: null,\n      customDragCurrentServer: null,\n      customDragDay: null,\n      customDragPreviewStyle: {},\n      customDragInitialOffset: 0,\n      customDragWidth: 0,\n      customDragInitialRect: null,\n      customDragStartTime: null,\n\n      isDragging: false,\n      dragStartX: 0,\n      dragStartY: 0,\n      dragThreshold: 5,\n      deviceFilter: '', // Add this new property for device filtering\n      unifiedFilter: '', // Replace serverFilter and deviceFilter with unified filter\n\n      // Add new properties for server details modal\n      showServerDetailsModal: false,\n      activeServer: null,\n      serverAttachedDevices: [],\n      showOnlyFavorites: false,\n      favoriteServers: new Set(), // Add Set to track favorite server IDs\n      userDocId: null, // Store the user document ID for updates\n      visiblePasswords: new Set(), // Track visible passwords in server details modal\n    }\n  },\n  computed: {\n    currentUserEmail() {\n      return auth.currentUser ? auth.currentUser.email : '';\n    },\n    currentUsername() {\n      if (!this.currentUserEmail) return '';\n      return this.currentUserEmail.split('@')[0];\n    },\n    // Updated to handle unified filtering and sort by name\n    filteredServers() {\n      let result = this.serversList;\n      \n      // First apply favorites filter if active\n      if (this.showOnlyFavorites) {\n        result = result.filter(server => this.isServerFavorite(server.id));\n      }\n      \n      // Then apply search filter if specified\n      if (this.unifiedFilter) {\n        const filter = this.unifiedFilter.toLowerCase();\n        \n        result = result.filter(server => {\n          // Filter by server name\n          if (server.name && server.name.toLowerCase().includes(filter)) {\n            return true;\n          }\n          \n          // Filter by CPU type\n          if (server.cpuType && server.cpuType.toLowerCase().includes(filter)) {\n            return true;\n          }\n          \n          // Filter by attached device name - FIX FOR DEVICE RESERVATION\n          // First check direct attachments on server\n          if (server.attachedDevices && server.attachedDevices.length && this.devicesList) {\n            if (server.attachedDevices.some(deviceId => {\n              const device = this.devicesList.find(d => d.id === deviceId);\n              return device && device.name && device.name.toLowerCase().includes(filter);\n            })) {\n              return true;\n            }\n          }\n          \n          // Also check if any device with this name has this server in attachedServer\n          if (this.devicesList && this.devicesList.length) {\n            if (this.devicesList.some(device => \n              device.name && \n              device.name.toLowerCase().includes(filter) && \n              device.attachedServer === server.id\n            )) {\n              return true;\n            }\n          }\n          \n          return false;\n        });\n      }\n      \n      // Filter out unavailable servers (status is not \"on\")\n      result = result.filter(server => server.status === 'on');\n      \n      // Sort by CPU type group first, then by name alphabetically\n      return result.sort((a, b) => {\n        // Get CPU type group indices (lower index = higher priority)\n        const groupA = this.getCpuTypeGroupIndex(a.cpuType);\n        const groupB = this.getCpuTypeGroupIndex(b.cpuType);\n        \n        // If different groups, sort by group\n        if (groupA !== groupB) {\n          return groupA - groupB;\n        }\n        \n        // If same group, sort alphabetically by name\n        const nameA = (a.name || '').toLowerCase();\n        const nameB = (b.name || '').toLowerCase();\n        return nameA.localeCompare(nameB);\n      });\n    },\n\n    // Sorted server list for dropdowns (same ordering as ServerList.vue)\n    sortedServersList() {\n      return [...this.serversList].sort((a, b) => {\n        // Get CPU type group indices (lower index = higher priority)\n        const groupA = this.getCpuTypeGroupIndex(a.cpuType);\n        const groupB = this.getCpuTypeGroupIndex(b.cpuType);\n\n        // If different groups, sort by group\n        if (groupA !== groupB) {\n          return groupA - groupB;\n        }\n\n        // If same group, sort alphabetically by name\n        const nameA = (a.name || '').toLowerCase();\n        const nameB = (b.name || '').toLowerCase();\n        return nameA.localeCompare(nameB);\n      });\n    },\n\n    serverWeekDays() {\n      const days = []\n      for (let i = 0; i < 7; i++) {\n        const d = new Date(this.weekStart)\n        d.setDate(d.getDate() + i)\n        days.push({ date: d })\n      }\n      return days\n    },\n    axisTimes() {\n      return Array.from({ length: 24 }, (_, i) => i)\n    },\n    startDateChoices() {\n      return this.genDateChoices(this.startDateInput)\n    },\n    endDateChoices(){\n      return this.genDateChoices(this.endDateInput)\n    },\n    startTimeChoices() {\n      const st = this.parseDateTime(this.startDateInput, this.startTimeInput);\n      const en = this.parseDateTime(this.endDateInput, this.endTimeInput);\n      if (!st || !en) return [];\n      const arr = [];\n      let cur = new Date(st.getTime() - 3 * 3600000);\n      while (cur <= en) {\n        const label = this.formatHhMmAmPm(cur);\n        arr.push(label);\n        cur = new Date(cur.getTime() + 30 * 60000);\n      }\n      return arr;\n    },\n    endTimeChoices(){\n      const st = this.parseDateTime(this.startDateInput, this.startTimeInput);\n      const en = this.parseDateTime(this.endDateInput, this.endTimeInput);\n      if (!st || !en) return [];\n      const arr = [];\n      let cur = new Date(st.getTime());\n      const endRange = new Date(en.getTime() + 3 * 3600000);\n      while (cur <= endRange) {\n        const label = this.formatHhMmAmPm(cur);\n        arr.push(label);\n        cur = new Date(cur.getTime() + 30 * 60000);\n      }\n      return arr;\n    },\n    editStartDateChoices() {\n      return this.editingReservation ? this.genDateChoices(this.editingReservation.startDate) : [];\n    },\n    editEndDateChoices() {\n      return this.editingReservation ? this.genDateChoices(this.editingReservation.endDate) : [];\n    },\n    editStartTimeChoices() {\n      if (!this.editingReservation) return [];\n      \n      const st = this.parseDateTime(this.editingReservation.startDate, this.editingReservation.startTime);\n      const en = this.parseDateTime(this.editingReservation.endDate, this.editingReservation.endTime);\n      if (!st || !en) return [];\n      \n      const arr = [];\n      let cur = new Date(st.getTime() - 3 * 3600000);\n      while (cur <= en) {\n        const label = this.formatHhMmAmPm(cur);\n        arr.push(label);\n        cur = new Date(cur.getTime() + 30 * 60000);\n      }\n      return arr;\n    },\n    editEndTimeChoices() {\n      if (!this.editingReservation) return [];\n      \n      const st = this.parseDateTime(this.editingReservation.startDate, this.editingReservation.startTime);\n      const en = this.parseDateTime(this.editingReservation.endDate, this.editingReservation.endTime);\n      if (!st || !en) return [];\n      \n      const arr = [];\n      let cur = new Date(st.getTime());\n      const endRange = new Date(en.getTime() + 3 * 3600000);\n      while (cur <= endRange) {\n        const label = this.formatHhMmAmPm(cur);\n        arr.push(label);\n        cur = new Date(cur.getTime() + 30 * 60000);\n      }\n      return arr;\n    },\n    // Check if server has additional properties to display\n    hasAdditionalProperties() {\n      return this.activeServer && Object.keys(this.getAdditionalFields(this.activeServer)).length > 0;\n    }\n  },\n  methods: {\n    // Efficient Firebase-based conflict check\n    async checkConflictEfficient(serverName, newStart, newEnd, newUrgency, excludeId = null) {\n      try {\n        // Query only reservations for the specific server that might overlap\n        const conflictQuery = query(\n          this.reservationsCollection,\n          where('server', '==', serverName),\n          where('start', '<', newEnd.toISOString()),\n          orderBy('start', 'asc')\n        );\n\n        const snapshot = await getDocs(conflictQuery);\n        const potentialConflicts = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n\n        console.log(`Checking conflicts for ${serverName}: found ${potentialConflicts.length} potential conflicts`);\n\n        for (const ev of potentialConflicts) {\n          // Skip if this is the same reservation we're editing\n          if (excludeId && ev.id === excludeId) continue;\n\n          const evStart = new Date(ev.start);\n          const evEnd = new Date(ev.end);\n\n          // Check for actual time overlap\n          if (newStart < evEnd && newEnd > evStart) {\n            const existingUrg = (ev.urgency || '').toLowerCase();\n            const newUrg = (newUrgency || '').toLowerCase();\n\n            // Both must be co-run to allow overlap\n            if (existingUrg !== 'co-run' || newUrg !== 'co-run') {\n              console.log(`Conflict found: ${ev.username} (${ev.urgency}) vs new (${newUrgency})`);\n              return true;\n            }\n          }\n        }\n        \n        console.log('No conflicts found');\n        return false;\n      } catch (error) {\n        console.error('Error checking conflicts:', error);\n        // Fallback to memory-based check\n        return this.checkConflictMemory(serverName, newStart, newEnd, newUrgency, excludeId);\n      }\n    },\n\n    // Fallback memory-based conflict check\n    checkConflictMemory(serverName, newStart, newEnd, newUrgency, excludeId = null) {\n      const sameServerEvents = this.allReservations.filter(ev => \n        ev.server === serverName && (excludeId === null || ev.id !== excludeId)\n      );\n\n      for (const ev of sameServerEvents) {\n        const evStart = new Date(ev.start);\n        const evEnd = new Date(ev.end);\n\n        if (newStart < evEnd && newEnd > evStart) {\n          const existingUrg = (ev.urgency || '').toLowerCase();\n          const newUrg = (newUrgency || '').toLowerCase();\n\n          if (existingUrg !== 'co-run' || newUrg !== 'co-run') {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    \n    // Transaction-based safe reservation creation\n    async createReservationSafe(reservationData) {\n      try {\n        return await runTransaction(firestore, async (transaction) => {\n          // Query for conflicting reservations within transaction\n          const conflictQuery = query(\n            this.reservationsCollection,\n            where('server', '==', reservationData.server),\n            where('start', '<', reservationData.end),\n            orderBy('start', 'asc')\n          );\n\n          const conflictSnapshot = await getDocs(conflictQuery);\n          const conflicts = conflictSnapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n\n          // Check for conflicts\n          const newStart = new Date(reservationData.start);\n          const newEnd = new Date(reservationData.end);\n          const newUrgency = (reservationData.urgency || '').toLowerCase();\n\n          for (const conflict of conflicts) {\n            const conflictStart = new Date(conflict.start);\n            const conflictEnd = new Date(conflict.end);\n\n            // Check for time overlap\n            if (newStart < conflictEnd && newEnd > conflictStart) {\n              const conflictUrgency = (conflict.urgency || '').toLowerCase();\n\n              // Both must be co-run to allow overlap\n              if (conflictUrgency !== 'co-run' || newUrgency !== 'co-run') {\n                throw new Error(`Conflict with reservation by ${conflict.username} (${conflict.urgency})`);\n              }\n            }\n          }\n\n          // If no conflicts, create the reservation\n          const newDocRef = doc(collection(firestore, 'reservations'));\n          transaction.set(newDocRef, reservationData);\n          \n          return newDocRef.id;\n        });\n      } catch (error) {\n        console.error('Transaction failed:', error);\n        throw error;\n      }\n    },\n    \n    // ISO date string conversion with timezone offset\n    toLocalOffsetISOString(date) {\n      const offsetMin = date.getTimezoneOffset()\n      const sign = offsetMin > 0 ? '-' : '+'\n      const absolute = Math.abs(offsetMin)\n      const offsetHours = Math.floor(absolute / 60)\n      const offsetMins = absolute % 60\n\n      const pad = (n) => n.toString().padStart(2, '0')\n      const year = date.getFullYear()\n      const month = pad(date.getMonth() + 1)\n      const day = pad(date.getDate())\n      const hour = pad(date.getHours())\n      const minute = pad(date.getMinutes())\n      const second = pad(date.getSeconds())\n      const offH = pad(offsetHours)\n      const offM = pad(offsetMins)\n      return `${year}-${month}-${day}T${hour}:${minute}:${second}${sign}${offH}:${offM}`\n    },\n\n    // Date and time formatting functions - consolidated\n    formatAxisHour(h) {\n      return new Date(2000, 0, 1, h).toLocaleTimeString('en-US', { hour: 'numeric', hour12: true });\n    },\n    \n    formatMmmDdYyyy(d) {\n      return d.toLocaleDateString('en-US', {month:'short', day:'numeric', year:'numeric'});\n    },\n    \n    formatHhMmAmPm(d) {\n      return d.toLocaleTimeString('en-US', {hour:'numeric', minute:'2-digit', hour12:true});\n    },\n    \n    formatDayHeader(d) {\n      const weekday = d.toLocaleDateString('en-US', {weekday:'short'});\n      const monthDay = d.toLocaleDateString('en-US', {month:'short', day:'numeric'});\n      return `${weekday} (${monthDay})`;\n    },\n    \n    formatWeekRange(startDate) {\n      const endDate = this.addDays(startDate, 6);\n      const startMonth = startDate.toLocaleDateString('en-US', {month:'short'});\n      const endMonth = endDate.toLocaleDateString('en-US', {month:'short'});\n      const startDay = startDate.getDate();\n      const endDay = endDate.getDate();\n      const startYear = startDate.getFullYear();\n      const endYear = endDate.getFullYear();\n      \n      if (startMonth !== endMonth || startYear !== endYear) {\n        return `${startMonth} ${startDay}${startYear !== endYear ? `, ${startYear}:` : ''} - ${endMonth} ${endDay}, ${endYear}`;\n      }\n      return `${startMonth} ${startDay} - ${endDay}, ${startYear}`;\n    },\n\n    \n    // Combined time indicator style functions\n    getTimeIndicatorStyle(dayDate, type) {\n      const now = new Date();\n      if (!this.isSameDay(now, dayDate)) return {};\n      \n      const hours = now.getHours() + now.getMinutes() / 60;\n      const leftPercent = (hours / 24) * 100;\n      \n      if (type === 'arrow') {\n        return {\n          position: 'absolute',\n          top: '-10px',\n          left: `calc(${leftPercent}% - 2.5px)`,\n          width: '0',\n          height: '0',\n          borderLeft: '5px solid transparent',\n          borderRight: '5px solid transparent',\n          borderTop: '10px solid red'\n        };\n      } else if (type === 'line') {\n        return {\n          position: 'absolute',\n          top: '0',\n          bottom: '0',\n          left: `calc(${leftPercent}%)`,\n          width: '2px',\n          background: 'linear-gradient(to bottom, rgba(220, 53, 69, 0.8), rgba(220, 53, 69, 0.6))',\n          zIndex: 5,\n          boxShadow: '0 0 8px rgba(220, 53, 69, 0.4)'\n        };\n      }\n      \n      return {};\n    },\n    \n    // Use the combined function for both arrow and line\n    currentTimeArrowStyle(dayDate) {\n      return this.getTimeIndicatorStyle(dayDate, 'arrow');\n    },\n    \n    currentTimeLineStyle(dayDate) {\n      return this.getTimeIndicatorStyle(dayDate, 'line');\n    },\n    \n    // Date helper functions\n    addDays(dt, days) {\n      const d = new Date(dt);\n      d.setDate(d.getDate() + days);\n      return d;\n    },\n    \n    isSameDay(d1, d2) {\n      return d1.getFullYear() === d2.getFullYear() &&\n             d1.getMonth() === d2.getMonth() &&\n             d1.getDate() === d2.getDate();\n    },\n    \n    moveWeek(offset) {\n      const newDate = new Date(this.weekStart);\n      newDate.setDate(newDate.getDate() + offset * 7);\n      this.weekStart = newDate;\n      \n      // Reload reservations for the new week\n      this.reloadReservations();\n    },\n    \n    // Reload reservations when week changes\n    reloadReservations() {\n      // Unsubscribe from current listener\n      if (this.unsubscribeReservations) {\n        this.unsubscribeReservations();\n      }\n      \n      // Load reservations for new week\n      this.loadReservations();\n    },\n\n    // Hour and minute snapping functions - consolidated\n    snapHoursTo00_15_30_45(h) {\n      let totalMinutes = Math.round(h * 60);\n      const hour = Math.floor(totalMinutes / 60);\n      let minutes = totalMinutes % 60;\n      \n      // Snap minutes to 0 or 30\n      if (minutes >= 0 && minutes <= 25) minutes = 0;\n      else if (minutes > 25 && minutes <= 55) minutes = 30;\n      else minutes = 60;\n      \n      return hour + minutes / 60;\n    },\n\n    // Parse date and time strings into Date object\n    parseDateTime(dateS, timeS) {\n      try {\n        if (!dateS || !timeS) return null;\n        \n        const dateObj = new Date(dateS);\n        if (dateObj.toString() === 'Invalid Date') return null;\n\n        const timeParts = timeS.trim().split(' ');\n        if (timeParts.length !== 2) return null;\n        \n        const [time, period] = timeParts;\n        let [hours, minutes] = time.split(':').map(Number);\n        \n        if (isNaN(hours) || isNaN(minutes)) return null;\n        \n        const upperPeriod = period.toUpperCase();\n        if (upperPeriod === 'PM' && hours !== 12) hours += 12;\n        if (upperPeriod === 'AM' && hours === 12) hours = 0;\n        \n        dateObj.setHours(hours, minutes, 0, 0);\n        return dateObj;\n      } catch (err) {\n        console.error('Error parsing date/time:', err);\n        return null;\n      }\n    },\n\n    // Generate date choices for dropdowns\n    genDateChoices(inputStr) {\n      const base = this.parseDateTime(inputStr, '12:00 PM');\n      if (!base) return [];\n      \n      const arr = [];\n      for (const offset of [-2, -1, 0, 1, 2]) {\n        const dd = new Date(base);\n        dd.setDate(dd.getDate() + offset);\n        arr.push({\n          value: offset,\n          label: this.formatMmmDdYyyy(dd)\n        });\n      }\n      return arr;\n    },\n\n    // Combined validation function for both new and edit forms\n    validateDateTimes(startDateInput, startTimeInput, endDateInput, endTimeInput) {\n      const start = this.parseDateTime(startDateInput, startTimeInput);\n      const end = this.parseDateTime(endDateInput, endTimeInput);\n      \n      if (!start || !end) {\n        console.warn('Invalid date/time format');\n        return { valid: false, message: 'Invalid date/time format' };\n      }\n      \n      if (start >= end) {\n        return { valid: false, message: 'End time must be after start time' };\n      }\n      \n      return { valid: true, start, end };\n    },\n    \n    // Call the combined validation function\n    validateTimes() {\n      const result = this.validateDateTimes(\n        this.startDateInput,\n        this.startTimeInput, \n        this.endDateInput,\n        this.endTimeInput\n      );\n      \n      if (!result.valid && result.message) {\n        alert(result.message);\n      }\n    },\n    \n    validateEditTimes() {\n      if (!this.editingReservation) return;\n      \n      const result = this.validateDateTimes(\n        this.editingReservation.startDate,\n        this.editingReservation.startTime,\n        this.editingReservation.endDate,\n        this.editingReservation.endTime\n      );\n      \n      if (!result.valid && result.message) {\n        alert(result.message);\n      }\n      \n      this.$forceUpdate();\n    },\n\n    // Consolidated reservation update function\n    async updateReservation(evt, directUpdate = false) {\n      // Skip if not a direct update\n      if (!directUpdate) return false;\n      \n      const start = new Date(evt.start);\n      const end = new Date(evt.end);\n      \n      // Check for conflicts\n      if (await this.checkConflictEfficient(evt.server, start, end, evt.urgency, evt.id)) {\n        alert('Conflict: overlapping on the same server, not all open to co-run.');\n        return false;\n      }\n      \n      // Update in database\n      const docRef = doc(firestore, 'reservations', evt.id);\n      try {\n        const updateData = {\n          title: evt.title,\n          server: evt.server,\n          start: this.toLocalOffsetISOString(start),\n          end: this.toLocalOffsetISOString(end)\n        };\n        \n        // Add additional fields if provided\n        if (evt.urgency !== undefined) updateData.urgency = evt.urgency;\n        if (evt.note !== undefined) updateData.note = evt.note;\n        \n        await updateDoc(docRef, updateData);\n        console.log('Updated reservation');\n        return true;\n      } catch (error) {\n        console.error('Error updating reservation:', error);\n        return false;\n      }\n    },\n\n    // Use the combined update function for silent updates too\n    updateReservationSilent(evt) {\n      return this.updateReservation(evt, true);\n    },\n\n    // Handling for both new and existing reservations\n    async saveReservation(isNew = true) {\n      const reservationData = isNew ? this.newReservation : this.editingReservation;\n      \n      // Common validation\n      if (!reservationData.server || !reservationData.urgency) {\n        alert('Server and Urgency are required.');\n        return;\n      }\n      \n      // Check if user is authenticated\n      if (!auth.currentUser) {\n        alert('You must be logged in to create reservations.');\n        return;\n      }\n      \n      // Check if username is available\n      if (!this.currentUsername) {\n        alert('Username is required but not available. Please refresh and try again.');\n        return;\n      }\n      \n      // Parse dates\n      let start, end;\n      \n      if (isNew) {\n        const validation = this.validateDateTimes(\n          this.startDateInput, \n          this.startTimeInput,\n          this.endDateInput,\n          this.endTimeInput\n        );\n        \n        if (!validation.valid) {\n          alert(validation.message);\n          return;\n        }\n        \n        start = validation.start;\n        end = validation.end;\n      } else {\n        start = this.parseDateTime(\n          reservationData.startDate, \n          reservationData.startTime\n        );\n        end = this.parseDateTime(\n          reservationData.endDate,\n          reservationData.endTime\n        );\n        \n        if (!start || !end) {\n          alert('Invalid date/time format.');\n          return;\n        }\n        \n        if (start >= end) {\n          alert('End time must be after start time.');\n          return;\n        }\n      }\n      \n      try {\n        if (isNew) {\n          // Create new reservation using safe transaction\n          const originalTitle = `${reservationData.server} (${reservationData.urgency})`;\n          \n          const reservationDoc = {\n            title: originalTitle,\n            start: this.toLocalOffsetISOString(start),\n            end: this.toLocalOffsetISOString(end),\n            server: reservationData.server,\n            urgency: reservationData.urgency,\n            note: reservationData.note || '',\n            username: this.currentUsername\n          };\n          \n          if (!this.currentUsername) {\n            throw new Error('Username is required but not available');\n          }\n          \n          if (!this.reservationsCollection) {\n            throw new Error('Reservations collection is not initialized');\n          }\n          \n          // Use transaction-based safe creation instead of regular addDoc\n          const newReservationId = await this.createReservationSafe(reservationDoc);\n          console.log('Safely created reservation with ID:', newReservationId);\n          \n          // Close form and cleanup FIRST\n          this.showReservationForm = false;\n          this.dragCreation.active = false;\n          \n          // Reset form after closing\n          this.newReservation = {\n            start: null,\n            end: null,\n            server: '',\n            urgency: '',\n            note: ''\n          };\n          this.startDateInput = '';\n          this.startTimeInput = '';\n          this.endDateInput = '';\n          this.endTimeInput = '';\n        } else {\n          // Update existing reservation - check for conflicts first\n          if (await this.checkConflictEfficient(\n            reservationData.server, \n            start, \n            end, \n            reservationData.urgency,\n            reservationData.id\n          )) {\n            alert('Conflict: overlapping on the same server, not all open to co-run.');\n            return;\n          }\n          \n          const originalTitle = `${reservationData.server} (${reservationData.urgency})`;\n          \n          const docRef = doc(firestore, 'reservations', reservationData.id);\n          await updateDoc(docRef, {\n            title: originalTitle,\n            server: reservationData.server,\n            start: this.toLocalOffsetISOString(start),\n            end: this.toLocalOffsetISOString(end),\n            urgency: reservationData.urgency,\n            note: reservationData.note || ''\n          });\n          \n          // Close form\n          this.showEditModal = false;\n          this.editingReservation = null;\n        }\n      } catch (error) {\n        console.error('=== FIREBASE ERROR DEBUG ===');\n        console.error(`Error ${isNew ? 'creating' : 'updating'} reservation:`, error);\n        console.error('Error name:', error.name);\n        console.error('Error message:', error.message);\n        console.error('Error code:', error.code);\n        console.error('Error stack:', error.stack);\n        console.error('Full error object:', JSON.stringify(error, Object.getOwnPropertyNames(error)));\n        \n        // Check authentication status\n        console.error('Auth status - currentUser:', auth.currentUser);\n        console.error('Auth status - currentUserEmail:', this.currentUserEmail);\n        console.error('Auth status - currentUsername:', this.currentUsername);\n        \n        // Handle different error types with user-friendly messages\n        if (error.message && error.message.includes('Conflict with reservation')) {\n          // This is a conflict detected by our transaction\n          alert(`Reservation conflict: ${error.message.split('Conflict with reservation by ')[1]}. Please choose a different time or make it co-run compatible.`);\n        } else if (error.code === 'permission-denied') {\n          alert('Permission denied: You may not have the required permissions to create reservations. Please check with your administrator.');\n        } else if (error.code === 'unauthenticated') {\n          alert('Authentication required: Please log out and log back in, then try again.');\n        } else if (error.message && error.message.includes('400')) {\n          alert('Firebase request failed (400): This is likely a permissions or authentication issue. Please try logging out and back in.');\n        } else {\n          alert(`Firebase ${isNew ? 'create' : 'update'} failed: ${error.message}`);\n        }\n        \n        // Keep modal open on error so user can fix the issue\n      }\n    },\n    \n    // Call the combined save function instead of separate functions\n    confirmReservation() {\n      this.saveReservation(true);\n    },\n    \n    confirmUpdate() {\n      this.saveReservation(false);\n    },\n\n    prefillDateTimeInputs(st,en){\n      this.startDateInput=this.formatMmmDdYyyy(st)\n      this.startTimeInput=this.formatHhMmAmPm(st)\n      this.endDateInput=this.formatMmmDdYyyy(en)\n      this.endTimeInput=this.formatHhMmAmPm(en)\n    },\n\n    applyDateOffsetForDate(val, which){\n      if(!val)return\n      const offset=parseInt(val)\n      if(isNaN(offset))return\n      const base = (which==='start')\n        ? this.parseDateTime(this.startDateInput, '12:00 PM')\n        : this.parseDateTime(this.endDateInput, '12:00 PM')\n      if(!base){\n        alert('Invalid date to shift.')\n        return\n      } \n      base.setDate(base.getDate()+offset)\n      if(which==='start'){\n        this.startDateInput=this.formatMmmDdYyyy(base)\n      }else{\n        this.endDateInput=this.formatMmmDdYyyy(base)\n      }\n    },\n\n    genTimeChoices(inputStr){\n      const base=this.parseDateTime('Jun 01, 2025', inputStr)\n      if(!base)return []\n      const arr=[]\n      for(let m=-12*60; m<=12*60; m+=15){\n        const dd=new Date(base)\n        dd.setMinutes(dd.getMinutes()+m)\n        const label=dd.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true})\n        arr.push({ value:m, label:`${m} min => ${label}`})\n      }\n      return arr\n    },\n    applyTimeOffset(val, which){\n      if(!val)return \n      const offsetM=parseInt(val)\n      if(isNaN(offsetM))return\n      const base= this.parseDateTime('Jun 01, 2025', (which==='start'?this.startTimeInput:this.endTimeInput))\n      if(!base){\n        alert('Invalid time to shift.')\n        return\n      }\n      base.setMinutes(base.getMinutes()+offsetM)\n      const newLabel=base.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true})\n      if(which==='start'){\n        this.startTimeInput=newLabel\n      } else {\n        this.endTimeInput=newLabel\n      }\n    },\n\n    cancelReservation(){\n      this.showReservationForm=false\n      this.dragCreation.active=false\n    },\n\n    // Update reservation when Update button is clicked\n    async confirmDelete(res){\n      this.showEditModal=false\n      if(confirm(`Delete reservation '${res.title}'?`)){\n        try{\n          const docRef=doc(firestore,'reservations',res.id)\n          await deleteDoc(docRef)\n          console.log('Reservation deleted.')\n        }catch(err){\n          console.error('Error deleting reservation:',err)\n        }\n      }\n      this.editingReservation=null\n    },\n    async promptChangePeriod(){\n      this.showEditModal=false\n      const ns=prompt('Enter new start time (YYYY-MM-DDTHH:MM)',this.editingReservation.start)\n      const ne=prompt('Enter new end time (YYYY-MM-DDTHH:MM)',this.editingReservation.end)\n      if(!ns||!ne)return\n      try{\n        const docRef=doc(firestore,'reservations',this.editingReservation.id)\n        await updateDoc(docRef,{\n          start:this.toLocalOffsetISOString(new Date(ns)),\n          end:this.toLocalOffsetISOString(new Date(ne))\n        })\n        console.log('server-type changed in local offset.')\n      }catch(err){\n        console.error('Error updating reservation period:',err)\n      }\n      this.editingReservation=null\n    },\n    cancelEdit(){\n      this.showEditModal=false\n      this.editingReservation=null\n    },\n\n    closeViewModal() {\n      this.showViewModal = false;\n      this.viewingReservation = null;\n    },\n\n    async loadServers(){\n      try {\n        this.serversList = await dailyCache.loadData('servers');\n        console.log('Loaded servers:', this.serversList.length);\n      } catch (err) {\n        console.error('Error loading servers:', err);\n        this.serversList = [];\n      }\n    },\n    loadReservations(){\n      this.reservationsCollection=collection(firestore,'reservations')\n      \n      // Optimized: Load reservations that overlap with current viewing week\n      // Need to get reservations that either:\n      // 1. Start during the week\n      // 2. End during the week  \n      // 3. Span across the entire week\n      // Since Firebase doesn't support OR queries directly, we query a wider range\n      const weekStart = new Date(this.weekStart);\n      weekStart.setHours(0, 0, 0, 0);\n      const weekEnd = new Date(weekStart);\n      weekEnd.setDate(weekEnd.getDate() + 7);\n      weekEnd.setHours(23, 59, 59, 999);\n      \n      // Query reservations that start before week end (to catch long reservations)\n      // Extend the query range to catch reservations that might span multiple weeks/months\n      const extendedStart = new Date(weekStart);\n      extendedStart.setDate(extendedStart.getDate() - 30); // Look back 30 days for very long reservations\n      \n      console.log(`Loading reservations for week: ${weekStart.toISOString()} to ${weekEnd.toISOString()}`);\n      console.log(`Extended query range: ${extendedStart.toISOString()} to ${weekEnd.toISOString()}`);\n      \n      const reservationsQuery = query(\n        this.reservationsCollection,\n        where('start', '>=', extendedStart.toISOString()),\n        where('start', '<', weekEnd.toISOString()),\n        orderBy('start', 'asc')\n      );\n      \n      this.unsubscribeReservations = onSnapshot(reservationsQuery,snap=>{\n        const rawReservations = snap.docs.map(d=>{\n          const dd=d.data()\n          // Set class names array\n          const classNames = [this.getUrgencyColorClass(dd.urgency)];\n          // Add my-reservation class if it's my reservation\n          if (dd.username === this.currentUsername) {\n            classNames.push('my-reservation');\n          }\n          \n          return {\n            id:d.id,\n            title: dd.title,  // Keep original title\n            start:dd.start,\n            end:dd.end,\n            server:dd.server,\n            urgency:dd.urgency,\n            note:dd.note,\n            username:dd.username,\n            className: classNames // Set class names array\n          }\n        })\n        \n        // Filter reservations that actually overlap with the current week\n        this.allReservations = rawReservations.filter(reservation => {\n          const resStart = new Date(reservation.start);\n          const resEnd = new Date(reservation.end);\n          \n          // Check if reservation overlaps with current week\n          // Overlap condition: reservation starts before week ends AND reservation ends after week starts\n          return resStart < weekEnd && resEnd > weekStart;\n        });\n        \n        console.log(`Filtered ${this.allReservations.length} reservations from ${rawReservations.length} total reservations for current week`);\n        \n        // Cleanup old reservations weekly (only on Sundays)\n        const today = new Date();\n        if (today.getDay() === 0) { // Sunday = 0\n          this.cleanupOldReservations();\n        }\n        \n        console.log('Fetched reservations:',this.allReservations)\n      },err=>console.error('Error fetching reservations:',err))\n    },\n\n    // Automatically delete reservations older than 3 months\n    async cleanupOldReservations() {\n      try {\n        const threeMonthsAgo = new Date();\n        threeMonthsAgo.setMonth(threeMonthsAgo.getMonth() - 3);\n        \n        const oldReservations = this.allReservations.filter(reservation => {\n          const reservationEnd = new Date(reservation.end);\n          return reservationEnd < threeMonthsAgo;\n        });\n        \n        if (oldReservations.length > 0) {\n          console.log(`Found ${oldReservations.length} old reservations to delete`);\n          \n          for (const reservation of oldReservations) {\n            const reservationRef = doc(firestore, 'reservations', reservation.id);\n            await deleteDoc(reservationRef);\n          }\n          \n          console.log(`Successfully deleted ${oldReservations.length} old reservations`);\n        }\n      } catch (error) {\n        console.error('Error cleaning up old reservations:', error);\n      }\n    },\n\n\n    openReservationForm() {\n      this.newReservation = {\n        start: null,\n        end: null,\n        server: '',\n        urgency: '',\n        note: ''\n      };\n      const now = new Date();\n      const snappedHours = this.snapHoursTo00_15_30_45(now.getHours() + now.getMinutes() / 60);\n      const snappedDate = new Date(now.getFullYear(), now.getMonth(), now.getDate(), Math.floor(snappedHours), Math.round((snappedHours - Math.floor(snappedHours)) * 60), 0, 0);\n      this.prefillDateTimeInputs(snappedDate, new Date(snappedDate.getTime() + 3600000));\n      this.showReservationForm = true;\n    },\n\n    \n\n    /** For server-type view */\n    getReservationsForServerAndDay(srv, dd){\n      return this.allReservations.filter(r=>{\n        if(r.server!==srv.name) return false\n        \n        const rs = new Date(r.start)\n        const re = new Date(r.end)\n        \n        const dayStart = new Date(dd)\n        dayStart.setHours(0, 0, 0, 0)\n        \n        const dayEnd = new Date(dd)\n        dayEnd.setHours(23, 59, 59, 999)\n        \n        // Check if reservation overlaps with the day\n        return (rs <= dayEnd && re > dayStart)\n      })\n    },\n    \n    getReservationStyle(r, dd){\n      const st=new Date(r.start)\n      const en=new Date(r.end)\n\n      const ds=new Date(dd); ds.setHours(0,0,0,0)\n      const de=new Date(dd); de.setHours(24,0,0,0)\n      const effS=st<ds?ds:st\n      const effE=en>de?de:en\n      \n      // Calculate start hour as before\n      const sh=effS.getHours()+effS.getMinutes()/60\n      \n      // Improved handling for end time across date boundaries (including month boundaries)\n      let eh = effE.getHours()+effE.getMinutes()/60\n      \n      // Check if effective end time extends beyond the current day\n      if (effE.getTime() >= de.getTime()) {\n        eh = 24  // If reservation extends to or beyond end of day, show until end of day\n      } else if (eh === 0 && effE > ds) {\n        // If end time is midnight but reservation extends beyond day start, treat as full day\n        eh = 24\n      }\n      \n      const leftP=(sh/24)*100\n      const wP=((eh-sh)/24)*100\n      \n      // Debug logging for cross-month reservations\n      if (st.getMonth() !== en.getMonth() || st.getDate() !== en.getDate()) {\n        console.log(`Cross-date reservation debugging:`, {\n          username: r.username,\n          server: r.server,\n          originalStart: r.start,\n          originalEnd: r.end,\n          viewingDay: dd.toDateString(),\n          effectiveStart: effS.toISOString(),\n          effectiveEnd: effE.toISOString(),\n          startHour: sh,\n          endHour: eh,\n          leftPercent: leftP,\n          widthPercent: wP\n        });\n      }\n      \n      return {left:`${leftP}%`, width:`${wP}%`}\n    },\n    \n    handleReservationClick(r){\n      const startDate = this.formatMmmDdYyyy(new Date(r.start));\n      const startTime = this.formatHhMmAmPm(new Date(r.start));\n      const endDate = this.formatMmmDdYyyy(new Date(r.end));\n      const endTime = this.formatHhMmAmPm(new Date(r.end));\n      \n      const reservationData = {\n        ...r,\n        startDate,\n        startTime,\n        endDate,\n        endTime\n      };\n      \n      // Check if it's current user's reservation\n      if (r.username === this.currentUsername) {\n        // Show edit modal if it's current user's reservation\n        this.editingReservation = null;\n        \n        this.$nextTick(() => {\n          this.editingReservation = reservationData;\n          this.showEditModal = true;\n        });\n      } else {\n        // Show view modal if it's another user's reservation\n        this.viewingReservation = null;\n        \n        this.$nextTick(() => {\n          this.viewingReservation = reservationData;\n          this.showViewModal = true;\n        });\n      }\n    },\n    \n    /** Drag creation functions */\n    handleTimelineContainerMousedown(dayDate,e){\n      if(e.target.closest('.reservation'))return\n      e.preventDefault()\n      this.startDragCreation(null,dayDate,e)\n    },\n    \n    handleReservationContainerMousedown(srv,dayDate,e){\n      if(e.target.closest('.reservation'))return\n      e.preventDefault()\n      this.startDragCreation(srv,dayDate,e)\n    },\n    \n    startDragCreation(server,day,e){\n      const rect=e.currentTarget.getBoundingClientRect()\n      this.dragCreation={\n        active:true,server,day,\n        startX:e.clientX, currentX:e.clientX,\n        containerLeft:rect.left, containerWidth:rect.width\n      }\n      window.addEventListener('mousemove', this.onDragCreationMove)\n      window.addEventListener('mouseup',this.onDragCreationEnd)\n    },\n    \n    onDragCreationMove(e) {\n      if (!this.dragCreation.active) return;\n\n      const { startX, containerLeft, containerWidth } = this.dragCreation;\n\n      const pointerX   = e.clientX - containerLeft;\n      const initialX   = startX - containerLeft;\n\n      let startFrac    = initialX / containerWidth;\n      let endFrac      = pointerX / containerWidth;\n      let hoursStart   = 24 * startFrac;\n      let hoursEnd     = 24 * endFrac;\n\n      hoursStart = this.snapHoursTo00_15_30_45(hoursStart);\n      hoursEnd   = this.snapHoursTo00_15_30_45(hoursEnd);\n\n      const newStartPx = (hoursStart / 24) * containerWidth;\n      const newEndPx   = (hoursEnd   / 24) * containerWidth;\n\n      const snappedLeftPx  = Math.min(newStartPx, newEndPx);\n      const snappedRightPx = Math.max(newStartPx, newEndPx);\n      const snappedWidth   = snappedRightPx - snappedLeftPx;\n\n      this.dragCreation.currentX = e.clientX;\n      this.dragCreation.previewLeft  = snappedLeftPx;\n      this.dragCreation.previewWidth = snappedWidth;\n      this.dragCreation.snappedStartPx = snappedLeftPx;\n      this.dragCreation.snappedEndPx   = snappedRightPx;\n    },\n    \n    onDragCreationEnd(){\n      if(!this.dragCreation.active)return\n      window.removeEventListener('mousemove',this.onDragCreationMove)\n      window.removeEventListener('mouseup',this.onDragCreationEnd)\n      const {startX, currentX, snappedStartPx,snappedEndPx,containerLeft,containerWidth,day,server}=this.dragCreation\n\n      const rawStartPx=Math.min(snappedStartPx,snappedEndPx)\n      const rawEndPx=Math.max(snappedStartPx,snappedEndPx)\n      const startFrac=(rawStartPx)/containerWidth\n      const endFrac=(rawEndPx)/containerWidth\n      if((startX - currentX) < 3 && (currentX - startX) < 3){\n        let px = startX - containerLeft\n        let fraction = px / containerWidth\n        let hours=24*fraction\n        hours=this.snapHoursTo00_15_30_45(hours)\n        const st=new Date(day)\n        st.setHours(Math.floor(hours), Math.round((hours-Math.floor(hours))*60),0,0)\n        const en=new Date(st.getTime()+30*60000)\n\n        const newStartPx = (hours / 24) * containerWidth;\n        this.dragCreation.previewLeft  = newStartPx;\n        this.dragCreation.previewWidth = (0.5 / 24) * containerWidth;\n\n        this.newReservation.server=server?server.name:''\n        this.newReservation.start=st\n        this.newReservation.end=en\n        this.newReservation.urgency=''\n        this.newReservation.note=''\n        this.prefillDateTimeInputs(st,en)\n        this.showReservationForm=true\n      }else{\n        let hs=24*startFrac\n        let he=24*endFrac\n        hs=this.snapHoursTo00_15_30_45(hs)\n        he=this.snapHoursTo00_15_30_45(he)\n        const finalS=new Date(day)\n        finalS.setHours(Math.floor(hs),Math.round((hs-Math.floor(hs))*60),0,0)\n        const finalE=new Date(day)\n        finalE.setHours(Math.floor(he),Math.round((he-Math.floor(he))*60),0,0)\n        this.newReservation.server=server?server.name:''\n        this.newReservation.start=finalS\n        this.newReservation.end=finalE\n        this.newReservation.urgency=''\n        this.newReservation.note=''\n        this.prefillDateTimeInputs(finalS, finalE)\n        this.showReservationForm=true\n      }\n    },\n    \n    getDragPreviewStyle(){\n      if(!this.dragCreation.active)return {}\n      if(this.dragCreation.previewLeft==null || this.dragCreation.previewWidth==null){\n        let left=Math.min(this.dragCreation.startX, this.dragCreation.currentX)-this.dragCreation.containerLeft\n        if(left<0)left=0\n        const width=Math.abs(this.dragCreation.currentX-this.dragCreation.startX)\n        return {left:left+'px', width:width+'px'}\n      }\n      return {\n        left:this.dragCreation.previewLeft+'px',\n        width:this.dragCreation.previewWidth+'px'\n      }\n    },\n\n    // Drag-related functions\n    handleDragOver(e, srv, day) {\n      if (!this.draggedReservation) return;\n      \n      e.preventDefault();\n      \n      const rect = e.currentTarget.getBoundingClientRect();\n      const px = e.clientX - rect.left;\n      let fraction = px / rect.width;\n      \n      let hours = 24 * fraction;\n      hours = this.snapHoursTo00_15_30_45(hours);\n      \n      const originalStart = new Date(this.draggedReservation.start);\n      const originalEnd = new Date(this.draggedReservation.end);\n      const duration = (originalEnd - originalStart) / (1000 * 60 * 60);\n\n      const leftPercent = (hours / 24) * 100;\n      const widthPercent = (duration / 24) * 100;\n      \n      this.dragPreviewPosition = {\n        active: true,\n        server: srv,\n        day: day,\n        left: leftPercent,\n        width: widthPercent,\n        serverIndex: this.filteredServers.findIndex(s => s.id === srv.id)\n      };\n    },\n    \n    isDraggingOver(srv, day) {\n      return this.dragPreviewPosition.active && \n             this.dragPreviewPosition.server.id === srv.id && \n             this.isSameDay(this.dragPreviewPosition.day, day);\n    },\n    \n    getDragGridPreviewStyle() {\n      if (!this.dragPreviewPosition.active) return {};\n      \n      return {\n        left: `${this.dragPreviewPosition.left}%`,\n        width: `${this.dragPreviewPosition.width}%`,\n        top: '5px',\n        height: '25px'\n      };\n    },\n    \n    // Modified to validate ownership in onDrop\n    async onDrop(e, srv, dayDate) {\n      if (!this.draggedReservation) return;\n      \n      // Check if current user is the owner of this reservation\n      if (this.draggedReservation.username !== this.currentUsername) {\n        alert(\"You can only modify your own reservations.\");\n        this.draggedReservation = null;\n        this.draggedOriginalServer = null;\n        this.dragPreviewPosition.active = false;\n        return;\n      }\n      \n      const rect = e.currentTarget.getBoundingClientRect();\n      const px = e.clientX - rect.left;\n      let fraction = px / rect.width;\n      let hours = 24 * fraction;\n      hours = this.snapHoursTo00_15_30_45(hours);\n      \n      const newStart = new Date(dayDate);\n      newStart.setHours(Math.floor(hours), Math.round((hours - Math.floor(hours)) * 60), 0, 0);\n      \n      const os = new Date(this.draggedReservation.start);\n      const oe = new Date(this.draggedReservation.end);\n      const dur = oe - os;\n      const newEnd = new Date(newStart.getTime() + dur);\n      \n      // Check for conflicts\n      if (await this.checkConflictEfficient(\n        srv.name, \n        newStart, \n        newEnd, \n        this.draggedReservation.urgency, \n        this.draggedReservation.id\n      )) {\n        alert('Conflict: overlapping on the same server, not all open to co-run.');\n        return;\n      }\n      \n      const updatedTitle = `${srv.name} (${this.draggedReservation.urgency})`;\n      \n      const updated = {\n        ...this.draggedReservation,\n        title: updatedTitle,\n        server: srv.name,\n        start: this.toLocalOffsetISOString(newStart),\n        end: this.toLocalOffsetISOString(newEnd)\n      };\n      \n      this.updateReservation(updated, true);\n      this.draggedReservation = null;\n      this.draggedOriginalServer = null;\n      this.dragPreviewPosition.active = false;\n    },\n\n    // Modified to check ownership before allowing custom drag\n    startCustomDrag(reservation, server, day, e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      // Check if current user is the owner of this reservation\n      if (reservation.username !== this.currentUsername) {\n        // Just open the view modal instead of starting a drag\n        this.handleReservationClick(reservation);\n        return;\n      }\n      \n      const reservationElement = e.currentTarget;\n      const rect = reservationElement.getBoundingClientRect();\n      \n      // ...rest of the existing custom drag setup code...\n      const start = new Date(reservation.start);\n      const end = new Date(reservation.end);\n      const duration = (end - start) / (1000 * 60 * 60);\n      \n      this.customDragInitialOffset = e.clientX - rect.left;\n      \n      this.customDragActive = true;\n      this.customDragReservation = reservation;\n      this.customDragStartServer = server;\n      this.customDragCurrentServer = server;\n      this.customDragDay = day;\n      this.customDragWidth = duration;\n      this.customDragInitialRect = rect;\n      this.customDragStartTime = start;\n      \n      console.log('[Drag Start] Server:', server.name, 'Day:', this.formatMmmDdYyyy(day));\n      \n      this.isDragging = false;\n      this.dragStartX = e.clientX;\n      this.dragStartY = e.clientY;\n      \n      this.customDragPreviewStyle = {\n        position: 'fixed',\n        left: `${rect.left}px`,\n        top: `${rect.top}px`,\n        width: `${rect.width}px`,\n        height: `${rect.height}px`,\n        background: 'rgba(255, 165, 0, 0.7)',\n        border: '2px dashed #ff8c00',\n        zIndex: 9999,\n        pointerEvents: 'none',\n        borderRadius: '3px',\n        boxShadow: '0 2px 5px rgba(0,0,0,0.3)',\n        display: 'block',\n        transition: 'top 0.1s ease-out'\n      };\n      \n      window.addEventListener('mousemove', this.handleCustomDragMove);\n      window.addEventListener('mouseup', this.handleCustomDragEnd);\n      \n      this.lastMouseX = e.clientX;\n      this.lastMouseY = e.clientY;\n    },\n    \n    handleCustomDragMove(e) {\n      if (!this.customDragActive) return;\n      \n      const deltaX = Math.abs(e.clientX - this.dragStartX);\n      const deltaY = Math.abs(e.clientY - this.dragStartY);\n      \n      if (!this.isDragging && (deltaX > this.dragThreshold || deltaY > this.dragThreshold)) {\n        this.isDragging = true;\n        console.log('Dragging started');\n      }\n      \n      const daySections = document.querySelectorAll('.day-section');\n      let targetTimeline = null;\n      let targetDay = null;\n      let targetServer = null;\n      let minDistance = Infinity;\n      \n      daySections.forEach((daySection, dayIndex) => {\n        const timelineElement = daySection.querySelector('.timeline');\n        \n        if (timelineElement) {\n          const timelineRect = timelineElement.getBoundingClientRect();\n          \n          if (e.clientX >= timelineRect.left && e.clientX <= timelineRect.right) {\n            const relativeY = e.clientY - timelineRect.top;\n            const serverIndex = Math.floor(relativeY / this.rowHeight);\n            \n            if (serverIndex >= 0 && serverIndex < this.filteredServers.length) {\n              const serverRowTop = timelineRect.top + serverIndex * this.rowHeight;\n              const serverRowBottom = serverRowTop + this.rowHeight;\n              const distanceToRow = Math.min(\n                Math.abs(e.clientY - serverRowTop),\n                Math.abs(e.clientY - serverRowBottom)\n              );\n              \n              if (distanceToRow < minDistance) {\n                minDistance = distanceToRow;\n                targetTimeline = timelineElement;\n                targetDay = this.serverWeekDays[dayIndex].date;\n                targetServer = this.filteredServers[serverIndex];\n              }\n            }\n          }\n        }\n      });\n      \n      if (targetTimeline && targetServer) {\n        const rect = targetTimeline.getBoundingClientRect();\n        \n        let relativeX = e.clientX - rect.left;\n        if (relativeX < 0) relativeX = 0;\n        if (relativeX > rect.width) relativeX = rect.width;\n        \n        const fraction = relativeX / rect.width;\n        let hours = 24 * fraction;\n        hours = this.snapHoursTo00_15_30_45(hours);\n        \n        const serverIndex = this.filteredServers.findIndex(s => s.id === targetServer.id);\n        \n        const leftPercent = (hours / 24);\n        const newLeft = rect.left + leftPercent * rect.width;\n        const newTop = rect.top + (serverIndex >= 0 ? serverIndex * this.rowHeight : 0) + 5;\n        const newWidth = this.customDragWidth * rect.width / 24;\n        \n        this.customDragPreviewStyle = {\n          ...this.customDragPreviewStyle,\n          left: `${newLeft}px`,\n          top: `${newTop}px`,\n          width: `${newWidth}px`,\n          height: '25px',\n          transition: 'top 0.1s ease-out'\n        };\n        \n        if (this.customDragCurrentServer !== targetServer || \n            !this.isSameDay(this.customDragDay, targetDay)) {\n          console.log('[Drag Move] Changing to:', \n                     'Server:', targetServer.name,\n                     'Day:', this.formatMmmDdYyyy(targetDay));\n          \n          this.customDragCurrentServer = targetServer;\n          this.customDragDay = targetDay;\n        }\n      }\n      \n      this.lastMouseX = e.clientX;\n      this.lastMouseY = e.clientY;\n    },\n    \n    // Modified handleCustomDragEnd to check ownership again before saving\n    async handleCustomDragEnd() {\n      if (!this.customDragActive) return;\n      \n      window.removeEventListener('mousemove', this.handleCustomDragMove);\n      window.removeEventListener('mouseup', this.handleCustomDragEnd);\n      \n      // Verify ownership again as a safeguard\n      if (this.customDragReservation && \n          this.customDragReservation.username !== this.currentUsername) {\n        this.customDragActive = false;\n        this.customDragReservation = null;\n        this.customDragStartServer = null;\n        this.customDragCurrentServer = null;\n        this.customDragDay = null;\n        this.isDragging = false;\n        this.customDragInitialRect = null;\n        alert(\"You can only modify your own reservations.\");\n        return;\n      }\n      \n      const dragDistance = Math.sqrt(\n        Math.pow(this.lastMouseX - this.dragStartX, 2) + \n        Math.pow(this.lastMouseY - this.dragStartY, 2)\n      );\n      \n      // ...rest of the existing drag end handling...\n      if (dragDistance <= this.dragThreshold * 1) {\n        this.handleReservationClick(this.customDragReservation);\n      } \n      else if (this.isDragging && this.customDragReservation && \n               this.customDragDay && this.customDragCurrentServer) {\n        \n        console.log('[Drag End] Final position:', \n                   'Server:', this.customDragCurrentServer.name, \n                   'Day:', this.formatMmmDdYyyy(this.customDragDay));\n        \n        const dayIndex = this.serverWeekDays.findIndex(d => \n          this.isSameDay(d.date, this.customDragDay));\n          \n        const serverIndex = this.filteredServers.findIndex(s => \n          s.id === this.customDragCurrentServer.id);\n          \n        if (dayIndex >= 0 && serverIndex >= 0) {\n          const dayContainers = document.querySelectorAll('.day-section');\n          if (dayIndex < dayContainers.length) {\n            const timelineContainer = dayContainers[dayIndex].querySelector('.timeline');\n            \n            if (timelineContainer) {\n              const rect = timelineContainer.getBoundingClientRect();\n              \n              let relativeX = this.lastMouseX - rect.left;\n              if (relativeX < 0) relativeX = 0;\n              if (relativeX > rect.width) relativeX = rect.width;\n              \n              const fraction = relativeX / rect.width;\n              let hours = 24 * fraction;\n              hours = this.snapHoursTo00_15_30_45(hours);\n              \n              const newStart = new Date(this.customDragDay);\n              newStart.setHours(Math.floor(hours), Math.round((hours - Math.floor(hours)) * 60), 0, 0);\n              \n              const os = new Date(this.customDragReservation.start);\n              const oe = new Date(this.customDragReservation.end);\n              const dur = oe - os;\n              const newEnd = new Date(newStart.getTime() + dur);\n              \n              // Check for conflicts\n              if (await this.checkConflictEfficient(\n                this.customDragCurrentServer.name, \n                newStart, \n                newEnd, \n                this.customDragReservation.urgency,\n                this.customDragReservation.id\n              )) {\n                alert('Conflict: overlapping on the same server, not all open to co-run.');\n                this.customDragActive = false;\n                this.customDragReservation = null;\n                this.customDragStartServer = null;\n                this.customDragCurrentServer = null;\n                this.customDragDay = null;\n                this.isDragging = false;\n                this.customDragInitialRect = null;\n                return;\n              }\n              \n              const updatedTitle = `${this.customDragCurrentServer.name} (${this.customDragReservation.urgency})`;\n              \n              const updated = {\n                ...this.customDragReservation,\n                title: updatedTitle,\n                server: this.customDragCurrentServer.name,\n                start: this.toLocalOffsetISOString(newStart),\n                end: this.toLocalOffsetISOString(newEnd)\n              };\n              \n              const significantMove = dragDistance > this.dragThreshold * 4;\n              if (significantMove) {\n                this.updateReservationSilent(updated);\n              } else {\n                this.editingReservation = null;\n                \n                this.$nextTick(() => {\n                  this.editingReservation = {\n                    ...updated,\n                    startDate: this.formatMmmDdYyyy(newStart),\n                    startTime: this.formatHhMmAmPm(newStart),\n                    endDate: this.formatMmmDdYyyy(newEnd),\n                    endTime: this.formatHhMmAmPm(newEnd)\n                  };\n                  \n                  this.showEditModal = true;\n                });\n              }\n            }\n          }\n        }\n      }\n      \n      this.customDragActive = false;\n      this.customDragReservation = null;\n      this.customDragStartServer = null;\n      this.customDragCurrentServer = null;\n      this.customDragDay = null;\n      this.isDragging = false;\n      this.customDragInitialRect = null;\n    },\n\n    \n    // Format time range function\n    formatTimeRange(start, end) {\n      const startTime = start.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true\n      });\n      const endTime = end.toLocaleTimeString('en-US', {\n        hour: 'numeric', \n        minute: '2-digit',\n        hour12: true\n      });\n      return `${startTime} - ${endTime}`;\n    },\n\n    // Check if reservation is mine\n    isMyReservation(reservation) {\n      return reservation.username === this.currentUsername;\n    },\n\n    // Add this new method to check if server has an attached device with a matching name\n    serverHasAttachedDeviceMatchingFilter(server, filter) {\n      // If no attached devices, return false\n      if (!server.attachedDevices || !server.attachedDevices.length) {\n        return false;\n      }\n      \n      // Check each attached device for a name match\n      return server.attachedDevices.some(deviceId => {\n        // Find the device object with this ID\n        const device = this.devicesList.find(d => d.id === deviceId);\n        \n        // If device found and has a name, check if it contains the filter string\n        return device && device.name && device.name.toLowerCase().includes(filter);\n      });\n    },\n    \n    // Load devices data for filtering with daily caching\n    async loadDevices() {\n      try {\n        this.devicesList = await dailyCache.loadData('devices');\n        console.log('Loaded devices:', this.devicesList.length);\n        return this.devicesList;\n      } catch (error) {\n        console.error('Error loading devices:', error);\n        this.devicesList = [];\n        return [];\n      }\n    },\n    \n    // Determine color class based on urgency\n    getUrgencyColorClass(urgency) {\n      if (!urgency) return 'urgency-default';\n      \n      const lowerUrgency = urgency.toLowerCase();\n      \n      if (lowerUrgency.includes('co-run')) {\n        return 'urgency-corun';\n      } else if (lowerUrgency.includes('may yield')) {\n        return 'urgency-exclusive-light';\n      } else if (lowerUrgency.includes('urgent')) {\n        return 'urgency-exclusive-dark';\n      } else {\n        return 'urgency-exclusive-medium';\n      }\n    },\n    // Reset filters - simplified to use only unifiedFilter\n    clearAllFilters() {\n      this.unifiedFilter = '';\n      this.serverFilter = ''; // For backward compatibility\n      this.deviceFilter = ''; // For backward compatibility\n      this.showOnlyFavorites = false;\n      \n      // Update URL to remove filter parameters\n      if (this.$route.query.server || this.$route.query.device) {\n        this.$router.replace({ path: this.$route.path });\n      }\n    },\n\n    // Format IP address for display\n    formatIp(ip) {\n      if (!ip) return 'N/A';\n      return Array.isArray(ip) ? ip.join(', ') : ip;\n    },\n    \n    // Format status text\n    formatStatus(status) {\n      if (!status) return 'Unknown';\n      return status.charAt(0).toUpperCase() + status.slice(1);\n    },\n    \n    // Get status color class\n    getStatusColor(status) {\n      if (!status) return 'status-red';\n      return status.toLowerCase() === 'on' ? 'status-green' : 'status-red';\n    },\n    \n    // Format field name for display (convert camelCase to Title Case)\n    formatFieldName(key) {\n      return key\n        .replace(/([A-Z])/g, ' $1')\n        .replace(/^./, str => str.toUpperCase());\n    },\n\n    // Parse BMC IPs (handles comma-separated IPs)\n    parseBmcIps(bmcIp) {\n      if (!bmcIp) return [];\n      // Split by comma and trim whitespace\n      return bmcIp.split(',').map(ip => ip.trim()).filter(ip => ip.length > 0);\n    },\n\n    // Password visibility methods\n    isPasswordVisible(type) {\n      return this.visiblePasswords.has(type);\n    },\n\n    togglePasswordVisibility(type) {\n      if (this.visiblePasswords.has(type)) {\n        this.visiblePasswords.delete(type);\n      } else {\n        this.visiblePasswords.add(type);\n        // Auto-hide password after 5 seconds\n        setTimeout(() => {\n          this.visiblePasswords.delete(type);\n          this.$forceUpdate();\n        }, 5000);\n      }\n    },\n\n    // Check if user has view permissions\n    hasViewPermissions() {\n      return isAdmin() || isUser();\n    },\n    \n    // Show server details modal\n    showServerDetails(server) {\n      this.activeServer = server;\n      \n      // Get attached devices\n      this.serverAttachedDevices = [];\n      if (server.attachedDevices && server.attachedDevices.length) {\n        this.serverAttachedDevices = server.attachedDevices.map(deviceId => {\n          const device = this.devicesList.find(d => d.id === deviceId);\n          return device || { id: deviceId, name: 'Unknown Device' };\n        });\n      }\n      \n      this.showServerDetailsModal = true;\n    },\n    \n    // Close server details modal\n    closeServerDetails() {\n      this.showServerDetailsModal = false;\n      this.activeServer = null;\n      this.serverAttachedDevices = [];\n      this.visiblePasswords.clear(); // Clear visible passwords when closing modal\n    },\n    \n    // Reserve the active server\n    reserveActiveServer() {\n      if (this.activeServer) {\n        this.$router.push({\n          path: '/calendar',\n          query: { server: this.activeServer.name }\n        });\n        this.unifiedFilter = this.activeServer.name;\n        this.closeServerDetails();\n      }\n    },\n    \n    // Filter server properties to get \"additional\" fields\n    getAdditionalFields(server) {\n      if (!server) return {};\n\n      const basicFields = [\n        'id', 'name', 'cpuType', 'ip', 'owner', 'sudoUser', 'sudoUserPassword',\n        'status', 'location', 'attachedDevices', 'cpuFreq', 'memorySlots',\n        'dimmType', 'numDimms', 'bmcIp', 'bmcUser', 'bmcPassword', 'ubuntuVersion'\n      ];\n\n      return Object.fromEntries(\n        Object.entries(server).filter(([key, value]) =>\n          !basicFields.includes(key) &&\n          value !== null &&\n          value !== undefined &&\n          value !== '' &&\n          !(Array.isArray(value) && value.length === 0) &&\n          !key.toLowerCase().includes('transfer')\n        )\n      );\n    },\n    // Helper function to determine CPU type group priority\n    getCpuTypeGroupIndex(cpuType) {\n      if (!cpuType) return 999; // Default/unknown goes last\n      \n      const cpuLower = cpuType.toLowerCase();\n      \n      // Green group - highest priority (0)\n      if (cpuLower.includes('spr') || cpuLower.includes('emr') || cpuLower.includes('gnr')) {\n        return 0;\n      }\n      \n      // Blue group - second priority (1)\n      if (cpuLower.includes('skx') || cpuLower.includes('icx') || cpuLower.includes('skl')) {\n        return 1;\n      }\n      \n      // Purple group - third priority (2)\n      if (cpuLower.includes('epyc')) {\n        return 2;\n      }\n      \n      // Orange group - fourth priority (3)\n      if (cpuLower.includes('hsw') || cpuLower.includes('bdw') || \n          cpuLower.includes('haswell') || cpuLower.includes('broadwell')) {\n        return 3;\n      }\n      \n      // Default case - lowest priority\n      return 4;\n    },\n    // Check if a server is in the favorites list\n    isServerFavorite(serverId) {\n      return this.favoriteServers.has(serverId);\n    },\n    \n    // Load favorites from Firestore\n    async loadFavorites() {\n      if (!this.currentUserEmail) return;\n      \n      try {\n        const usersRef = collection(firestore, 'authorizedUsers');\n        const q = query(usersRef, where(\"email\", \"==\", this.currentUserEmail));\n        \n        onSnapshot(q, (snapshot) => {\n          if (!snapshot.empty) {\n            const userDoc = snapshot.docs[0];\n            this.userDocId = userDoc.id;\n            \n            const userData = userDoc.data();\n            if (userData && userData.favorite_servers) {\n              this.favoriteServers = new Set(userData.favorite_servers);\n            } else {\n              this.favoriteServers = new Set();\n            }\n          }\n        });\n      } catch (error) {\n        console.error('Error loading favorites:', error);\n      }\n    },\n    \n  },\n  watch: {\n    startDateInput() {\n      this.startTimeChoices;\n      this.endTimeChoices;\n    },\n    startTimeInput() {\n      this.startTimeChoices;\n      this.endTimeChoices;\n    },\n    endDateInput() {\n      this.startTimeChoices;\n      this.endTimeChoices;\n    },\n    endTimeInput() {\n      this.startTimeChoices;\n      this.endTimeChoices;\n    },\n    'editingReservation.startDate'() {\n      if (this.editingReservation) this.validateEditTimes();\n    },\n    'editingReservation.startTime'() {\n      if (this.editingReservation) this.validateEditTimes();\n    },\n    'editingReservation.endDate'() {\n      if (this.editingReservation) this.validateEditTimes();\n    },\n    'editingReservation.endTime'() {\n      if (this.editingReservation) this.validateEditTimes();\n    },\n    showEditModal(val) {\n      if (val && this.editingReservation) {\n        this.$nextTick(() => {\n          this.validateEditTimes();\n        });\n      }\n    },\n    // Updated watcher to handle both server and device filters from URL and\n    // apply them to the unified filter\n    '$route.query'(newQuery) {\n      if (newQuery.server) {\n        this.unifiedFilter = newQuery.server;\n        this.selectedViewType = 'server'; \n      } else if (newQuery.device) {\n        this.unifiedFilter = newQuery.device;\n      }\n    }\n  },\n  mounted(){\n    // Clean up old cache entries on app startup\n    dailyCache.cleanupOldCache()\n    \n    // Load favorites if user is already authenticated\n    if (this.currentUserEmail) {\n      this.loadFavorites();\n    }\n  },\n  created(){\n    this.weekStart=new Date()\n    this.loadServers()\n    this.loadReservations()\n    this.loadDevices().then(() => {\n      // Check for server or device filter in URL query parameters\n      const serverName = this.$route.query.server;\n      const deviceName = this.$route.query.device;\n      \n      if (serverName) {\n        this.unifiedFilter = serverName;\n      } else if (deviceName) {\n        this.unifiedFilter = deviceName;\n      }\n    });\n    \n    \n    // Load favorites when user is authenticated\n    auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        this.userRole = await getUserRole();\n        this.loadFavorites(); // Load favorites when authenticated\n      } else {\n        this.userRole = 'guest';\n        this.favoriteServers = new Set(); // Clear favorites when logged out\n      }\n    });\n  },\n  beforeUnmount() {\n    if (this.customDragActive) {\n      window.removeEventListener('mousemove', this.handleCustomDragMove);\n      window.removeEventListener('mouseup', this.handleCustomDragEnd);\n      if (this.dragAnimationFrame) {\n        cancelAnimationFrame(this.dragAnimationFrame);\n      }\n    }\n    \n    // Clean up Firebase listeners to prevent memory leaks\n    if (this.unsubscribeReservations) {\n      this.unsubscribeReservations();\n    }\n  }\n}\n</script>\n \n\n","import { render } from \"./ReservationCalendar.vue?vue&type=template&id=6c62afee\"\nimport script from \"./ReservationCalendar.vue?vue&type=script&lang=js\"\nexport * from \"./ReservationCalendar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","xmlns","viewBox","width","height","_createElementVNode","_hoisted_1","_createVNode","_component_router_link","to","title","_cache","fill","stroke","d","points","_hoisted_2","_hoisted_3","_hoisted_4","onClick","$event","$options","moveWeek","_hoisted_5","_toDisplayString","formatWeekRange","$data","weekStart","_hoisted_6","_hoisted_7","for","id","unifiedFilter","placeholder","currentUserEmail","_createElementBlock","showOnlyFavorites","_normalizeClass","_hoisted_9","clearAllFilters","_hoisted_11","filteredServers","length","serversList","_hoisted_12","_Fragment","_renderList","serverWeekDays","dayObj","key","date","today","isSameDay","Date","_hoisted_13","_hoisted_14","formatDayHeader","_hoisted_15","axisTimes","hour","formatAxisHour","_hoisted_16","_hoisted_17","srv","showServerDetails","_hoisted_19","getStatusColor","status","name","_hoisted_20","style","_normalizeStyle","currentTimeArrowStyle","rowHeight","onMousedown","handleTimelineContainerMousedown","_ctx","index","serverIndex","top","_withModifiers","handleReservationContainerMousedown","onDragover","handleDragOver","onDrop","toISOString","getReservationsForServerAndDay","res","getUrgencyColorClass","urgency","isMyReservation","draggable","startCustomDrag","getReservationStyle","_hoisted_25","username","dragCreation","active","day","server","getDragPreviewStyle","draggedReservation","isDraggingOver","getDragGridPreviewStyle","currentTimeLineStyle","customDragActive","customDragPreviewStyle","args","openReservationForm","showReservationForm","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","newReservation","required","value","disabled","sortedServersList","_hoisted_30","_hoisted_31","_hoisted_32","currentUsername","type","_hoisted_33","_hoisted_34","_hoisted_35","startDateInput","onChange","validateTimes","startDateChoices","choice","label","_hoisted_36","_hoisted_37","startTimeInput","startTimeChoices","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","endDateInput","endDateChoices","_hoisted_42","_hoisted_43","endTimeInput","endTimeChoices","_hoisted_44","_hoisted_45","note","_hoisted_46","confirmReservation","cancelReservation","showEditModal","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","editingReservation","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","startDate","validateEditTimes","editStartDateChoices","_hoisted_57","_hoisted_58","startTime","editStartTimeChoices","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","endDate","editEndDateChoices","_hoisted_63","_hoisted_64","endTime","editEndTimeChoices","_hoisted_65","_hoisted_66","_hoisted_67","confirmUpdate","cancelEdit","confirmDelete","showViewModal","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","viewingReservation","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","closeViewModal","showServerDetailsModal","closeServerDetails","_hoisted_84","_hoisted_85","activeServer","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","cpuType","_hoisted_91","_hoisted_92","formatIp","ip","_hoisted_93","_hoisted_94","owner","_hoisted_95","_hoisted_96","formatStatus","location","_hoisted_97","_hoisted_98","sudoUser","_hoisted_99","_hoisted_100","sudoUserPassword","hasViewPermissions","_hoisted_101","_hoisted_102","isPasswordVisible","togglePasswordVisibility","cx","cy","r","bmcIp","_hoisted_104","_hoisted_105","parseBmcIps","href","target","rel","_hoisted_106","bmcUser","_hoisted_107","_hoisted_108","bmcPassword","_hoisted_109","_hoisted_110","ubuntuVersion","_hoisted_112","_hoisted_113","serverAttachedDevices","_hoisted_114","_hoisted_115","device","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","cpuFreq","_hoisted_120","_hoisted_121","memorySlots","_hoisted_122","_hoisted_123","dimmType","_hoisted_124","_hoisted_125","numDimms","_hoisted_126","reserveActiveServer","components","data","allReservations","reservationsCollection","serverFilter","unsubscribeReservations","start","end","startDateOffset","startTimeOffset","endDateOffset","endTimeOffset","startX","currentX","containerLeft","containerWidth","previewLeft","previewWidth","draggedOriginalServer","dragPreviewPosition","left","customDragReservation","customDragStartServer","customDragCurrentServer","customDragDay","customDragInitialOffset","customDragWidth","customDragInitialRect","customDragStartTime","isDragging","dragStartX","dragStartY","dragThreshold","deviceFilter","favoriteServers","Set","userDocId","visiblePasswords","computed","auth","currentUser","email","this","split","result","filter","isServerFavorite","toLowerCase","includes","attachedDevices","devicesList","some","deviceId","find","attachedServer","sort","a","b","groupA","getCpuTypeGroupIndex","groupB","nameA","nameB","localeCompare","days","i","setDate","getDate","push","Array","from","_","genDateChoices","st","parseDateTime","en","arr","cur","getTime","formatHhMmAmPm","endRange","hasAdditionalProperties","Object","keys","getAdditionalFields","methods","checkConflictEfficient","serverName","newStart","newEnd","newUrgency","excludeId","conflictQuery","query","where","orderBy","snapshot","getDocs","potentialConflicts","docs","map","doc","console","log","ev","evStart","evEnd","existingUrg","newUrg","error","checkConflictMemory","sameServerEvents","createReservationSafe","reservationData","runTransaction","firestore","async","conflictSnapshot","conflicts","conflict","conflictStart","conflictEnd","conflictUrgency","Error","newDocRef","collection","transaction","set","toLocalOffsetISOString","offsetMin","getTimezoneOffset","sign","absolute","Math","abs","offsetHours","floor","offsetMins","pad","n","toString","padStart","year","getFullYear","month","getMonth","getHours","minute","getMinutes","second","getSeconds","offH","offM","h","toLocaleTimeString","hour12","formatMmmDdYyyy","toLocaleDateString","weekday","monthDay","addDays","startMonth","endMonth","startDay","endDay","startYear","endYear","getTimeIndicatorStyle","dayDate","now","hours","leftPercent","position","borderLeft","borderRight","borderTop","bottom","background","zIndex","boxShadow","dt","d1","d2","offset","newDate","reloadReservations","loadReservations","snapHoursTo00_15_30_45","totalMinutes","round","minutes","dateS","timeS","dateObj","timeParts","trim","time","period","Number","isNaN","upperPeriod","toUpperCase","setHours","err","inputStr","base","dd","validateDateTimes","valid","message","warn","alert","$forceUpdate","updateReservation","evt","directUpdate","docRef","updateData","undefined","updateDoc","updateReservationSilent","saveReservation","isNew","validation","originalTitle","reservationDoc","newReservationId","code","stack","JSON","stringify","getOwnPropertyNames","prefillDateTimeInputs","applyDateOffsetForDate","val","which","parseInt","genTimeChoices","m","setMinutes","applyTimeOffset","offsetM","newLabel","confirm","deleteDoc","promptChangePeriod","ns","prompt","ne","loadServers","dailyCache","loadData","weekEnd","extendedStart","reservationsQuery","onSnapshot","snap","rawReservations","classNames","className","reservation","resStart","resEnd","getDay","cleanupOldReservations","threeMonthsAgo","setMonth","oldReservations","reservationEnd","reservationRef","snappedHours","snappedDate","rs","re","dayStart","dayEnd","ds","de","effS","effE","sh","eh","leftP","wP","originalStart","originalEnd","viewingDay","toDateString","effectiveStart","effectiveEnd","startHour","endHour","widthPercent","handleReservationClick","$nextTick","e","closest","preventDefault","startDragCreation","rect","currentTarget","getBoundingClientRect","clientX","window","addEventListener","onDragCreationMove","onDragCreationEnd","pointerX","initialX","startFrac","endFrac","hoursStart","hoursEnd","newStartPx","newEndPx","snappedLeftPx","min","snappedRightPx","max","snappedWidth","snappedStartPx","snappedEndPx","removeEventListener","rawStartPx","rawEndPx","px","fraction","hs","he","finalS","finalE","duration","findIndex","s","os","oe","dur","updatedTitle","updated","stopPropagation","reservationElement","clientY","border","pointerEvents","borderRadius","display","transition","handleCustomDragMove","handleCustomDragEnd","lastMouseX","lastMouseY","deltaX","deltaY","daySections","document","querySelectorAll","targetTimeline","targetDay","targetServer","minDistance","Infinity","forEach","daySection","dayIndex","timelineElement","querySelector","timelineRect","right","relativeY","serverRowTop","serverRowBottom","distanceToRow","relativeX","newLeft","newTop","newWidth","dragDistance","sqrt","pow","dayContainers","timelineContainer","significantMove","formatTimeRange","serverHasAttachedDeviceMatchingFilter","loadDevices","lowerUrgency","$route","$router","replace","path","isArray","join","charAt","slice","formatFieldName","str","has","delete","add","setTimeout","isAdmin","isUser","clear","basicFields","fromEntries","entries","cpuLower","serverId","loadFavorites","usersRef","q","empty","userDoc","userData","favorite_servers","watch","newQuery","selectedViewType","mounted","cleanupOldCache","created","then","deviceName","onAuthStateChanged","user","userRole","getUserRole","beforeUnmount","dragAnimationFrame","cancelAnimationFrame","__exports__","render"],"sourceRoot":""}